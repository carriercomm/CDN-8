(itiny2_modified_5
CachedResponse
p0
(dp1
S'softspace'
p2
I0
sS'buflist'
p3
(lp4
sS'url'
p5
S'http://qsc.is.quoracdn.net/-1a3a93187ce94335.js'
p6
sS'pos'
p7
I0
sS'len'
p8
I366144
sS'headers'
p9
(ihttplib
HTTPMessage
p10
(dp11
S'fp'
p12
NsS'status'
p13
S''
p14
sS'startofbody'
p15
NsS'startofheaders'
p16
NsS'subtype'
p17
S'javascript'
p18
sS'type'
p19
S'text/javascript'
p20
sS'maintype'
p21
S'text'
p22
sg9
(lp23
S'Content-Type: text/javascript;charset=utf-8\r\n'
p24
aS'Content-Length: 366144\r\n'
p25
aS'Connection: close\r\n'
p26
aS'Accept-Ranges: bytes\r\n'
p27
aS'x-amz-id-2: k3eEmWwieRc9mA28QF38/YbxH8GG43BpkpFC4sn7LwkQDFPUIeCxZhZ7fzWgHg0w\n'
p28
aS'x-instart-request-id: 282115075923243407:OBZ02-NPPRY01:1399882787:34\n'
p29
aS'expires: Sun, 17 Jan 2038 19:14:07 GMT\n'
p30
aS'x-instart-cache-id: 7717170143616704605\n'
p31
aS'last-modified: Sat, 10 May 2014 01:38:29 GMT\n'
p32
aS'x-amz-request-id: 91F6BDCB4E9D20A7\n'
p33
aS'etag: "f3b3a4ba1028096ed1699b8c98e623cb"\n'
p34
aS'cache-control: public, max-age=315360000\n'
p35
aS'date: Sat, 10 May 2014 02:54:26 GMT\n'
p36
aS'server: AmazonS3\n'
p37
aS'x-urllib2-cache: Stored\n'
p38
asS'dict'
p39
(dp40
S'content-length'
p41
S'366144'
p42
sS'x-urllib2-cache'
p43
S'Stored'
p44
sS'x-amz-id-2'
p45
S'k3eEmWwieRc9mA28QF38/YbxH8GG43BpkpFC4sn7LwkQDFPUIeCxZhZ7fzWgHg0w'
p46
sS'accept-ranges'
p47
S'bytes'
p48
sS'expires'
p49
S'Sun, 17 Jan 2038 19:14:07 GMT'
p50
sS'x-instart-cache-id'
p51
S'7717170143616704605'
p52
sS'last-modified'
p53
S'Sat, 10 May 2014 01:38:29 GMT'
p54
sS'connection'
p55
S'close'
p56
sS'x-amz-request-id'
p57
S'91F6BDCB4E9D20A7'
p58
sS'etag'
p59
S'"f3b3a4ba1028096ed1699b8c98e623cb"'
p60
sS'cache-control'
p61
S'public, max-age=315360000'
p62
sS'date'
p63
S'Sat, 10 May 2014 02:54:26 GMT'
p64
sS'server'
p65
S'AmazonS3'
p66
sS'content-type'
p67
S'text/javascript;charset=utf-8'
p68
sS'x-instart-request-id'
p69
S'282115075923243407:OBZ02-NPPRY01:1399882787:34'
p70
ssS'typeheader'
p71
g68
sS'encodingheader'
p72
NsS'seekable'
p73
I0
sS'unixfrom'
p74
g14
sS'plisttext'
p75
S';charset=utf-8'
p76
sS'plist'
p77
(lp78
S'charset=utf-8'
p79
asbsS'code'
p80
I200
sS'closed'
p81
I00
sS'msg'
p82
S'OK'
p83
sS'buf'
p84
S'/*\nName: main-pre1.js\nURL: http://qsf.cf.quoracdn.net/-1a3a93187ce94335.js\nGenerated: 1399685902268019\nFiles: /jquery.js, /json2.js, /assert.js, /jquery.securepost.js, /jquery.cookie.js, /cookies.js, /scribe.js, /visibility.js, /lang/fun.js, /Class.js, /jquery.dialog.js, /jquery.tooltip.js, /jquery.menu.js, /jquery.topic.js, /jquery.viewport.js, /jquery.ajax.js, /effects.core.js, /effects.shake.js, /effects.highlight.js, /atexit.js, /tchannel_up.js, /jquery.webnode2.js, /jquery.quora.js, /polyfills/requestAnimationFrame.js, /w2.dialog.js, /w2.inputvalidate.js, /w2.interaction.js, /jquery.ui-1.8.17.js, /swfobject.js, /qed/modifiers.js, /qed/nodestate.js, /qed/rules.js, /qed/sanitize.js, /qed/npd.js, /qed/selection.js, /qed/snapshot.js, /qed/history.js, /qed/trie.js, /qed/snippets.js, /qed/edit.js, /linkify.js, /find.js, /mathify.js, /view/floating_voting_buttons.js, /dialog.js, /frame_busting.js, /siteuri.js, /simscroll.js, /html.js, /flash.js, /presence.js, /query_eval.js, /mobile_ride_along.js, /app/view/share/connect.js, /app/view/settings.js, /lang/arr.js, /sticky.js, /view/embed.js, /view/placepicker.js, /app/view/common.js, /app/view/review_queue.js, /app/view/board/create_box.js, /app/view/board/follow_invite.js, /app/view/signup/banner.js, /app/view/signup/google_.js, /app/view/post.js, /app/view/quote.js, /app/view/content_views.js, /app/view/funnel.js, /app/view/moderation/flag.js, /app/view/search_debug.js, /main-pre1.js\n*/\nrec(\'package\', \'Start\', \'main-pre1.js\');require.install("jquery",function(require,a,b){var c=function(a,undefined){function i(a){var b=h[a]={},c,d;a=a.split(/\\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function m(a,b,c){if(c===undefined&&a.nodeType===1){var d="data-"+b.replace(l,"-$1").toLowerCase();c=a.getAttribute(d);if(typeof c=="string"){try{c=c==="true"?!0:c==="false"?!1:c==="null"?null:f.isNumeric(c)?parseFloat(c):k.test(c)?f.parseJSON(c):c}catch(e){}f.data(a,b,c)}else c=undefined}return c}function n(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function o(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function N(){return!1}function O(){return!0}function W(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function X(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(S.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function Y(a){var b=Z.split(" "),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function mb(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function nb(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}function ob(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function pb(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function qb(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function rb(a){var b=(a.nodeName||"").toLowerCase();b==="input"?qb(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),qb)}function sb(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(jb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function Fb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?Ab:Bb;if(d>0)return c!=="border"&&f.each(e,function(){c||(d-=parseFloat(f.css(a,"padding"+this))||0),c==="margin"?d+=parseFloat(f.css(a,c+this))||0:d-=parseFloat(f.css(a,"border"+this+"Width"))||0}),d+"px";d=Cb(a,b,b);if(d<0||d==null)d=a.style[b]||0;return d=parseFloat(d)||0,c&&f.each(e,function(){d+=parseFloat(f.css(a,"padding"+this))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+this+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+this))||0)}),d+"px"}function ac(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(Sb),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bc(a,b,c,d,e,f){e=e||b.dataTypes[0],f=f||{},f[e]=!0;var g=a[e],h=0,i=g?g.length:0,j=a===Wb,k;for(;h<i&&(j||!k);h++)k=g[h](b,c,d),typeof k=="string"&&(!j||f[k]?k=undefined:(b.dataTypes.unshift(k),k=bc(a,b,c,d,k,f)));return(j||!k)&&!f["*"]&&(k=bc(a,b,c,d,"*",f)),k}function cc(a,b){var c,d,e=f.ajaxSettings.flatOptions||{};for(c in b)b[c]!==undefined&&((e[c]?a:d||(d={}))[c]=b[c]);d&&f.extend(!0,a,d)}function dc(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||Hb.test(a)?d(a,e):dc(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)dc(a+"["+e+"]",b[e],c,d);else d(a,b)}function ec(a,b,c){var d=a.contents,e=a.dataTypes,f=a.responseFields,g,h,i,j;for(h in f)h in c&&(b[f[h]]=c[h]);while(e[0]==="*")e.shift(),g===undefined&&(g=a.mimeType||b.getResponseHeader("content-type"));if(g)for(h in d)if(d[h]&&d[h].test(g)){e.unshift(h);break}if(e[0]in c)i=e[0];else{for(h in c){if(!e[0]||a.converters[h+" "+e[0]]){i=h;break}j||(j=h)}i=i||j}if(i)return i!==e[0]&&e.unshift(i),c[i]}function fc(a,b){a.dataFilter&&(b=a.dataFilter(b,a.dataType));var c=a.dataTypes,d={},e,g,h=c.length,i,j=c[0],k,l,m,n,o;for(e=1;e<h;e++){if(e===1)for(g in a.converters)typeof g=="string"&&(d[g.toLowerCase()]=a.converters[g]);k=j,j=c[e];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=d[l]||d["* "+j];if(!m){o=undefined;for(n in d){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=d[i[1]+" "+j];if(o){n=d[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&f.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(b=m?m(b):o(n(b)))}}return b}function lc(){try{return new a.XMLHttpRequest}catch(b){}}function mc(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function vc(){return setTimeout(wc,0),uc=f.now()}function wc(){uc=undefined}function xc(a,b){var c={};return f.each(tc.concat.apply([],tc.slice(0,b)),function(){c[this]=a}),c}function yc(a){if(!nc[a]){var c=b.body,d=f("<"+a+">").appendTo(c),e=d.css("display");d.remove();if(e==="none"||e===""){oc||(oc=b.createElement("iframe"),oc.frameBorder=oc.width=oc.height=0),c.appendChild(oc);if(!pc||!oc.createElement)pc=(oc.contentWindow||oc.contentDocument).document,pc.write((b.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),pc.close();d=pc.createElement(a),pc.body.appendChild(d),e=f.css(d,"display"),c.removeChild(oc)}nc[a]=e}return nc[a]}function Bc(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var b=a.document,d=a.navigator,e=a.location,f,g=function(){function J(){if(c.isReady)return;try{b.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}c.ready()}var c=function(a,b){return new c.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,i=/\\S/,j=/^\\s+/,k=/\\s+$/,l=/\\d/,m=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,n=/^[\\],:{}\\s]*$/,o=/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,q=/(?:^|:|,)(?:\\s*\\[)+/g,r=/(webkit)[ \\/]([\\w.]+)/,s=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,t=/(msie) ([\\w.]+)/,u=/(mozilla)(?:.*? rv:([\\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return c.fn=c.prototype={constructor:c,init:function(a,d,e){var f,g,i,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&b.body)return this.context=b,this[0]=b.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=h.exec(a);if(f&&(f[1]||!d)){if(f[1])return d=d instanceof c?d[0]:d,j=d?d.ownerDocument||d:b,i=m.exec(a),i?c.isPlainObject(d)?(a=[b.createElement(i[1])],c.fn.attr.call(a,d,!0)):a=[j.createElement(i[1])]:(i=c.buildFragment([f[1]],[j]),a=(i.cacheable?c.clone(i.fragment):i.fragment).childNodes),c.merge(this,a);g=b.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=b,this.selector=a,this}return!d||d.jquery?(d||e).find(a):this.constructor(d).find(a)}return c.isFunction(a)?e.ready(a):(a.selector!==undefined&&(this.selector=a.selector,this.context=a.context),c.makeArray(a,this))},selector:"",jquery:"1.7",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,d){var e=this.constructor();return c.isArray(a)?E.apply(e,a):c.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+d:b&&(e.selector=this.selector+"."+b+"("+d+")"),e},each:function(a,b){return c.each(this,a,b)},ready:function(a){return c.bindReady(),A.add(a),this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},c.fn.init.prototype=c.fn,c.extend=c.fn.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!c.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(b in a){d=h[b],e=a[b];if(h===e)continue;k&&e&&(c.isPlainObject(e)||(f=c.isArray(e)))?(f?(f=!1,g=d&&c.isArray(d)?d:[]):g=d&&c.isPlainObject(d)?d:{},h[b]=c.extend(k,g,e)):e!==undefined&&(h[b]=e)}return h},c.extend({noConflict:function(b){return a.$===c&&(a.$=f),b&&a.jQuery===c&&(a.jQuery=e),c},isReady:!1,readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(a===!0&&!--c.readyWait||a!==!0&&!c.isReady){if(!b.body)return setTimeout(c.ready,1);c.isReady=!0;if(a!==!0&&--c.readyWait>0)return;A.fireWith(b,[c]),c.fn.trigger&&c(b).trigger("ready").unbind("ready")}},bindReady:function(){if(A)return;A=c.Callbacks("once memory");if(b.readyState==="complete")return setTimeout(c.ready,1);if(b.addEventListener)b.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",c.ready,!1);else if(b.attachEvent){b.attachEvent("onreadystatechange",B),a.attachEvent("onload",c.ready);var d=!1;try{d=a.frameElement==null}catch(e){}b.documentElement.doScroll&&d&&J()}},isFunction:function(a){return c.type(a)==="function"},isArray:Array.isArray||function(a){return c.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return a!=null&&l.test(a)&&!isNaN(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||c.type(a)!=="object"||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var d;for(d in a);return d===undefined||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=c.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();c.error("Invalid JSON: "+b)},parseXML:function(b){var d,e;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(f){d=undefined}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+b),d},noop:function(){},globalEval:function(b){b&&i.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,b,d){var e,f=0,g=a.length,h=g===undefined||c.isFunction(a);if(d){if(h){for(e in a)if(b.apply(a[e],d)===!1)break}else for(;f<g;)if(b.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(b.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(b.call(a[f],f,a[f++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":a.toString().replace(j,"").replace(k,"")},makeArray:function(a,b){var d=b||[];if(a!=null){var e=c.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||c.isWindow(a)?E.call(d,a):c.merge(d,a)}return d},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=a.length,d=0;if(typeof b.length=="number")for(var e=b.length;d<e;d++)a[c++]=b[d];else while(b[d]!==undefined)a[c++]=b[d++];return a.length=c,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,d){var e,f,g=[],h=0,i=a.length,j=a instanceof c||i!==undefined&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||c.isArray(a));if(j)for(;h<i;h++)e=b(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=b(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,b){if(typeof b=="string"){var d=a[b];b=a,a=d}if(!c.isFunction(a))return undefined;var e=F.call(arguments,2),f=function(){return a.apply(b,e.concat(F.call(arguments)))};return f.guid=a.guid=a.guid||f.guid||c.guid++,f},access:function(a,b,d,e,f,g){var h=a.length;if(typeof b=="object"){for(var i in b)c.access(a,i,b[i],e,f,d);return a}if(d!==undefined){e=!g&&e&&c.isFunction(d);for(var j=0;j<h;j++)f(a[j],b,e?d.call(a[j],j,f(a[j],b)):d,g);return a}return h?f(a[0],b):undefined},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}c.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(e,f){return f&&f instanceof c&&!(f instanceof a)&&(f=a(f)),c.fn.init.call(this,e,f,d)},a.fn.init.prototype=a.fn;var d=a(b);return a},browser:{}}),c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=c.uaMatch(y),z.browser&&(c.browser[z.browser]=!0,c.browser.version=z.version),c.browser.webkit&&(c.browser.safari=!0),i.test("\xc2\xa0")&&(j=/^[\\s\\xA0]+/,k=/[\\s\\xA0]+$/),g=c(b),b.addEventListener?B=function(){b.removeEventListener("DOMContentLoaded",B,!1),c.ready()}:b.attachEvent&&(B=function(){b.readyState==="complete"&&(b.detachEvent("onreadystatechange",B),c.ready())}),typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return c}),c};if(a.$&&a.$.loader&&a.$.loader.data)a.log&&a.log.enabled&&a.log("jquery.loader","Replacing slim jQuery instance with the real one."),f=a.$,f.loaded=function(a){a()};else{if(a.lazyJQuery){a.log&&a.log.enabled&&a.log("jquery.loader","Loading slim jQuery instance."),f=g(),f.loader=c,f.loader.data={loadedCallbacks:[]},f.loaded=function(a){f.loader.data.loadedCallbacks.push(a)},a.jQuery=a.$=f;return}a.log&&a.log.enabled&&a.log("jquery.loader","Loading full jQuery instance."),f=g()}var h={};f.Callbacks=function(a){a=a?h[a]||i(a):{};var b=[],c=[],d,e,g,j,k,l=function(c){var d,e,g,h,i;for(d=0,e=c.length;d<e;d++)g=c[d],h=f.type(g),h==="array"?l(g):h==="function"&&(!a.unique||!n.has(g))&&b.push(g)},m=function(f,h){h=h||[],d=!a.memory||[f,h],e=!0,k=g||0,g=0,j=b.length;for(;b&&k<j;k++)if(b[k].apply(f,h)===!1&&a.stopOnFalse){d=!0;break}e=!1,b&&(a.once?d===!0?n.disable():b=[]:c&&c.length&&(d=c.shift(),n.fireWith(d[0],d[1])))},n={add:function(){if(b){var a=b.length;l(arguments),e?j=b.length:d&&d!==!0&&(g=a,m(d[0],d[1]))}return this},remove:function(){if(b){var c=arguments,d=0,f=c.length;for(;d<f;d++)for(var g=0;g<b.length;g++)if(c[d]===b[g]){e&&g<=j&&(j--,g<=k&&k--),b.splice(g--,1);if(a.unique)break}}return this},has:function(a){if(b){var c=0,d=b.length;for(;c<d;c++)if(a===b[c])return!0}return!1},empty:function(){return b=[],this},disable:function(){return b=c=d=undefined,this},disabled:function(){return!b},lock:function(){return c=undefined,(!d||d===!0)&&n.disable(),this},locked:function(){return!c},fireWith:function(b,f){return c&&(e?a.once||c.push([b,f]):(!a.once||!d)&&m(b,f)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!d}};return n};var j=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments)},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function l(a){return function(c){b[a]=arguments.length>1?j.call(arguments,0):c,--g||i.resolveWith(i,b)}}function m(a){return function(b){e[a]=arguments.length>1?j.call(arguments,0):b,i.notifyWith(k,e)}}var b=j.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,h=d,i=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=i.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),i.reject,m(c)):--g;g||i.resolveWith(i,b)}else i!==a&&i.resolveWith(i,d?[a]:[]);return k}}),f.support=function(){var a=b.createElement("div"),c=b.documentElement,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a.setAttribute("className","t"),a.innerHTML="   <link/><table></table><a href=\'/a\' style=\'top:1px;float:left;opacity:.55;\'>a</a><input type=\'checkbox\'/><nav></nav>",d=a.getElementsByTagName("*"),e=a.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=b.createElement("select"),h=g.appendChild(b.createElement("option")),i=a.getElementsByTagName("input")[0],k={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,unknownElems:!!a.getElementsByTagName("nav").length,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:a.className!=="t",enctype:!!b.createElement("form").enctype,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,k.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,k.optDisabled=!h.disabled;try{delete a.test}catch(v){k.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){k.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick")),i=b.createElement("input"),i.value="t",i.setAttribute("type","radio"),k.radioValue=i.value==="t",i.setAttribute("checked","checked"),a.appendChild(i),l=b.createDocumentFragment(),l.appendChild(a.lastChild),k.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML="",a.style.width=a.style.paddingLeft="1px",m=b.getElementsByTagName("body")[0],o=b.createElement(m?"div":"body"),p={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},m&&f.extend(p,{position:"absolute",left:"-999px",top:"-999px"});for(t in p)o.style[t]=p[t];o.appendChild(a),n=m||c,n.insertBefore(o,n.firstChild),k.appendChecked=i.checked,k.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,k.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style=\'width:4px;\'></div>",k.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style=\'padding:0;border:0;display:none\'></td><td>t</td></tr></table>",q=a.getElementsByTagName("td"),u=q[0].offsetHeight===0,q[0].style.display="",q[1].style.display="none",k.reliableHiddenOffsets=u&&q[0].offsetHeight===0,a.innerHTML="",b.defaultView&&b.defaultView.getComputedStyle&&(j=b.createElement("div"),j.style.width="0",j.style.marginRight="0",a.appendChild(j),k.reliableMarginRight=(parseInt((b.defaultView.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(a.attachEvent)for(t in{submit:1,change:1,focusin:1})s="on"+t,u=s in a,u||(a.setAttribute(s,"return;"),u=typeof a[s]=="function"),k[t+"Bubbles"]=u;return f(function(){var a,c,d,e,g,h,i=1,j="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",n="style=\'"+j+"border:5px solid #000;padding:0;\'",p="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding=\'0\' cellspacing=\'0\'>"+"<tr><td></td></tr></table>";m=b.getElementsByTagName("body")[0];if(!m)return;a=b.createElement("div"),a.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+i+"px",m.insertBefore(a,m.firstChild),o=b.createElement("div"),o.style.cssText=j+l,o.innerHTML=p,a.appendChild(o),c=o.firstChild,d=c.firstChild,g=c.nextSibling.firstChild.firstChild,h={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:g.offsetTop===5},d.style.position="fixed",d.style.top="20px",h.fixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",h.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,h.doesNotIncludeMarginInBodyOffset=m.offsetTop!==i,m.removeChild(a),o=a=null,f.extend(k,h)}),o.innerHTML="",n.removeChild(o),o=l=g=h=m=j=a=i=null,k}(),f.boxModel=f.support.boxModel;var k=/^(?:\\{.*\\}|\\[.*\\])$/,l=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!n(a)},data:function(a,b,c,d){if(!f.acceptData(a))return;var e,g,h,i=f.expando,j=typeof b=="string",k=a.nodeType,l=k?f.cache:a,m=k?a[f.expando]:a[f.expando]&&f.expando,n=b==="events";if((!m||!l[m]||!n&&!d&&!l[m].data)&&j&&c===undefined)return;m||(k?a[f.expando]=m=++f.uuid:m=f.expando),l[m]||(l[m]={},k||(l[m].toJSON=f.noop));if(typeof b=="object"||typeof b=="function")d?l[m]=f.extend(l[m],b):l[m].data=f.extend(l[m].data,b);return e=g=l[m],d||(g.data||(g.data={}),g=g.data),c!==undefined&&(g[f.camelCase(b)]=c),n&&!g[b]?e.events:(j?(h=g[b],h==null&&(h=g[f.camelCase(b)])):h=g,h)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[f.expando]:f.expando;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)?b=b:b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" "));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?n:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!n(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[f.expando]:a.removeAttribute?a.removeAttribute(f.expando):a[f.expando]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,b){var c,d,e,g=null;if(typeof a=="undefined"){if(this.length){g=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){d=this[0].attributes;for(var h=0,i=d.length;h<i;h++)e=d[h].name,e.indexOf("data-")===0&&(e=f.camelCase(e.substring(5)),m(this[0],e,g[e]));f._data(this[0],"parsedAttrs",!0)}}return g}return typeof a=="object"?this.each(function(){f.data(this,a)}):(c=a.split("."),c[1]=c[1]?"."+c[1]:"",b===undefined?(g=this.triggerHandler("getData"+c[1]+"!",[c[0]]),g===undefined&&this.length&&(g=f.data(this[0],a),g=m(this[0],a,g)),g===undefined&&c[1]?this.data(c[0]):g):this.each(function(){var d=f(this),e=[c[0],b];d.triggerHandler("setData"+c[1]+"!",e),f.data(this,a,b),d.triggerHandler("changeData"+c[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),o(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),o(a,b,"queue"))}}),f.fn.extend({queue:function(a,b){return typeof a!="string"&&(b=a,a="fx"),b===undefined?f.queue(this[0],a):this.each(function(){var c=f.queue(this,a,b);a==="fx"&&c[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function l(){--g||c.resolveWith(d,[d])}typeof a!="string"&&(b=a,a=undefined),a=a||"fx";var c=f.Deferred(),d=this,e=d.length,g=1,h=a+"defer",i=a+"queue",j=a+"mark",k;while(e--)if(k=f.data(d[e],h,undefined,!0)||(f.data(d[e],i,undefined,!0)||f.data(d[e],j,undefined,!0))&&f.data(d[e],h,f.Callbacks("once memory"),!0))g++,k.add(l);return l(),c.promise()}});var p=/[\\n\\t\\r]/g,q=/\\s+/,r=/\\r/g,s=/^(?:button|input)$/i,t=/^(?:button|input|object|select|textarea)$/i,u=/^a(?:rea)?$/i,v=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=f.support.getSetAttribute,x,y,z;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=undefined,delete this[a]}catch(b){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===undefined){b=(a||"").split(q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1&&e.className)if(a){g=(" "+e.className+" ").replace(p," ");for(h=0,i=b.length;h<i;h++)g=g.replace(" "+b[h]+" "," ");e.className=f.trim(g)}else e.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(q);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(p," ").indexOf(b)>-1)return!0;return!1},val:function(a){var b,c,d,e=this[0];if(!arguments.length)return e?(b=f.valHooks[e.nodeName.toLowerCase()]||f.valHooks[e.type],b&&"get"in b&&(c=b.get(e,"value"))!==undefined?c:(c=e.value,typeof c=="string"?c.replace(r,""):c==null?"":c)):undefined;return d=f.isFunction(a),this.each(function(c){var e=f(this),g;if(this.nodeType!==1)return;d?g=a.call(this,c,e.val()):g=a,g==null?g="":typeof g=="number"?g+="":f.isArray(g)&&(g=f.map(g,function(a){return a==null?"":a+""})),b=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!b||!("set"in b)||b.set(this,g,"value")===undefined)this.value=g})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,b,c,d){var e,g,h,i=a.nodeType;return!a||i===3||i===8||i===2?undefined:d&&b in f.attrFn?f(a)[b](c):"getAttribute"in a?(h=i!==1||!f.isXMLDoc(a),h&&(b=b.toLowerCase(),g=f.attrHooks[b]||(v.test(b)?y:x)),c!==undefined?c===null?(f.removeAttr(a,b),undefined):g&&"set"in g&&h&&(e=g.set(a,c,b))!==undefined?e:(a.setAttribute(b,""+c),c):g&&"get"in g&&h&&(e=g.get(a,b))!==null?e:(e=a.getAttribute(b),e===null?undefined:e)):f.prop(a,b,c)},removeAttr:function(a,b){var c,d,e,g,h=0;if(a.nodeType===1){d=(b||"").split(q),g=d.length;for(;h<g;h++)e=d[h].toLowerCase(),c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(w?e:c),v.test(e)&&c in a&&(a[c]=!1)}},attrHooks:{type:{set:function(a,b){if(s.test(a.nodeName)&&a.parentNode)f.error("type property can\'t be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return x&&f.nodeName(a,"button")?x.get(a,b):b in a?a.value:null},set:function(a,b,c){if(x&&f.nodeName(a,"button"))return x.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,c){var d,e,g,h=a.nodeType;return!a||h===3||h===8||h===2?undefined:(g=h!==1||!f.isXMLDoc(a),g&&(b=f.propFix[b]||b,e=f.propHooks[b]),c!==undefined?e&&"set"in e&&(d=e.set(a,c,b))!==undefined?d:a[b]=c:e&&"get"in e&&(d=e.get(a,b))!==null?d:a[b])},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):t.test(a.nodeName)||u.test(a.nodeName)&&a.href?0:undefined}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,y={get:function(a,b){var c,d=f.prop(a,b);return d===!0||typeof d!="boolean"&&(c=a.getAttributeNode(b))&&c.nodeValue!==!1?b.toLowerCase():undefined},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},w||(z={name:!0,id:!0},x=f.valHooks.button={get:function(a,b){var c;return c=a.getAttributeNode(b),c&&(z[b]?c.nodeValue!=="":c.specified)?c.nodeValue:undefined},set:function(a,c,d){var e=a.getAttributeNode(d);return e||(e=b.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=c+""}},f.attrHooks.tabindex.set=x.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:x.get,set:function(a,b,c){b===""&&(b="false"),x.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{get:function(a){var c=a.getAttribute(b,2);return c===null?undefined:c}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||undefined},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on"\n:a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var A=/\\.(.*)$/,B=/^(?:textarea|input|select)$/i,C=/\\./g,D=/ /g,E=/[^\\w\\s.|`]/g,F=/^([^\\.]*)?(?:\\.(.+))?$/,G=/\\bhover(\\.\\S+)?/,H=/^key/,I=/^(?:mouse|contextmenu)|click/,J=/^(\\w*)(?:#([\\w\\-]+))?(?:\\.([\\w\\-]+))?$/,K=function(a){var b=J.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\\\s)"+b[3]+"(?:\\\\s|$)")),b},L=function(a,b){return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||a.id===b[2])&&(!b[3]||b[3].test(a.className))},M=function(a){return f.event.special.hover?a:a.replace(G,"mouseenter$1 mouseleave$1")};f.event={add:function(a,b,c,d,e){var g,h,i,j,k,l,m,n,o,p,q,r;if(a.nodeType===3||a.nodeType===8||!b||!c||!(g=f._data(a)))return;c.handler&&(o=c,c=o.handler),c.guid||(c.guid=f.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?undefined:f.event.dispatch.apply(h.elem,arguments)},h.elem=a),b=M(b).split(" ");for(j=0;j<b.length;j++){k=F.exec(b[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=f.event.special[l]||{},l=(e?r.delegateType:r.bindType)||l,r=f.event.special[l]||{},n=f.extend({type:l,origType:k[1],data:d,handler:c,guid:c.guid,selector:e,namespace:m.join(".")},o),e&&(n.quick=K(e),!n.quick&&f.expr.match.POS.test(e)&&(n.isPositional=!0)),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,d,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=c.guid)),e?q.splice(q.delegateCount++,0,n):q.push(n),f.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d){var e=f.hasData(a)&&f._data(a),g,h,i,j,k,l,m,n,o,p,q;if(!e||!(m=e.events))return;b=M(b||"").split(" ");for(g=0;g<b.length;g++){h=F.exec(b[g])||[],i=h[1],j=h[2];if(!i){j=j?"."+j:"";for(l in m)f.event.remove(a,l+j,c,d);return}n=f.event.special[i]||{},i=(d?n.delegateType:n.bindType)||i,p=m[i]||[],k=p.length,j=j?new RegExp("(^|\\\\.)"+j.split(".").sort().join("\\\\.(?:.*\\\\.)?")+"(\\\\.|$)"):null;if(c||j||d||n.remove)for(l=0;l<p.length;l++){q=p[l];if(!c||c.guid===q.guid)if(!j||j.test(q.namespace))if(!d||d===q.selector||d==="**"&&q.selector)p.splice(l--,1),q.selector&&p.delegateCount--,n.remove&&n.remove.call(a,q)}else p.length=0;p.length===0&&k!==p.length&&((!n.teardown||n.teardown.call(a,j)===!1)&&f.removeEvent(a,i,e.handle),delete m[i])}f.isEmptyObject(m)&&(o=e.handle,o&&(o.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,c,d,e){if(!d||d.nodeType!==3&&d.nodeType!==8){var g=b.type||b,h=[],i,j,k,l,m,n,o,p,q,r;g.indexOf("!")>=0&&(g=g.slice(0,-1),j=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort());if((!d||f.event.customEvent[g])&&!f.event.global[g])return;b=typeof b=="object"?b[f.expando]?b:new f.Event(g,b):new f.Event(g),b.type=g,b.isTrigger=!0,b.exclusive=j,b.namespace=h.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\\\.)"+h.join("\\\\.(?:.*\\\\.)?")+"(\\\\.|$)"):null,n=g.indexOf(":")<0?"on"+g:"",(e||!d)&&b.preventDefault();if(!d){i=f.cache;for(k in i)i[k].events&&i[k].events[g]&&f.event.trigger(b,c,i[k].handle.elem,!0);return}b.result=undefined,b.target||(b.target=d),c=c!=null?f.makeArray(c):[],c.unshift(b),o=f.event.special[g]||{};if(o.trigger&&o.trigger.apply(d,c)===!1)return;q=[[d,o.bindType||g]];if(!e&&!o.noBubble&&!f.isWindow(d)){r=o.delegateType||g,m=null;for(l=d.parentNode;l;l=l.parentNode)q.push([l,r]),m=l;m&&m===d.ownerDocument&&q.push([m.defaultView||m.parentWindow||a,r])}for(k=0;k<q.length;k++){l=q[k][0],b.type=q[k][1],p=(f._data(l,"events")||{})[b.type]&&f._data(l,"handle"),p&&p.apply(l,c),p=n&&l[n],p&&f.acceptData(l)&&p.apply(l,c);if(b.isPropagationStopped())break}return b.type=g,b.isDefaultPrevented()||(!o._default||o._default.apply(d.ownerDocument,c)===!1)&&(g!=="click"||!f.nodeName(d,"a"))&&f.acceptData(d)&&n&&d[g]&&(g!=="focus"&&g!=="blur"||b.target.offsetWidth!==0)&&!f.isWindow(d)&&(m=d[n],m&&(d[n]=null),f.event.triggered=g,d[g](),f.event.triggered=undefined,m&&(d[n]=m)),b.result}return},dispatch:function(b){b=f.event.fix(b||a.event);var c=(f._data(this,"events")||{})[b.type]||[],d=c.delegateCount,e=[].slice.call(arguments,0),g=!b.exclusive&&!b.namespace,h=(f.event.special[b.type]||{}).handle,i=[],j,k,l,m,n,o,p,q,r,s,t;e[0]=b,b.delegateTarget=this;if(d&&!b.target.disabled&&(!b.button||b.type!=="click"))for(l=b.target;l!=this;l=l.parentNode||this){n={},p=[];for(j=0;j<d;j++)q=c[j],r=q.selector,s=n[r],q.isPositional?s=(s||(n[r]=f(r))).index(l)>=0:s===undefined&&(s=n[r]=q.quick?L(l,q.quick):f(l).is(r)),s&&p.push(q);p.length&&i.push({elem:l,matches:p})}c.length>d&&i.push({elem:this,matches:c.slice(d)});for(j=0;j<i.length&&!b.isPropagationStopped();j++){o=i[j],b.currentTarget=o.elem;for(k=0;k<o.matches.length&&!b.isImmediatePropagationStopped();k++){q=o.matches[k];if(g||!b.namespace&&!q.namespace||b.namespace_re&&b.namespace_re.test(q.namespace))b.data=q.data,b.handleObj=q,func=h||q.handler,a.log&&a.log.enabled&&a.log("jquery.dispatch","On "+b.type+", invoking",func),m=func.apply(o.elem,e),m!==undefined&&(b.result=m,m===!1&&(b.preventDefault(),b.stopPropagation()))}}return b.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||b,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==undefined&&(a.which=g&1?1:g&2?3:g&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var c,d,e=a,g=f.event.fixHooks[a.type]||{},h=g.props?this.props.concat(g.props):this.props;a=f.Event(e);for(c=h.length;c;)d=h[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||b),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===undefined&&(a.metaKey=a.ctrlKey),g.filter?g.filter(a,e):a},special:{ready:{setup:f.bindReady},focus:{delegateType:"focusin",noBubble:!0},blur:{delegateType:"focusout",noBubble:!0},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=b.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(b,c){if(!(this instanceof f.Event))return new f.Event(b,c);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.returnValue===!1||b.getPreventDefault&&b.getPreventDefault()?O:N):this.type=b,c&&f.extend(this,c),this.timeStamp=b&&b.timeStamp||f.now(),a.log&&a.log.enabled&&a.log("jquery.Event","New event object: "+this.type,this),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=O;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=O;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=O,this.stopPropagation()},isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,c){f.event.special[b]=f.event.special[c]={delegateType:c,bindType:c,handle:function(b){var c=this,d=b.relatedTarget,e=b.handleObj,g=e.selector,h,i;if(!d||e.origType===b.type||d!==c&&!f.contains(c,d))h=b.type,b.type=e.origType,func=e.handler,a.log&&a.log.enabled&&a.log("jquery.mouse*","On "+b.type+", invoking",func),i=func.apply(this,arguments),b.type=h;return i}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=f.nodeName(b,"input")||f.nodeName(b,"button")?b.form:undefined;c&&!c._submit_attached&&(f.event.add(c,"submit._submit",function(a){this.parentNode&&f.event.simulate("submit",this.parentNode,a,!0)}),c._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(B.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;B.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),B.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,c){var d=0,e=function(a){f.event.simulate(c,a.target,f.event.fix(a),!0)};f.event.special[c]={setup:function(){d++===0&&b.addEventListener(a,e,!0)},teardown:function(){--d===0&&b.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,b,c,d,e){var g,h;if(typeof a=="object"){typeof b!="string"&&(c=b,b=undefined);for(h in a)this.on(h,b,c,a[h],e);return this}c==null&&d==null?(d=b,c=b=undefined):d==null&&(typeof b=="string"?(d=c,c=undefined):(d=c,c=b,b=undefined));if(d===!1)d=N;else if(!d)return this;return e===1&&(g=d,d=function(a){return f().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=f.guid++)),this.each(function(){f.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var d=a.handleObj;return f(a.delegateTarget).off(d.namespace?d.type+"."+d.namespace:d.type,d.selector,d.handler),this}if(typeof a=="object"){for(var e in a)this.off(e,b,a[e]);return this}if(b===!1||typeof b=="function")c=b,b=undefined;return c===!1&&(c=N),this.each(function(){f.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.bind(b,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),H.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),I.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function v(a,b,d,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[c]===d){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[c]=d,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function w(a,b,d,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[c]===d){k=e[j.sizset];break}if(j.nodeType===1){g||(j[c]=d,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(l.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}var a=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|[\'"][^\'"]*[\'"]|[^\\[\\]\'"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,c="sizcache"+(Math.random()+"").replace(".",""),d=0,e=Object.prototype.toString,g=!1,h=!0,i=/\\\\/g,j=/\\r\\n/g,k=/\\W/;[0,0].sort(function(){return h=!1,0});var l=function(c,d,f,g){f=f||[],d=d||b;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!c||typeof c!="string")return f;var i,j,k,m,p,q,s,t,u=!0,v=l.isXML(d),w=[],y=c;do{a.exec(""),i=a.exec(y);if(i){y=i[3],w.push(i[1]);if(i[2]){m=i[3];break}}}while(i);if(w.length>1&&o.exec(c))if(w.length===2&&n.relative[w[0]])j=x(w[0]+w[1],d,g);else{j=n.relative[w[0]]?[d]:l(w.shift(),d);while(w.length)c=w.shift(),n.relative[c]&&(c+=w.shift()),j=x(c,j,g)}else{!g&&w.length>1&&d.nodeType===9&&!v&&n.match.ID.test(w[0])&&!n.match.ID.test(w[w.length-1])&&(p=l.find(w.shift(),d,v),d=p.expr?l.filter(p.expr,p.set)[0]:p.set[0]);if(d){p=g?{expr:w.pop(),set:r(g)}:l.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!d.parentNode?d:d.parentNode,v),j=p.expr?l.filter(p.expr,p.set):p.set,w.length>0?k=r(j):u=!1;while(w.length)q=w.pop(),s=q,n.relative[q]?s=w.pop():q="",s==null&&(s=d),n.relative[q](k,s,v)}else k=w=[]}k||(k=j),k||l.error(q||c);if(e.call(k)==="[object Array]")if(!u)f.push.apply(f,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&l.contains(d,k[t]))&&f.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&f.push(j[t]);else r(k,f);return m&&(l(m,h,f,g),l.uniqueSort(f)),f};l.uniqueSort=function(a){if(t){g=h,a.sort(t);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},l.matches=function(a,b){return l(a,null,null,b)},l.matchesSelector=function(a,b){return l(b,null,null,[a]).length>0},l.find=function(a,b,c){var d,e,f,g,h,j;if(!a)return[];for(e=0,f=n.order.length;e<f;e++){h=n.order[e];if(g=n.leftMatch[h].exec(a)){j=g[1],g.splice(1,1);if(j.substr(j.length-1)!=="\\\\"){g[1]=(g[1]||"").replace(i,""),d=n.find[h](g,b,c);if(d!=null){a=a.replace(n.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},l.filter=function(a,b,c,d){var e,f,g,h,i,j,k,m,o,p=a,q=[],r=b,s=b&&b[0]&&l.isXML(b[0]);while(a&&b.length){for(g in n.filter)if((e=n.leftMatch[g].exec(a))!=null&&e[2]){j=n.filter[g],k=e[1],f=!1,e.splice(1,1);if(k.substr(k.length-1)==="\\\\")continue;r===q&&(q=[]);if(n.preFilter[g]){e=n.preFilter[g](e,r,c,q,d,s);if(!e)f=h=!0;else if(e===!0)continue}if(e)for(m=0;(i=r[m])!=null;m++)i&&(h=j(i,e,m,r),o=d^h,c&&h!=null?o?f=!0:r[m]=!1:o&&(q.push(i),f=!0));if(h!==undefined){c||(r=q),a=a.replace(n.match[g],"");if(!f)return[];break}}if(a===p){if(f!=null)break;l.error(a)}p=a}return r},l.error=function(a){throw"Syntax error, unrecognized expression: "+a};var m=l.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(j,"");for(a=a.firstChild;a;a=a.nextSibling)e+=m(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=m(c));return e},n=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=[\'"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)[\'"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:([\'"])(.*?)\\3|(#?(?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)*)|)|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\(\\s*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\(([\'"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!k.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&l.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!k.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&l.filter(b,a,!0)}},"":function(a,b,c){var e,f=d++,g=w;typeof b=="string"&&!k.test(b)&&(b=b.toLowerCase(),e=b,g=v),g("parentNode",b,f,a,e,c)},"~":function(a,b,c){var e,f=d++,g=w;typeof b=="string"&&!k.test(b)&&(b=b.toLowerCase(),e=b,g=v),g("previousSibling",b,f,a,e,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\\t\\n\\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a,b){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||l.error(a[0]),a[2]=a[2].replace(/^\\+|\\s*/g,"");var b=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&l.error(a[0]);return a[0]=d++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");return!f&&n.attrMap[g]&&(a[1]=n.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\\w/.test(b[3]))){var g=l.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=l(b[3],null,null,c)}else if(n.match.POS.test(b[0])||n.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!l(c[3],a).length},header:function(a){return/h\\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=n.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||m([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}l.error(e)},CHILD:function(a,b){var d,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":d=b[2],e=b[3];if(d===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[c]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[c]=f}return j=a.nodeIndex-e,d===0?j===0:j%d===0&&j/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attr?l.attr(a,c):n.attrHandle[c]?n.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&l.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=n.setFilters[e];if(f)return f(a,c,b,d)}}},o=n.match.POS,p=function(a,b){return"\\\\"+(b-0+1)};for(var q in n.match)n.match[q]=new RegExp(n.match[q].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source),n.leftMatch[q]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+n.match[q].source.replace(/\\\\(\\d+)/g,p));var r=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(b.documentElement.childNodes,0)[0].nodeType}catch(s){r=function(a,b){var c=0,d=b||[];if(e.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var f=a.length;c<f;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var t,u;b.documentElement.compareDocumentPosition?t=function(a,b){return a===b?(g=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(t=function(a,b){if(a===b)return g=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return u(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return u(e[k],f[k]);return k===c?u(a,f[k],-1):u(e[k],b,1)},u=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=b.createElement("div"),c="script"+(new Date).getTime(),d=b.documentElement;a.innerHTML="<a name=\'"+c+"\'/>",d.insertBefore(a,d.firstChild),b.getElementById(c)&&(n.find.ID=function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d?d.id===a[1]||typeof d.getAttributeNode!="undefined"&&d.getAttributeNode("id").nodeValue===a[1]?[d]:undefined:[]}},n.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=b.createElement("div");a.appendChild(b.createComment("")),a.getElementsByTagName("*").length>0&&(n.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href=\'#\'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(n.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),b.querySelectorAll&&function(){var a=l,c=b.createElement("div"),d="__sizzle__";c.innerHTML="<p class=\'TEST\'></p>";if(c.querySelectorAll&&c.querySelectorAll(".TEST").length===0)return;l=function(c,e,f,g){e=e||b;if(!g&&!l.isXML(e)){var h=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(c);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return r(e.getElementsByTagName(c),f);if(h[2]&&n.find.CLASS&&e.getElementsByClassName)return r(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(c==="body"&&e.body)return r([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return r([],f);if(i.id===h[3])return r([i],f)}try{return r(e.querySelectorAll(c),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,m=e.getAttribute("id"),o=m||d,p=e.parentNode,q=/^\\s*[+~]/.test(c);m?o=o.replace(/\'/g,"\\\\$&"):e.setAttribute("id",o),q&&p&&(e=e.parentNode);try{if(!q||p)return r(e.querySelectorAll("[id=\'"+o+"\'] "+c),f)}catch(s){}finally{m||k.removeAttribute("id")}}}return a(c,e,f,g)};for(var e in a)l[e]=a[e];c=null}(),function(){var a=b.documentElement,c=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(c){var d=!c.call(b.createElement("div"),"div"),e=!1;try{c.call(b.documentElement,"[test!=\'\']:sizzle")}catch(f){e=!0}l.matchesSelector=function(a,b){b=b.replace(/\\=\\s*([^\'"\\]]*)\\s*\\]/g,"=\'$1\']");if(!l.isXML(a))try{if(e||!n.match.PSEUDO.test(b)&&!/!=/.test(b)){var f=c.call(a,b);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return l(b,null,null,[a]).length>0}}}(),function(){var a=b.createElement("div");a.innerHTML="<div class=\'test e\'></div><div class=\'test\'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;n.order.splice(1,0,"CLASS"),n.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),b.documentElement.contains?l.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:b.documentElement.compareDocumentPosition?l.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:l.contains=function(){return!1},l.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var x=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=n.match.PSEUDO.exec(a))f+=d[0],a=a.replace(n.match.PSEUDO,"");a=n.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)l(a,g[h],e,c);return l.filter(f,e)};l.attr=f.attr,l.selectors.attrMap={},f.find=l,f.expr=l.selectors,f.expr[":"]=f.expr.filters,f.unique=l.uniqueSort,f.text=l.getText,f.isXMLDoc=l.isXML,f.contains=l.contains}();var P=/Until$/,Q=/^(?:parents|prevUntil|prevAll)/,R=/,/,S=/^.[^:#\\[\\.,]*$/,T=Array.prototype.slice,U=f.expr.match.POS,V={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(X(this,a,!1),"not",a)},filter:function(a){return this.pushStack(X(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?U.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=U.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(W(c[0])||W(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c),g=T.call(arguments);return P.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!V[a]?f.unique(e):e,(this.length>1||R.test(d))&&Q.test(a)&&(e=e.reverse()),this.pushStack(e,a,g.join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,b,c){var d=[],e=a[b];while(e&&e.nodeType!==9&&(c===undefined||e.nodeType!==1||!f(e).is(c)))e.nodeType===1&&d.push(e),e=e[b];return d},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var Z="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",$=/ jQuery\\d+="(?:\\d+|null)"/g,_=/^\\s+/,ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,bb=/<([\\w:]+)/,cb=/<tbody/i,db=/<|&#?\\w+;/,eb=/<(?:script|style)/i,fb=/<(?:script|object|embed|option|style)/i,gb=new RegExp("<(?:"+Z.replace(" ","|")+")","i"),hb=/checked\\s*(?:[^=]|=\\s*.checked.)/i,ib=/\\/(java|ecma)script/i,jb=/^\\s*<!(?:\\[CDATA\\[|\\-\\-)/,kb={option:[1,"<select multiple=\'multiple\'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},lb=Y(b);kb.optgroup=kb.option,kb.tbody=kb.tfoot=kb.colgroup=kb.caption=kb.thead,kb.th=kb.td,f.support.htmlSerialize||(kb._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==undefined?this.empty().append((this[0]&&this[0].ownerDocument||b).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){f(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(\n){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f(arguments[0]);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f(arguments[0]).toArray()),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===undefined)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace($,""):null;if(typeof a=="string"&&!eb.test(a)&&(f.support.leadingWhitespace||!_.test(a))&&!kb[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(var b=0,c=this.length;b<c;b++)this[b].nodeType===1&&(f.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(d){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var d,e,g,h,i=a[0],j=[];if(!f.support.checkClone&&arguments.length===3&&typeof i=="string"&&hb.test(i))return this.each(function(){f(this).domManip(a,b,c,!0)});if(f.isFunction(i))return this.each(function(d){var e=f(this);a[0]=i.call(this,d,b?e.html():undefined),e.domManip(a,b,c)});if(this[0]){h=i&&i.parentNode,f.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?d={fragment:h}:d=f.buildFragment(a,this,j),g=d.fragment,g.childNodes.length===1?e=g=g.firstChild:e=g.firstChild;if(e){b=b&&f.nodeName(e,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)c.call(b?mb(this[k],e):this[k],d.cacheable||l>1&&k<m?f.clone(g,!0,!0):g)}j.length&&f.each(j,sb)}return this}}),f.buildFragment=function(a,c,d){var e,g,h,i,j=a[0];return c&&c[0]&&(i=c[0].ownerDocument||c[0]),i.createDocumentFragment||(i=b),a.length===1&&typeof j=="string"&&j.length<512&&i===b&&j.charAt(0)==="<"&&!fb.test(j)&&(f.support.checkClone||!hb.test(j))&&!f.support.unknownElems&&gb.test(j)&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,g,h;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){ob(a,d),e=pb(a),g=pb(d);for(h=0;e[h];++h)g[h]&&ob(e[h],g[h])}if(b){nb(a,d);if(c){e=pb(a),g=pb(d);for(h=0;e[h];++h)nb(e[h],g[h])}}return e=g=null,d},clean:function(a,c,d,e){var g;c=c||b,typeof c.createElement=="undefined"&&(c=c.ownerDocument||c[0]&&c[0].ownerDocument||b);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!db.test(k))k=c.createTextNode(k);else{k=k.replace(ab,"<$1></$2>");var l=(bb.exec(k)||["",""])[1].toLowerCase(),m=kb[l]||kb._default,n=m[0],o=c.createElement("div");c===b?lb.appendChild(o):Y(c).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=cb.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&_.test(k)&&o.insertBefore(c.createTextNode(_.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)rb(k[i]);else rb(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||ib.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var tb=/alpha\\([^)]*\\)/i,ub=/opacity=([^)]*)/,vb=/([A-Z]|^ms)/g,wb=/^-?\\d+(?:px)?$/i,xb=/^-?\\d/,yb=/^([\\-+])=([\\-+.\\de]+)/,zb={position:"absolute",visibility:"hidden",display:"block"},Ab=["Left","Right"],Bb=["Top","Bottom"],Cb,Db,Eb;f.fn.css=function(a,b){return arguments.length===2&&b===undefined?this:f.access(this,a,b,!0,function(a,b,c){return c!==undefined?f.style(a,b,c):f.css(a,b)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Cb(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var e,g,h=f.camelCase(b),i=a.style,j=f.cssHooks[h];b=f.cssProps[h]||h;if(c===undefined)return j&&"get"in j&&(e=j.get(a,!1,d))!==undefined?e:i[b];g=typeof c,g==="string"&&(e=yb.exec(c))&&(c=+(e[1]+1)*+e[2]+parseFloat(f.css(a,b)),g="number");if(c==null||g==="number"&&isNaN(c))return;g==="number"&&!f.cssNumber[h]&&(c+="px");if(!j||!("set"in j)||(c=j.set(a,c))!==undefined)try{i[b]=c}catch(k){}},css:function(a,b,c){var d,e;b=f.camelCase(b),e=f.cssHooks[b],b=f.cssProps[b]||b,b==="cssFloat"&&(b="float");if(e&&"get"in e&&(d=e.get(a,!0,c))!==undefined)return d;if(Cb)return Cb(a,b)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?Fb(a,b,d):(f.swap(a,zb,function(){e=Fb(a,b,d)}),e)},set:function(a,b){if(!wb.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return ub.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(tb,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=tb.test(g)?g.replace(tb,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=Cb(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),b.defaultView&&b.defaultView.getComputedStyle&&(Db=function(a,b){var c,d,e;b=b.replace(vb,"-$1").toLowerCase();if(!(d=a.ownerDocument.defaultView))return undefined;if(e=d.getComputedStyle(a,null))c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b));return c}),b.documentElement.currentStyle&&(Eb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!wb.test(f)&&xb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),Cb=Db||Eb,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var Gb=/%20/g,Hb=/\\[\\]$/,Ib=/\\r?\\n/g,Jb=/#.*$/,Kb=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,Lb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Mb=/^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\\/\\//,Pb=/\\?/,Qb=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,Rb=/^(?:select|textarea)/i,Sb=/\\s+/,Tb=/([?&])_=[^&]*/,Ub=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,Vb=f.fn.load,Wb={},Xb={},Yb,Zb,$b=["*/"]+["*"];try{Yb=e.href}catch(_b){Yb=b.createElement("a"),Yb.href="",Yb=Yb.href}Zb=Ub.exec(Yb.toLowerCase())||[],f.fn.extend({load:function(a,b,c){if(typeof a!="string"&&Vb)return Vb.apply(this,arguments);if(!this.length)return this;var d=a.indexOf(" ");if(d>=0){var e=a.slice(d,a.length);a=a.slice(0,d)}var g="GET";b&&(f.isFunction(b)?(c=b,b=undefined):typeof b=="object"&&(b=f.param(b,f.ajaxSettings.traditional),g="POST"));var h=this;return f.ajax({url:a,type:g,dataType:"html",data:b,complete:function(a,b,d){d=a.responseText,a.isResolved()&&(a.done(function(a){d=a}),h.html(e?f("<div>").append(d.replace(Qb,"")).find(e):d)),c&&h.each(c,[d,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Rb.test(this.nodeName)||Lb.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(Ib,"\\r\\n")}}):{name:b.name,value:c.replace(Ib,"\\r\\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.bind(b,a)}}),f.each(["get","post"],function(a,b){f[b]=function(a,c,d,e){return f.isFunction(c)&&(e=e||d,d=c,c=undefined),f.ajax({type:b,url:a,data:c,success:d,dataType:e})}}),f.extend({getScript:function(a,b){return f.get(a,undefined,b,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cc(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),cc(a,b),a},ajaxSettings:{url:Yb,isLocal:Mb.test(Zb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":$b},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:ac(Wb),ajaxTransport:ac(Xb),ajax:function(a,b){function v(a,b,k,l){if(r===2)return;r=2,p&&clearTimeout(p),o=undefined,m=l||"",u.readyState=a>0?4:0;var n,q,t,v=b,w=k?ec(c,u,k):undefined,x,y;if(a>=200&&a<300||a===304){if(c.ifModified){if(x=u.getResponseHeader("Last-Modified"))f.lastModified[j]=x;if(y=u.getResponseHeader("Etag"))f.etag[j]=y}if(a===304)v="notmodified",n=!0;else try{q=fc(c,w),v="success",n=!0}catch(z){v="parsererror",t=z}}else{t=v;if(!v||a)v="error",a<0&&(a=0)}u.status=a,u.statusText=""+(b||v),n?g.resolveWith(d,[q,v,u]):g.rejectWith(d,[u,v,t]),u.statusCode(i),i=undefined,s&&e.trigger("ajax"+(n?"Success":"Error"),[u,c,n?q:t]),h.fireWith(d,[u,v]),s&&(e.trigger("ajaxComplete",[u,c]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(b=a,a=undefined),b=b||{};var c=f.ajaxSetup({},b),d=c.context||c,e=d!==c&&(d.nodeType||d instanceof f)?f(d):f.event,g=f.Deferred(),h=f.Callbacks("once memory"),i=c.statusCode||{},j,k={},l={},m,n,o,p,q,r=0,s,t,u={readyState:0,setRequestHeader:function(a,b){if(!r){var c=a.toLowerCase();a=l[c]=l[c]||a,k[a]=b}return this},getAllResponseHeaders:function(){return r===2?m:null},getResponseHeader:function(a){var b;if(r===2){if(!n){n={};while(b=Kb.exec(m))n[b[1].toLowerCase()]=b[2]}b=n[a.toLowerCase()]}return b===undefined?null:b},overrideMimeType:function(a){return r||(c.mimeType=a),this},abort:function(a){return a=a||"abort",o&&o.abort(a),v(0,a),this}};g.promise(u),u.success=u.done,u.error=u.fail,u.complete=h.add,u.statusCode=function(a){if(a){var b;if(r<2)for(b in a)i[b]=[i[b],a[b]];else b=a[u.status],u.then(b,b)}return this},c.url=((a||c.url)+"").replace(Jb,"").replace(Ob,Zb[1]+"//"),c.dataTypes=f.trim(c.dataType||"*").toLowerCase().split(Sb),c.crossDomain==null&&(q=Ub.exec(c.url.toLowerCase()),c.crossDomain=!(!q||q[1]==Zb[1]&&q[2]==Zb[2]&&(q[3]||(q[1]==="http:"?80:443))==(Zb[3]||(Zb[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=f.param(c.data,c.traditional)),bc(Wb,c,b,u);if(r===2)return!1;s=c.global,c.type=c.type.toUpperCase(),c.hasContent=!Nb.test(c.type),s&&f.active++===0&&f.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(Pb.test(c.url)?"&":"?")+c.data,delete c.data),j=c.url;if(c.cache===!1){var w=f.now(),x=c.url.replace(Tb,"$1_="+w);c.url=x+(x===c.url?(Pb.test(c.url)?"&":"?")+"_="+w:"")}}(c.data&&c.hasContent&&c.contentType!==!1||b.contentType)&&u.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(j=j||c.url,f.lastModified[j]&&u.setRequestHeader("If-Modified-Since",f.lastModified[j]),f.etag[j]&&u.setRequestHeader("If-None-Match",f.etag[j])),u.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+$b+"; q=0.01":""):c.accepts["*"]);for(t in c.headers)u.setRequestHeader(t,c.headers[t]);if(!c.beforeSend||c.beforeSend.call(d,u,c)!==!1&&r!==2){for(t in{success:1,error:1,complete:1})u[t](c[t]);o=bc(Xb,c,b,u);if(!o)v(-1,"No Transport");else{u.readyState=1,s&&e.trigger("ajaxSend",[u,c]),c.async&&c.timeout>0&&(p=setTimeout(function(){u.abort("timeout")},c.timeout));try{r=1,o.send(k,v)}catch(y){r<2?v(-1,y):f.error(y)}}return u}return u.abort(),!1},param:function(a,b){var c=[],d=function(a,b){b=f.isFunction(b)?b():b,c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===undefined&&(b=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){d(this.name,this.value)});else for(var e in a)dc(e,a[e],b,d);return c.join("&").replace(Gb,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var gc=f.now(),hc=/(\\=)\\?(&|$)|\\?\\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+gc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(hc.test(b.url)||e&&hc.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(hc,l),b.url===j&&(e&&(k=k.replace(hc,l)),b.data===k&&(j+=(/\\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===undefined&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=b.head||b.getElementsByTagName("head")[0]||b.documentElement;return{send:function(e,f){c=b.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=undefined,b||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var ic=a.ActiveXObject?function(){for(var a in kc)kc[a](0,1)}:!1,jc=0,kc;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&lc()||mc()}:lc,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(b){if(!b.crossDomain||f.support.cors){var c;return{send:function(d,e){var g=b.xhr(),h,i;b.username?g.open(b.type,b.url,b.async,b.username,b.password):g.open(b.type,b.url,b.async);if(b.xhrFields)for(i in b.xhrFields)g[i]=b.xhrFields[i];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),!b.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(i in d)g.setRequestHeader(i,d[i])}catch(j){}g.send(b.hasContent&&b.data||null),c=function(a,d){var i,j,k,l,m;try{if(c&&(d||g.readyState===4)){c=undefined,h&&(g.onreadystatechange=f.noop,ic&&delete kc[h]);if(d)g.readyState!==4&&g.abort();else{i=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m),l.text=g.responseText;try{j=g.statusText}catch(n){j=""}!i&&b.isLocal&&!b.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){d||e(-1,o)}l&&e(i,j,l,k)},!b.async||g.readyState===4?c():(h=++jc,ic&&(kc||(kc={},f(a).unload(ic)),kc[h]=c),g.onreadystatechange=c)},abort:function(){c&&c(0,1)}}}});var nc={},oc,pc,qc=/^(?:toggle|show|hide)$/,rc=/^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,sc,tc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],uc;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(xc("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",yc(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(xc("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(xc("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||yc(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],qc.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=rc.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,b,c){return typeof a!="string"&&(c=b,b=a,a=undefined),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,d){var e=b[d];f.removeData(a,d,!0),e.stop(c)}var b,d=!1,e=f.timers,g=f._data(this);c||f._unmark(!0,this);if(a==null)for(b in g)g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(c?e[b](!0):e[b].saveState(),d=!0,e.splice(b,1));(!c||!d)&&f.dequeue(this,a)})}}),f.each({slideDown:xc("show",1),slideUp:xc("hide",1),slideToggle:xc("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,b,c){function g(a){return d.step(a)}var d=this,e=f.fx;this.startTime=uc||vc(),this.end=b,this.now=this.start=a,this.pos=this.state=0,this.unit=c||this.unit||(f.cssNumber[this.prop]?"":"px"),g.queue=this.options.queue,g.elem=this.elem,g.saveState=function(){d.options.hide&&f._data(d.elem,"fxshow"+d.prop)===undefined&&f._data(d.elem,"fxshow"+d.prop,d.start)},g()&&f.timers.push(g)&&!sc&&(sc=setInterval(e.tick,e.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==undefined?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=uc||vc(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(sc),sc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now))}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var zc=/^t(?:able|d|h)$/i,Ac=/^(?:body|html)$/i;"getBoundingClientRect"in b.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=Bc(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!zc.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft)),{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=Ac.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||b.body;while(a&&!Ac.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,b){var c="scroll"+b;f.fn[c]=function(b){var d,e;return b===undefined?(d=this[0],d?(e=Bc(d),e?"pageXOffset"in e?e[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&e.document.documentElement[c]||e.document.body[c]:d[c]):null):this.each(function(){e=Bc(this),e?e.scrollTo(a?f(e).scrollLeft():b,a?b:f(e).scrollTop()):this[c]=b})}}),f.each(["Height","Width"],function(a,b){var c=b.toLowerCase();f.fn["inner"+b]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+b]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){var d=this[0];if(!d)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var d=f(this);d[c](a.call(this,b,d[c]()))});if(f.isWindow(d)){var e=d.document.documentElement["client"+b],g=d.document.body;return d.document.compatMode==="CSS1Compat"&&e||g&&g["client"+b]||e}if(d.nodeType===9)return Math.max(d.documentElement["client"+b],d.body["scroll"+b],d.documentElement["scroll"+b],d.body["offset"+b],d.documentElement["offset"+b]);if(a===undefined){var h=f.css(d,c),i=parseFloat(h);return f.isNumeric(i)?i:h}return this.css(c,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,function(){var b=a.$;if(b.loader){if(b.loader.data){a.log&&a.log.enabled&&a.log("jquery.loader","Running callbacks.");var c=b.loader.data.loadedCallbacks;for(var d in c)!isNaN(parseFloat(d))&&isFinite(d)&&c[d]()}b.loader=null,a.lazyJQuery=!1,a.log&&a.log.enabled&&a.log("jquery.loader","jQuery is loaded.")}}()};c(window)}),require.install("json2",function(require,exports,module){this.JSON||(this.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?\'"\'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+a+\'"\'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\\n"+gap+h.join(",\\n"+gap)+"\\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\\n"+gap+h.join(",\\n"+gap)+"\\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={"\\b":"\\\\b","\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g\n,"]").replace(/(?:^|:|,)(?:\\s*\\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}),require.install("assert",function(require,a,b){function d(){}function e(){debugger}function f(a){if(c.debug)try{e()}finally{throw a}}function g(a){this.message=a.message||this.message,this.actual=a.actual,this.expected=a.expected}function i(a,b){if(a===b)return!0;if(a instanceof Date)return b instanceof Date&&+a===+b;if(typeof a!="object"||typeof b!="object")return a==b;if(a.prototype!==b.prototype)return!1;var c,d={};for(c in a)d[c]=!0;for(c in b)d[c]=!0;if(a instanceof Array)for(var e=Math.max(a.length,b.length)-1;e>=0;--e){if(e in d)break;d[e]=!0}for(c in d)if(c in a!=c in b||h.call(a,c)!=h.call(b,c)||!i(a[c],b[c]))return!1;return!0}function j(b){return function(c,e,h){(b.call(a,c,e)?d:f)(new g({message:h,actual:c,expected:e}))}}var c=require("settings");g.prototype=new Error("assertion failure"),g.prototype.toString=function(){return this.message+(": got "+this.actual+", expected "+this.expected)};var h={}.hasOwnProperty;a.AssertionError=g,a.equal=j(function(a,b){return a==b}),a.notEqual=j(function(a,b){return a!=b}),a.deepEqual=j(function(a,b){return i(a,b)}),a.notDeepEqual=j(function(a,b){return!i(a,b)}),a.strictEqual=j(function(a,b){return a===b}),a.notStrictEqual=j(function(a,b){return a!==b}),a.throws_error=j(function(a,b){try{return a(),!1}catch(c){return!b||c instanceof b}}),a.ok=window.assert=function(b,c){a.equal(!!b,!0,c)},a.notOk=function(b,c){a.equal(!!b,!1,c)},a.todo=function(b,c){b&&a.equal(!!b,!1,c)},a.greaterThan=j(function(a,b){return a>b}),a.lessThan=j(function(a,b){return a<b}),a.matches=j(function(a,b){return b instanceof RegExp&&b.test(a)})}),require.install("jquery.securepost",function(require,a,b){(function(a){var b=require("settings").formkey;a.securepost=function(c,d,e,f){d=d||{};if(!b)throw new Error("No formkey set; can\'t securepost");return d.formkey=b,a.post(c,d,e,f)},a.secureData=function(d,e,f,g,h){typeof arguments[0]=="object"?(d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4]):(e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],d=arguments[4]||{});if(!b)throw new Error("No formkey set; can\'t send data securely");d.type=d.type||"POST",d.dataType=d.dataType||"json",d.url=e;var i=d.secureDataError;d.success=function(a){if(a.___ERROR___){var b=a.___ERROR___[0],d=a.___ERROR___[1],f=new c("Got an error from the URL \'"+e+"\'",b,d);if(i)return i(b,d,f);throw f}if(g)return g(a)},d.error=h;var j=d.data||f;return d.data={formkey:b,data:JSON.stringify(j)},a.ajax(d)};var c=function(a,b,c){this.message=c+": "+a+" <"+JSON.stringify(b)+">"};c.prototype=new Error,c.prototype.constructor=c,a.secureData.SecureDataError=c})(jQuery)}),require.install("jquery.cookie",function(require,a,b){jQuery.cookie=function(a,b,c){c=c||{};var d=c.document||document;assert(d.nodeType===9);if(typeof b=="undefined"){var j=null;if(d.cookie&&d.cookie!=""){var k=d.cookie.split(";");for(var l=0;l<k.length;l++){var m=jQuery.trim(k[l]);if(m.substring(0,a.length+1)==a+"="){j=decodeURIComponent(m.substring(a.length+1));break}}}return j}c=c||{},b===null&&(b="",c=$.extend({},c),c.expires=-1);var e="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var f;typeof c.expires=="number"?(f=new Date,f.setTime(f.getTime()+c.expires*24*60*60*1e3)):f=c.expires,e="; expires="+f.toUTCString()}var g=c.path?"; path="+c.path:"",h=c.domain?"; domain="+c.domain:"",i=c.secure?"; secure":"";d.cookie=[a,"=",encodeURIComponent(b),e,g,h,i].join("")}}),require.install("cookies",function(require,a,b){function e(a,b,e){return e=e||{},e=$.extend({expires:999999,path:"/",domain:d},e),$.cookie(c.cookiePrefix+"-"+a,b,e)}function f(a,b){var c={key:a,args:b},d=Math.floor(Math.random()*4294967296);e("qm-"+d,JSON.stringify(c),{expires:1})}require("jquery.cookie");var c=require("settings"),d=".quora.com";a.cookie=e,a.setMessage=f,a.setSingleUse=function(a,b,c){e("qsu-"+a,b,c)},a.setQfeedLog=function(a,b){var c=a.getDvar("feed_story_hash");if(!c)return;var d=a.getDvar("feed_story_position");d==null&&(d=0);var e=a.getDvar("feed_story_initial");e||(e=!1);var g=a.getDvar("feed_ty");g==null&&(g=0);var h=a.getDvar("feed_page"),i=a.getDvar("page_data"),j=a.getDvar("feed_location"),k=a.getDvar("focus_ty");f("qfl",[6,c,d,e,b,g,h,i,k,j])},a.setQueryLog=function(a,b){var c=a.getDvar("query_id");if(c==null)return;var d=a.getDvar("index");d==null&&(d=0),f("qlch",[c,{type:b,index:d}])},a.setTlog=function(a){var b=c.trail;if(b==null||a==null)return;f("tlog",[b,a])},a.setAnon=function(){e("anon",JSON.stringify(!0))},a.setPublic=function(){e("anon",null)},a.checkAgeGate=function(){if(e("age_gate_cb")=="unchecked"){var a=new Date;a.setHours(a.getHours()+12),e("age_gate",+(new Date),{expires:a})}}}),require.install("scribe",function(require,a,b){function j(){d.length>=h?n():k()}function k(){g||(g=setTimeout(n,i))}function l(){assert(f),f=!1}function m(){e=[],g=!1,l()}function n(){if(f){k();return}e=e.concat(d),d=[],f=!0,e.length>0&&c.rpc("/ajax/scribe_log_POST").kwargs({messages:e}).success(m).except(l).send()}var c=require("webnode2"),d=[],e=[],f=!1,g=!1,h=50,i=5e3;a.log=function(a,b){b==null&&(b=1);var c=!1;b&&(assert(0<=b&&b<=1),c=Math.random()<=b),c&&(d.push(a),j())}}),require.install("visibility",function(require,a,b){function c(){try{var a=window.frameElement;return a.getAttribute("className"),a}catch(b){return null}}function d(a,b){return(" "+(a.className||"")+" ").indexOf(" "+b+" ")!=-1}function e(a,b){d(a,b)||(a.className=(a.className||"")+" "+b)}function f(a){var b=/^\\s+/,c=/\\s+$/;return a.trim?a.trim():a.replace(b,"").replace(c,"")}function g(a,b){a.className=f((" "+(a.className||"")+" ").replace(" "+b+" "," "))}a.getFrameElement=c,a.setVisible=function(a){var b=c();a?(window.focus(),b?e(b,"maximized"):g(document.body,"minimized")):b?g(b,"maximized"):e(document.body,"minimized")},a.isVisible=function(){var a=c();return a?d(a,"maximized"):!d(document.body,"minimized")},a.addClass=e,a.hasClass=d,a.removeClass=g}),require.install("lang/fun",function(require,exports,module){function wrapDumbFunction(f){return function(){switch(arguments.length){case 0:return f();case 1:return f(arguments[0]);case 2:return f(arguments[0],arguments[1]);case 3:return f(arguments[0],arguments[1],arguments[2]);case 4:return f(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return f(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}for(var i=0,args=[];i<arguments.length;i++)args.push("arguments["+i+"]");return eval("(f("+args.join(",")+"))")}}function expect(a,b){function d(a,b){typeof a=="number"&&a>=0&&!(a in c)&&(c[a]=b)}function e(){--a||b.apply(this,c)}var c=[];return e.args=function(){var a=this,b=arguments;return function(){d(a.valueOf(),this);for(var c=0,f=b.length;c<f;++c)d(b[c],arguments[c]);e()}},e}var slice=Array.prototype.slice,mustOverrideToString=window.log&&window.log.enabled;exports.bind=function(a,b){var c=slice.call(arguments,2),d=c.length>0?function(){return e.apply(a||this,c.concat(slice.call(arguments,0)))}:function(){return e.apply(a||this,arguments)},e=b;return d.name=b.name,mustOverrideToString&&(d.toString=function(){return"["+b+" bound with "+a+" and with args "+c+" partially applied]"}),typeof b.apply=="undefined"&&(e=wrapDumbFunction(b)),d},exports.expect=expect}),require.install("Class",function(require,a,b){function h(a,b){function h(){e||(a.call(g),i(d,b,c),e=!0,b=null);if(this===g)return;var f=this.__init__;f&&f.apply(this,arguments)}var c=f.prototype=a.prototype,d=new f,e;return h.prototype=d,h.extend=k,d.constructor=h}function i(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(a[d]=c?j(d,b,c):b[d])}function j(a,b,d){var e=b[a],f=d[a];return typeof e=="function"&&typeof f=="function"&&e!==f&&c.test(e)?function(){var b=this._super;this._super=d[a];try{return e.apply(this,arguments)}finally{this._super=b}}:e}function k(a){return h(this,a)}var c=/xyz/.test(function(){xyz})?/\\b_super\\b/:/.*/,d=require("lang/fun").bind,e=Array.prototype.slice,f=function(){},g={};a.Class=k.call(function(){},{fnbind:function(a){switch(arguments.length){case 1:return d(this,a);case 2:return d(this,a,arguments[1]);case 3:return d(this,a,arguments[1],arguments[2]);case 4:return d(this,a,arguments[1],arguments[2],arguments[3]);case 5:return d(this,a,arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return d(this,a,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}for(var b=0,c=[this];b<arguments.length;b++)c.push(arguments[b]);return d.apply(null,c)}}),a.testExtendSpeed=function(b){var c=b=b||1e4,d=+(new Date),e=[];while(b-->0)e.push(a.Class.extend({__init__:function(a){this.val=a},method:function(a){this.val+=a}}).extend({method:function(a){this._super(a),this.val+=a},foo:function(){},bar:function(){this.foo()}}).extend({__init__:function(){this._super.apply(this,arguments)},foo:function(){}}));console.log(c,"class definitions took",new Date-d,"ms"),e.length=0}}),require.install("jquery.dialog",function(require,a,b){(function(a){a.fn.dialog=function(a){return this.each(function(){new c(this,a)})};var b={id:"generic_dialog",title:"Title",contents:"",comment_form:"",mobile:null,buttons:{Ok:null,Cancel:null},class_:"",w:"w4"};a.dialog=function(c,d){var e=this;this.o=a(c),this.opts=a.extend({},b,d||{}),this.mobile=this.opts.mobile!=null?this.opts.mobile:require("settings").mobile;if(a("#"+this.opts.id).length>0){a("#"+this.opts.id).show();return}this.opts.buttons!=null&&(this.opts.buttons.Ok===null&&(this.opts.buttons.Ok=function(){e.btnOk()}),this.opts.buttons.Cancel===null&&(this.opts.buttons.Cancel=function(){e.btnCancel()}));if(this.opts.url){var f=this.opts.id+"_loading",g=this.opts.contents||\'<div style="overflow:hidden;"><span class="__wn2_loading"><span class="__wn2_loading_spinner"></span><span class="__wn2_loading_text">Loading...</span></span></div>\';this.opts.contents=\'<div id="\'+f+\'"><div class="__wn2_loading_wrapper">\'+g+"</div></div>";var h=this.opts.urlData||{},i=require("webnode2");h.___W2_scope="__dialog__",h.___W2_windowId=i.windowId,a.get(this.opts.url,h,function(b){var c=document.getElementById(f);i.setContent(c,b),setTimeout(function(){!e.mobile&&a(window).height()<600&&a(".dialog .dialog_wrapper").css("position","static")},10)},"json")}return this.mobile&&(this.opts.w=""),this.render(),this};var c=a.dialog;c.fn=c.prototype={dialog:"0.0.1"},c.fn.extend=c.extend=a.extend,c.fn.extend({btnOk:function(){this.close()},btnCancel:function(){this.close()},close:function(){a("#"+this.opts.id).remove()},hide:function(){a("#"+this.opts.id).hide()},render:function(){var b="";this.opts.title?(b=a("<div/>").addClass("dialog_wrapper").append(a("<h2/>").addClass("dialog_frame").addClass("dialog_header").text(this.opts.title)),this.opts.contents&&b.append(a("<div/>").addClass("dialog_frame").addClass("dialog_contents").html(this.opts.contents)),this.opts.comment_form!=""&&b.append(a("<div/>").addClass("dialog_frame").addClass("dialog_contents").append(this.renderCommentForm(this.opts.comment_form)))):b=a("<div/>").addClass("dialog_component").html(this.opts.contents),this.o.append(a("<div/>").addClass("dialog").addClass(this.opts.w).addClass(this.opts.class_).attr("id",this.opts.id).append(b)),this.opts.buttons!=null&&a(".dialog_wrapper").append(a("<div/>").addClass("dialog_frame").addClass("dialog_buttons").append(a("<div/>").addClass("dialog_buttons_contents").html(this.renderButtons())));if(this.mobile){var c=a(window).width();window.scrollTo(0,1),a(".dialog").css("top","0px"),a(".dialog").css("left","10px"),a(".dialog").css("width",parseInt(c)-25+"px")}else{var d=150;a(window).height()<600&&(d=a(window).scrollTop(),a(".dialog .dialog_wrapper").css("position","static"));var e=a(window).width()/2-a(".dialog").width()/2;a(".dialog").css("top",d+"px"),a(".dialog").css("left",e+"px")}this.opts.comment_form!=""&&a("#dialog_comment").focus();var f=this;return a(document).keydown(function(a){return f.keydown(a)}),!1},keydown:function(b){var c=b||window.event;if(c.keyCode==27)return this.close(),a(document).unbind(),!1},renderCommentForm:function(b){if(!b||b=="")b="Add a Comment";return a("<div/>").append(a("<h3/>").text(b+":")).append(a("<textarea/>").attr("id","dialog_comment"))},renderButtons:function(){var b=this,c=a("<div/>");return a.each(this.opts.buttons,function(d,e){var f="submit_button";d=="Cancel"?f="cancel":d=="Close"&&(f="action_button");var g=a("<a/>").addClass("dialog_button").addClass(f).attr("id",d).html(d).click(e);b.opts.buttons_hide_on_close?g=g.click(function(){b.hide()}):g=g.click(function(){b.close()}),c.append(g)}),c}})})(jQuery)}),require.install("jquery.tooltip",function(require,a,b){var c=require("settings");(function(a){a.fn.tooltip=function(a){return this.each(function(){new d(this,a)})};var b={id:"tooltip",contents:"",delay:75,class_:"tooltip",parent_class:"tooltip_parent",prepend:!1};a.tooltip=function(c,d){if(a("body").hasClass("mobile"))return;var e=this;this.o=a(c),this.opts=a.extend({},b,d||{});var e=this;this.o.hover(function(){e.render()},function(){e.close()})};var d=a.tooltip;d.fn=d.prototype={tooltip:"0.0.1"},d.fn.extend=d.extend=a.extend,d.fn.extend({to:null,btnOk:function(){this.close()},btnCancel:function(){this.close()},close:function(){clearTimeout(this.to),this.to=null,this.tt=null,this.o.removeClass(this.opts.parent_class),a("."+this.opts.class_).remove()},render:function(){var b=this.opts.parent_class;a("."+b).removeClass(b),a("."+this.opts.class_).remove();var c=50,d=this.o.offset().top<c;d?this.set_tooltip_bottom():this.set_tooltip(),this.o.addClass(b),this.opts.prepend?this.o.prepend(this.tt):this.o.append(this.tt),this.tt.hide();var e=this.tt.height()+5,f=this.o.height()+5;d?this.tt.css("top",f+"px"):this.tt.css("top","-"+e+"px");var g=this,h=function(){g.tt.show()};this.to=setTimeout(h,this.opts.delay)},set_tooltip:function(){c.new_grid?this.tt=a("<div/>").addClass(this.opts.class_).append(a("<div/>").addClass("tooltip_contents nub_bottom").append(a("<span/>").text(this.opts.contents))):this.tt=a("<div/>").addClass(this.opts.class_).append(a("<div/>").addClass("tooltip_contents").append(a("<span/>").text(this.opts.contents))).append(a("<div/>").addClass("tooltip_nub").html(""))},set_tooltip_bottom:function(){c.new_grid?this.tt=a("<div/>").addClass(this.opts.class_).append(a("<div/>").addClass("tooltip_contents nub_top").append(a("<span/>").text(this.opts.contents))):this.tt=a("<div/>").addClass(this.opts.class_).append(a("<div/>").addClass("tooltip_nub_bottom").html("")).append(a("<div/>").addClass("tooltip_contents").append(a("<span/>").text(this.opts.contents)))}})})(jQuery)}),require.install("jquery.menu",function(require,a,b){var c=require("settings");(function(a){a.fn.menu=function(b,c){return this.each(function(){new a.menu(this,b,c)})};var b={id:"generic_menu",open:!1,url:null,list_items:{},position_adjust:null,align_right:!1,close_on_click:!0,close_all_of_type:!1};a.menu=function(c,d,e){this.o=a(c),this.handle=d,this.opts=a.extend({},b,e||{}),this.render();var f=this;return a(document).click(function(){f.close()}),this.opts.close_on_click&&a(".menu_list_item a").click(function(){f.close()}),a(".menu_list_item a.close_on_click").click(function(){f.close()}),!1},a.menu.fn=a.menu.prototype={menu:"0.0.1"},a.menu.fn.extend=a.menu.extend=a.extend,a.menu.fn.extend({close:function(){this.o.hide(),this.handle.removeClass("menu_active")},render:function(){if(a("#"+this.opts.id).length>0)return!1;if(this.opts.close_all_of_type){var b=this.o.attr("class"),c=this.o.attr("id"),d=this.handle.attr("class");d&&a("."+d).removeClass("menu_active"),b&&a("."+b+":not(#"+c+")").hide()}this.handle.toggleClass("menu_active").removeClass("menu_above");if(this.opts.url){var e=this;this.o.append(a("<div/>").addClass("menu").attr("id",this.opts.id).setContentFromAJAXComponent(this.opts.url,this.opts.pars))}else this.position(),this.o.toggle()},position:function(){var b=this.handle.position();c.new_grid?b.top-=1:b.top-=4,b.left-=4;var d=this.handle.innerHeight(),e=a(window).height(),f=180,g=this.handle.offset().top-a(window).scrollTop(),h=e-g<f;h&&(b.top-=this.o.height(),b.top-=d*2,c.new_grid?b.top+=6:b.top+=7,this.handle.addClass("menu_above")),this.opts.position_adjust&&(b.top+=this.opts.position_adjust.top,b.left+=this.opts.position_adjust.left),this.opts.align_right&&(b.left-=this.o.width()-this.handle.innerWidth()),this.o.css("top",b.top+d+"px"),this.o.css("left",b.left+"px")}})})(jQuery)}),require.install("jquery.topic",function(require,a,b){jQuery.addTempTopic=function(a){return this.id=a,this.topic_name=$("#"+a).val(),$.loaded||($.loaded=function(a){a()}),$.loaded(this.fnbind(function(){$(".topic_placeholder").addClass("hidden"),$(".topics_list").append($("<li/>").append($("<a/>").attr("href","#").attr("class","topic_name").text(this.topic_name)).append($("<a/>").attr("href","#").attr("class","topic_remove").text("").click(function(){return $(this).parent().remove(),!1})).attr("class","topic_list_item")),$("#"+a).val("")})),!1}}),require.install("jquery.viewport",function(require,a,b){(function(a){a.loaded||(a.loaded=function(a){a()}),a.loaded(function(){a.belowthefold=function(b,c){var d=a(window).height()+a(window).scrollTop();return d<=a(b).offset().top-c.threshold},a.abovethetop=function(b,c){var d=a(window).scrollTop();return d>=a(b).offset().top+a(b).height()-c.threshold},a.rightofscreen=function(b,c){var d=a(window).width()+a(window).scrollLeft();return d<=a(b).offset().left-c.threshold},a.leftofscreen=function(b,c){var d=a(window).scrollLeft();return d>=a(b).offset().left+a(b).width()-c.threshold},a.inviewport=function(b,c){return!a.rightofscreen(b,c)&&!a.leftofscreen(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)},a.extend(a.expr[":"],{"below-the-fold":function(b,c,d){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b,c,d){return a.abovethetop(b,{threshold:0})},"left-of-screen":function(b,c,d){return a.leftofscreen(b,{threshold:0})},"right-of-screen":function(b,c,d){return a.rightofscreen(b,{threshold:0})},"in-viewport":function(b,c,d){return a.inviewport(b,{threshold:0})}})})})(jQuery)}),require.install("jquery.ajax",function(require,a,b){(function(a){var b=["async","beforeSend","beforeComplete","beforeSuccess","beforeError","cache","complete","contentType","data","dataFilter","dataType","error","global","ifModified","jsonp","password","processData","scriptCharset","success","timeout","type","url","username","xhr"],c={};a.each(b,function(a,b){c[b]=function(a){return this.__options[b]=a,this},c["_"+b]=function(){return this.__options[b]}}),c._options=function(){var c={},d=this;return a.each(b,function(a,b){c[b]=d["_"+b]()}),c},c.options=function(b){if(b){var c=this;a.each(b,function(a,b){c[a](b)})}return this},c.__init__=function(a){return this.__options={data:null},this.options(a),this},c.send=function(b){this.options(b);var c=this._options(),d=c.complete,e=c.error,f=c.success;return c.complete=function(){try{c.beforeComplete!=null&&c.beforeComplete.apply(this,arguments)}finally{d!=null&&d.apply(this,arguments)}},c.error=function(){try{c.beforeError!=null&&c.beforeError.apply(this,arguments)}finally{e!=null&&e.apply(this,arguments)}},c.success=function(){try{c.beforeSuccess!=null&&c.beforeSuccess.apply(this,arguments)}finally{f!=null&&f.apply(this,arguments)}},a.ajax(c)},a.Ajax=require("Class").Class.extend(c)})(jQuery)}),require.install("effects.core",function(require,a,b){jQuery.effects||function(a){a.loaded||(a.loaded=function(a){a()}),a.loaded(function(){function b(b,c){var d=b[1]&&b[1].constructor==Object?b[1]:{};c&&(d.mode=c);var e=b[1]&&b[1].constructor!=Object?b[1]:d.duration?d.duration:b[2];e=a.fx.off?0:typeof e=="number"?e:a.fx.speeds[e]||a.fx.speeds._default;var f=d.callback||a.isFunction(b[1])&&b[1]||a.isFunction(b[2])&&b[2]||a.isFunction(b[3])&&b[3];return[b[0],d,e,f]}function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\\(0, 0, 0, 0\\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}a.effects={version:"1.7.2",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")};a.wrap(\'<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>\');var c=a.parent();if(a.css("position")=="static")c.css({position:"relative"}),a.css({position:"relative"});else{var d=a.css("top");isNaN(parseInt(d,10))&&(d="auto");var e=a.css("left");isNaN(parseInt(e,10))&&(e="auto"),c.css({position:a.css("position"),top:d,left:e,zIndex:a.css("z-index")}).show(),a.css({position:"relative",top:0,left:0})}return c.css(b),c},removeWrapper:function(a){return a.parent().is(".ui-effects-wrapper")?a.parent().replaceWith(a):a},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e},animateClass:function(b,c,d,e){var f=typeof d=="function"?d:e?e:null,g=typeof d=="string"?d:null;return this.each(function(){var d={},e=a(this),h=e.attr("style")||"";typeof h=="object"&&(h=h.cssText),b.toggle&&(e.hasClass(b.toggle)?b.remove=b.toggle:b.add=b.toggle);var i=a.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);b.add&&e.addClass(b.add),b.remove&&e.removeClass(b.remove);var j=a.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);b.add&&e.removeClass(b.add),b.remove&&e.addClass(b.remove);for(var k in j)typeof j[k]!="function"&&j[k]&&k.indexOf("Moz")==-1&&k.indexOf("length")==-1&&j[k]!=i[k]&&(k.match(/color/i)||!k.match(/color/i)&&!isNaN(parseInt(j[k],10)))&&(i.position!="static"||i.position=="static"&&!k.match(/left|top|bottom|right/))&&(d[k]=j[k]);e.animate(d,c,g,function(){typeof a(this).attr("style")=="object"?(a(this).attr("style").cssText="",a(this).attr("style").cssText=h):a(this).attr("style",h),b.add&&a(this).addClass(b.add),b.remove&&a(this).removeClass(b.remove),f&&f.apply(this,arguments)})})}},a.fn.extend({_show:a.fn.show,_hide:a.fn.hide,__toggle:a.fn.toggle,_addClass:a.fn.addClass,_removeClass:a.fn.removeClass,_toggleClass:a.fn.toggleClass,effect:function(b,c,d,e){return a.effects[b]?a.effects[b].call(this,{method:b,options:c||{},duration:d,callback:e}):null},show:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._show.apply(this,arguments):this.effect.apply(this,b(arguments,"show"))},hide:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._hide.apply(this,arguments):this.effect.apply(this,b(arguments,"hide"))},toggle:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||a.isFunction(arguments[0])||typeof arguments[0]=="boolean"?this.__toggle.apply(this,arguments):this.effect.apply(this,b(arguments,"toggle"))},addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},toggleClass:function(b,c,d,e){return typeof c!="boolean"&&c?a.effects.animateClass.apply(this,[{toggle:b},c,d,e]):this._toggleClass(b,c)},morph:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.state==0?(a.start=d(a.elem,e),a.end=c(a.end)):(typeof a.start=="number"&&(a.start=[a.start,a.start,a.start]),typeof a.end=="number"&&(a.end=[a.end,a.end,a.end])),a.elem.style[e]="rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)].join(",")+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})})}(jQuery)}),require.install("effects.shake",function(require,a,b){(function(a){a.loaded||(a.loaded=function(a){a()}),a.loaded(function(){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","left"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",l={},m={},n={};l[j]=(k=="pos"?"-=":"+=")+g,m[j]=(k=="pos"?"+=":"-=")+g*2,n[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})})(jQuery)}),require.install("effects.highlight",function(require,a,b){(function(a){a.loaded||(a.loaded=function(a){a()}),a.loaded(function(){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.color||"#ffff99",g=c.css("backgroundColor");a.effects.save(c,d),c.show(),c.css({backgroundImage:"none",backgroundColor:f});var h={backgroundColor:g};e=="hide"&&(h.opacity=0),c.animate(h,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&a.browser.msie&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})})(jQuery)}),require.install("atexit",function(require,a,b){function e(a){var b;while(b=a.pop())try{b()}catch(c){}}function f(){e(c)}var c=[],d=[];a.register=function(a,b){d.length>0?d[b?d.length-1:0].push(a):(c.length||setTimeout(f,10),c.push(a))},a.hook=function(a){return function(){d.push([]);try{return a.apply(this,arguments)}finally{e(d.pop())}}}}),require.install("tchannel_up",function(require,a,b){function c(a){(new Function(a)).call(window)}var d=!1;a.stop=function(){d=!0},a.start=function(a,b,e,f,g){function q(){return(+(new Date)).toString(16)+Math.random().toString(16).split(".").pop()}function r(a){function h(a,d){return function(f){if(d){window[c]=null;try{delete window[c]}catch(g){}}e!==-1&&(clearTimeout(e),e=-1,a(f),b.parentNode&&b.parentNode.removeChild(b))}}var b=document.createElement("script"),c=a.callback="jsonp"+q(),d=h(u),e=setTimeout(d,7e4),f="onreadystatechange",g=document.body;window[c]=h(t,!0),b.charset="utf-8",b.src=o+$.param(a),b.addEventListener?(b.addEventListener("load",d,!1),b.addEventListener("error",d,!1)):b.attachEvent&&b.attachEvent(f,function(){/loaded|complete/.test(b.readyState)&&d(),b.detachEvent(f,arguments.callee)}),g.insertBefore(b,g.firstChild)}function s(c){clearTimeout(j);var d={min_seq:a,channel:b};l>0&&(d.timeout=l),j=setTimeout(function(){r(d)},c||10)}function t(a){i||(n.reportPageRegainedConnection(),i=!0\n);try{w(a)}catch(b){n.reportPageNeedsReload("tchannel_error");return}h=500,s()}function u(a){if(k)return;h=Math.min(h*2,3e4),h>=1e4&&i&&(n.reportPageLostConnection(),i=!1),s(h)}function w(b){window.log&&log.enabled&&log("tchannel_up.newMessages","Response:",b);if(b.error)throw b.error;var c=b.messages;if(!c)return;a=b.min_seq;for(var d=0;d<c.length;++d)v(c[d])}var h=500,i=!0,j,k=!1,l=2e3,m=0,n=require("w2.livenode"),o;if(!g){var p="tch"+(Math.floor(Math.random()*1e6)+1)+".tch."+f;o=window.location.protocol+"//"+p+"/up/"+e+"/updates?"}else o=window.location.protocol+"//"+g;var v=function(){function e(){if(d)return;var b=a.next;return b&&(window.log&&log.enabled&&log("tchannel_up.enqueue","Evaluating:",b.js),c(b.js),delete a.next,delete b.js,a=b),b}function f(){setTimeout(function(){var a=+(new Date);while(e())if(new Date-a>100)return f()},10)}var a={},b=a;return function(c){b=b.next={js:c},a.next===b&&f()}}();$(window).bind("beforeunload",function(){k=!0}),$(window).bind("load",function(){setTimeout(function(){l=0},m),s(20)})}}),require.install("jquery.webnode2",function(require,a,b){var c=require("ytplayer");(function(a){function e(a){if(!a||!a.parentNode)return!1;var b=a.getAttribute("id"),c;return a.setAttribute("id",d),c=!!document.getElementById(d),b?a.setAttribute("id",b):a.removeAttribute("id"),c}var b=require("lang/fun").bind;a.fn.forgetContents=function(){var a=require("webnode2");return this.find("*").map(function(){var b=a._domidToCid[this.id];if(!b)return;a._ignoreDomids[this.id]=1,a._ignoreCids[b]=1}),this},a.fn.removeEditors=function(){return this.find(".qed_content").remove(),this},a.fn.setContent=function(b){this.removeEditors();var d=c.getYTPlayerStatuses(a(this));return typeof b=="string"?this.html(b):(this.setContentHTML(b),this.setContentJS(b)),c.restoreYTPlayerStatuses(this,d),this},a.fn.setContentHTML=function(a){var b=a.html;return delete a.html,this.html(b)},a.fn.setContentJS=function(a){var b=a.js;delete a.js,window.require.enqueue(new Function("require","var W2 = require(\'webnode2\'),LiveNode = require(\'w2.livenode\');"+b))},a.fn.setContentFromAJAXComponent=function(c,d,e,f,g,h,i){var j=require("webnode2");return d=d||{},d.___W2_parentId=e,d.___W2_windowId=j.windowId,d.___parent_domid=j.getLiveParent(e),f=f||\'<span class="__wn2_loading"><span class="__wn2_loading_spinner"></span><span class="__wn2_loading_text">Loading...</span></span>\',h=h||\'<span style="color: red; font-weight: bold;">ERROR</span>\',a.securepost(c,d,b(this,function(a){a.___ERROR___&&(this.setContent(h),typeof i=="function"&&i(a,a.___ERROR___)),this.setContent(a),typeof g=="function"&&g(a)}),"json"),this.setContent(f),this};var d=(+(new Date)).toString(16);a.inDom=e;var f=!1;a.fn.anchor=function(b){function i(){var b={},d,g=0,h,i,j=[,-1];while(h=c[g++]){if(!e(h[0]))continue;d=a(h[0]).offset().top-h[1],i=b[d]=(b[d]||0)+1,j[1]<i&&(j=[d,i])}j[1]!=-1&&window.scrollTo(0,Math.round(j[0],0)),f=!1}if(f||this.length<1)return this;f=!0;var c=[],d=a(window).scrollTop();c.length=this.length;for(var g=0,h;h=this[g];++g)c[g]=[h,a(h).offset().top-d];return b?i:(require("atexit").register(i),this)}})(jQuery)}),require.install("jquery.quora",function(require,a,b){(function(a){var b=require("webnode2"),c=require("log").log;require("w2.rpc"),a.loaded||(a.loaded=function(a){a()}),a.serverLog=function(a,d,e,f){try{var g=b.rpc("/ajax/server_log_POST").reportError(!1).kwargs({message:a,level:d,other:e}).error(function(){console.log("Couldn\'t log error message: \'"+a+"\' on server.  Meta-failure :(")}).send()}catch(h){}if(f!==!1){var i;switch(d){case"DEBUG":i=c.trace.bind(c);break;case"INFO":i=c.info.bind(c);break;case"WARNING":i=c.warn.bind(c);break;case"ERROR":case"CRITICAL":i=c.error.bind(c);break;default:i=c.log.bind(c)}if(typeof i!="function"){i=c.log.bind(c);if(typeof i!="function")return}try{i("[$.serverLog]",a,e)}catch(h){}}return g}})(jQuery),function(a,b){a.a1ert=b,a.alert=function(a){$.serverLog("Raw alert -- could mean a security vulnerability","WARNING",{alertArg:a},!1),b(a)},a.alert.toString=function(){return""+b}}(this,this.alert)}),require.install("polyfills/requestAnimationFrame",function(require,a,b){(function(){var a=0,b=["webkit","moz"];for(var c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})()}),require.install("w2.dialog",function(require,a,b){(function(){var a=require("lang/fun").bind,b=require("webnode2"),c=require("Class").Class;b.Dialog=c.extend({__init__:function(a,c){this.opener&&this.opener(a),b.Dialog._dialogCounter+=1,this._dialogId=b.Dialog._dialogCounter,this._cid="*dialog*_"+this._dialogId,this._title=null,this._buttons=[],this._ok=null,this._cancel=null,this.opts=$.extend({closeOnEscape:!0,closeOnClickOut:!1,sortButtons:!0,focusOK:!1,dialogClass:"",verticalOffset:150,showXButton:!1},c),this._opened=!1,this._containsComponent=!1,this._content=null,this.opts.html&&(this._content=html)},opt:function(a,b){return this.opts[a]=b,this},noButtons:function(){return this._buttons=[],buttons},ok:function(a,c){return typeof a=="string"&&(c=a,a=null),this._ok=a,c!==!1&&this.addButton(new b.OKButton(this,c,null)),this},cancel:function(a,c,d){return typeof a=="string"&&(c=a,a=null),this._cancel=a,c!==!1&&(d?this.addButton(new b.CancelActionButton(this,c,null)):this.addButton(new b.CancelButton(this,c,null))),this},button:function(a,c,d){return this.addButton(new b.Button(this,c,a,d))},title:function(a){if(this._opened)throw new Error("Can\'t set the title for a dialog once it has been opened.");return this._title=a,this},setTitle:function(a){a&&$("#__w2_dialog_title_"+this._dialogId).text(a)},addButton:function(a){if(this._opened)throw new Error("Can\'t add a button to a dialog once it has been opened");return this._buttons.push(a),this},opener:function(a){return this._opener=a,this},open_:function(){if(this._opened)return this;this._createDOMElements();var c=b._safeGetComponentByCID(this._cid);b._components[this._cid]=c;var d={};d[this._cid]="*ROOT*",b.addParents(d),$(document).bind("keydown.__w2_dialog_"+this._dialogId,a(this,function(a){this.opts.closeOnEscape&&a.keyCode==27&&(this.cancel_(),a.stopPropagation())}));if(this.opts.closeOnClickOut){var e="#__w2_dialog_outer_"+this._dialogId;$(document).on("click",e,a(this,function(a){a.stopPropagation()})),$(document).on("click",":not("+e+","+e+" *)",a(this,function(a){this.cancel_(),a.stopPropagation()}))}return this._opened=!0,typeof this._open=="function"&&this._open.apply(this,arguments),this},cancel_:function(a){var b=!0;typeof this._cancel=="function"&&this._cancel(this._callbackArg(a))===!1&&(b=!1),b&&this.close_()},_callbackArg:function(a){var c={dialog:this,dialogWrapper:b._safeGetComponentByCID(this._cid),button:a};return this._containsComponent&&(c.dialogComponent=b._safeGetComponentByCID(this._cid).lookup("__dialog__")),c},ok_:function(a){var b=!0;return typeof this._ok=="function"&&this._ok(this._callbackArg(a))===!1&&(b=!1),b&&this.close_(),b},close_:function(){return this._opened?($(document).unbind(".__w2_dialog_"+this._dialogId),$("#__w2_dialog_outer_"+this._dialogId).forgetContents(),b.unloadComponent(this._cid),$("#__w2_dialog_outer_"+this._dialogId).removeEditors().remove(),this._opened=!1,typeof this._close=="function"&&this._close.apply(this,arguments),this):this},open:function(a){return this._open=a,this},close:function(a){return this._close=a,this},html:function(a){return this._content=a,this.open_()},text:function(a){return this.html(a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))},_createDOMElements:function(){var b=this.opts.width||420;require("settings").new_grid&&(b=this.opts.width||470);var c,d=$("<div />").attr("id","__w2_dialog_outer_"+this._dialogId).addClass("dialog").addClass("w4").addClass(this.opts.dialogClass);this._title?(c=$("<div />").addClass("dialog_wrapper").append($("<h2 />").attr("id","__w2_dialog_title_"+this._dialogId).addClass("dialog_header").addClass("dialog_frame").text(this._title)),this._content&&c.append($("<div />").addClass("dialog_frame").addClass("dialog_contents").addClass("dialog_body").html(this._content))):c=$("<div />").addClass("dialog_component").addClass("dialog_wrapper").addClass("dialog_body").html(this._content),this.opts.showXButton&&c.append($("<a />").attr("href","#").addClass("remove").click(a(this,this.cancel_)).click(function(){return!1})),this._buttons.length&&c.append($("<div />").addClass("dialog_frame").addClass("dialog_buttons").append(this._buttonsDOM()));var e=$(window).width(),f=$(window).scrollTop(),g=b,h=e-g,i=h/2;if(require("settings").mobile)d.append(c).css("top",f).css("left","10px").css("right","10px").css("width","auto").appendTo($("div.mobile_page"));else{var f=this.opts.verticalOffset;$(window).height()<600&&(f=$(window).scrollTop(),c.css("position","static")),c.css("width",b-10+"px"),d.append(c).css("top",f+"px").css("left",this.opts.left||i-15+"px").css("width",b+10+"px").appendTo($(document.body))}if(this.opts.focusOK)for(var j=this._buttons.length-1;j;j--){var k=this._buttons[j];if(k._type=="submit"){$("#__w2_dialog_button_"+this._dialogId+"_"+j).focus();break}}return},_buttonDOM:function(b,c){b._index=c;var d=$("<a />").addClass("dialog_button").text(b._text).click(a(b,b.click_)).click(function(){return!1}).attr("href","#").attr("id","__w2_dialog_button_"+this._dialogId+"_"+c);switch(b._type){case"submit":d.addClass("submit_button");break;case"link":case"cancel":d.addClass("cancel");break;case"action":default:d.addClass("action_button")}return d},_buttonsDOM:function(){var a=$("<div />");this.opts.sortButtons&&this._buttons.sort(function(a,b){return a._priority-b._priority});for(var b=this._buttons.length-1;b>=0;b--){var c=this._buttons[b];a.append(this._buttonDOM(c,b))}return a.addClass("dialog_buttons_contents")},_loadingHTML:function(){return\'<div id="__w2_dialog_container_\'+this._dialogId+\'"></div>\'},load:function(c,d){d=$.extend({args:[],kwargs:{},showImmediately:!0,showOnLoad:!0},d),this._content=this._loadingHTML(),this.open_();var e=this._opener.serverCall(c).xargs(d.args).kwargs(d.kwargs).success(a(this,function(a){this._opener.__dialog__=this;var c=b._safeGetComponentByCID(this._cid);c.__opener__=this._opener,c.__dialog__=this,b._knowsAbout[this._cid].__dialog__="__dialog__",b._knowsAbout[this._cid].__dialog_wrapper__=".",b._children[this._cid].__dialog__=b._allChildren[this._cid][0],this._containsComponent=!0})).contentFor($("#__w2_dialog_container_"+this._dialogId),{parentCID:this._cid},!0);return this.opts.error&&e.error.apply(this,this.opts.error),this.opts.except&&e.except.apply(this,this.opts.except),e.send(),this}}),b.Dialog.openerFor=function(a){return a.lookup("__dialog_wrapper__").__opener__},b.Dialog.dialogFor=function(a){return a.lookup("__dialog_wrapper__").__dialog__},b.Dialog._dialogCounter||(b.Dialog._dialogCounter=0),b.Button=c.extend({__init__:function(a,b,c,d){this._dialog=a,this._text=b,this._callback=c,this._opts=d||{},this._priority=50,this._type="action"},text:function(a){this._text=a},callback:function(a){this._callback=a},click_:function(){var a=!0;typeof this._callback=="function"&&this._callback.call(this._dialog,this._dialog._callbackArg(this))===!1&&(a=!1),a&&this._dialog.close_()}}),b.OKButton=b.Button.extend({__init__:function(b,c,d,e){e=$.extend({style:"ok_button"},e),this._super(b,c||"OK",a(this,function(){var a=!0;return typeof d=="function"&&d.call(this,this._dialog._callbackArg(this))===!1&&(a=!1),a?this._dialog.ok_.call(this._dialog,this):a}),e),this._priority=75,this._type="submit"}}),b.CancelButton=b.Button.extend({__init__:function(b,c,d,e){e=$.extend({style:"cancel_button"},e),this._super(b,c||"Cancel",a(this,function(){var a=!0;typeof d=="function"&&d.call(this,this._dialog._callbackArg(this))===!1&&(a=!1),a&&this._dialog.cancel_.call(this._dialog,this)}),e),this._priority=25,this._type="link"}}),b.CancelActionButton=b.CancelButton.extend({__init__:function(a,b,c,d){this._super(a,b,c,d),this._type="action"}})})()}),require.install("w2.inputvalidate",function(require,a,b){(function(){var a=require("webnode2");a.InputValidator=a.Component.extend({init:function(){this._super.apply(this,arguments),this.isValid=null},onLoad:function(){var a=this.input(),b;a.bind("change blur",this.fnbind(function(){var c=a.val();c!==b&&(b=c,this.validate())})),this._managerComponent().__validators=this._managerComponent().__validators||[],this._managerComponent().__validators.push(this)},input:function(){return this.parent().$("#"+this.id)},_managerComponent:function(){return this.parent()},validate:function(a){a=a||{};var b=this.input().val();if(!b)this.showErrorOnComponent(".@incomplete"),this.hideAllErrors(),this.isValid=null;else{this.hideAllErrors();var c=setTimeout(this.fnbind(function(){this.$(".@asking_server").show()}),150);this.serverCall("validate").kwargs({value:this.input().val()}).success(this.fnbind(function(b){clearTimeout(c),this.hideAllErrors(),b.valid?(this.isValid=!0,b.message&&(this.setWidth(this.$("#@valid_message")),this.$("#@valid_message").text(b.message)),this.$(".@valid").text()&&this.showErrorOnComponent(".@valid"),this.hideAllErrors(),this.input().removeClass("error"),typeof a.valid=="function"&&a.valid(b.message)):(this.isValid=!1,b.message&&(this.setWidth(this.$("#@invalid_message")),this.$("#@invalid_message").text(b.message)),this.hideAllErrors(),this.showErrorOnComponent(".@invalid"),typeof a.invalid=="function"&&a.invalid(b.message))})).send()}},populate_if_valid:function(a,b){this.serverCall("validate").kwargs({value:a}).success(this.fnbind(function(c){c.valid&&(this.isValid=!0,b.val(a))})).send()},setWidth:function(a){var b=parseInt(this.input().width())-4;b>0&&a.css("width",b+"px")},hideAllErrors:function(){this.$(".@invalid").hide(),this.$(".@valid").hide(),this.$(".@incomplete").hide(),this.$(".@asking_server").hide(),this.input().removeClass("input_validation_error"),this.$("textarea").removeClass("input_validation_error")},showErrorOnComponent:function(a){this.$(a).show(),this.input().addClass("input_validation_error"),this.$("textarea").addClass("input_validation_error")}}),a.InputValidator.validate=function(a,b){b=b||{},a.__validators&&a.__validators.length?a.__validators[0].validate(b):typeof b.valid=="function"&&b.valid()}})()}),require.install("w2.interaction",function(require,a,b){(function(){var a=require("log").log,b=require("webnode2");b._InteractionModeBanner=b.Component.extend({init:function(){this._super.apply(this,arguments),b.interactionMode=this,this._changedComponents={},this._cidToDomId={},this._otherInteractions={},this._states={OFF:0,PENDING:1,ON:2,BLOCKING:3}},onLoad:function(){a&&a.enabled&&a("w2.interaction._InteractionModeBanner.onLoad","onLoad is called on",this),this._state=this._states.OFF,this._lastVal=null,this._lastDOMNode=null,this.bindInteractionMode($(":input,div[contenteditable=true]")),$(document).bind("w2addcomponents",this.fnbind(function(c,d){var e=d.parents;a&&a.enabled&&a("w2.interaction._InteractionModeBanner.onLoad","w2addcomponents is triggered, metadata: ",d),$.each(e,this.fnbind(function(a,c){var d=(new b.VirtualComponent(a)).$("%@interaction");this.bindInteractionMode(d)}))})),this.$("#@resume").click(this.fnbind(function(a){return require("window_manager").reload(),!1}))},updateStateForLastFocusedDOMElement:function(a){if(!a)return!1;if(this._state==this._states.PENDING){var b=a.getAttribute("w2cid");return this._lastVal==this._val(a)?(this._changedComponents[b]=this._states.OFF,!1):(this._changedComponents[b]=this._states.ON,this._cidToDomId[b]=this._getLiveDOMIdForElement(a),!0)}if(this._state==this._states.ON){var b=a.getAttribute("w2cid"),c=this._changedComponents[b];return this._lastVal==this._val(a)&&c==this._states.PENDING?(this._changedComponents[b]=this._states.OFF,!1):(this._changedComponents[b]=this._states.ON,this._cidToDomId[b]=this._getLiveDOMIdForElement(a),!0)}return!1},_getLiveDOMIdForElement:function(a){return a.id&&a.id.substr(0,3)=="ld_"?a.id:a.parentNode?this._getLiveDOMIdForElement(a.parentNode):null},isBlocking:function(){return this._state==this._states.BLOCKING},startBlocking:function(){this.showBanner(),this._setBlockingState()},_setBlockingState:function(){this._state=this._states.BLOCKING},bindInteractionMode:function(a){a.not(".ignore_interaction").bind("focus.w2interactionmode",this.fnbind(function(a){var b=a.target.getAttribute("w2cid");this._lastVal=this._val(a.target),this._lastDOMNode=a.target;if(require("w2.livenode").state.pendingMutationCount==0)if(this._state==this._states.OFF)this._changedComponents[b]=this._states.PENDING,this._state=this._states.PENDING;else{var c=this._changedComponents[b];if(!c||c==this._states.OFF)this._changedComponents[b]=this._states.PENDING}})).bind("blur.w2interactionmode",this.fnbind(function(a){var b=a.target.getAttribute("w2cid");switch(this._state){case this._states.PENDING:this.updateStateForLastFocusedDOMElement(a.target),this._lastVal==this._val(a.target)?this._state=this._states.OFF:this._state=this._states.ON;break;case this._states.ON:this.updateStateForLastFocusedDOMElement(a.target);break;case this._states.OFF:case this._states.BLOCKING:break;default:console.error("Unknown state of InteractionMode at blur time... weird")}}))},_val:function(a){var b=$(a);return b.is(":input")?b.val():b.html()},_setVal:function(a,b){var c=$(a);c.is(":input")?c.val(b):c.html(b)},showBanner:function(){if(this.new_grid){var a=this;this.$("#@banner").show(),setTimeout(function(){a.$("#@banner").addClass("is_shown")},1);return}return this.$("#@banner").slideDown(175)},hideBanner:function(){if(this.new_grid){var a=this;a.$("#@banner").removeClass("is_shown"),setTimeout(function(){a.$("#@banner").hide()},200);return}return this.$("#@banner").slideUp(100)},resumeUpdates:function(){this._state=this._states.OFF,this._changedComponents={},this.hideBanner();var a=require("w2.livenode"),b=a.state.interactionDelayedLivedepOperations;while(b.length>0&&this._state==this._states.OFF){var c=b.shift();a.onLivedepOperations(c.data,c.textStatus,!0)}}})})()}),require.installLazy("jquery.ui-1.8.17",\'(function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\\\\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\\\\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})})(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix||c:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,j=d.call(arguments,1),k=this;return g=!h&&j.length?a.widget.extend.apply(null,[g].concat(j)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,j),d!==e&&d!==b?(k=d&&d.jquery?k.pushStack(d.get()):d,!1):b):a.error("no such method \\\'"+g+"\\\' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; "+"attempted to call method \\\'"+g+"\\\'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),k}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function j(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(j.guid=h.guid=h.guid||j.guid||a.guid++);var k=e.match(/^(\\\\w+)\\\\s*(.*)$/),l=k[1]+g.eventNamespace,m=k[2];m?f.delegate(m,l,j):d.bind(l,j)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,f=1===c.which,g="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return f&&!g&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\\\\+\\\\-]\\\\d+(\\\\.[\\\\d]+)?%?/,m=/^\\\\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style=\\\'display:block;position:absolute;width:50px;height:50px;overflow:hidden;\\\'><div style=\\\'height:100px;width:auto;\\\'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,v,w,x=a(b.of),y=a.position.getWithinInfo(b.within),z=a.position.getScrollInfo(y),A=(b.collision||"flip").split(" "),B={};return w=e(x),x[0].preventDefault&&(b.at="left top"),n=w.width,p=w.height,q=w.offset,v=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),B[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===A.length&&(A[1]=A[0]),"right"===b.at[0]?v.left+=n:"center"===b.at[0]&&(v.left+=n/2),"bottom"===b.at[1]?v.top+=p:"center"===b.at[1]&&(v.top+=p/2),f=c(B.at,n,p),v.left+=f[0],v.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),u=d(this,"marginTop"),w=l+o+d(this,"marginRight")+z.width,C=m+u+d(this,"marginBottom")+z.height,E=a.extend({},v),F=c(B.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?E.left-=l:"center"===b.my[0]&&(E.left-=l/2),"bottom"===b.my[1]?E.top-=m:"center"===b.my[1]&&(E.top-=m/2),E.left+=F[0],E.top+=F[1],a.support.offsetFractions||(E.left=i(E.left),E.top=i(E.top)),e={marginLeft:o,marginTop:u},a.each(["left","top"],function(c,d){a.ui.position[A[c]]&&a.ui.position[A[c]][d](E,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:w,collisionHeight:C,offset:[f[0]+F[0],f[1]+F[1]],my:b.my,at:b.at,within:y,elem:k})}),b.using&&(j=function(a){var c=q.left-E.left,d=c+n-l,e=q.top-E.top,f=e+p-m,i={target:{element:x,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:E.left,top:E.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&n>h(c+d)&&(i.horizontal="center"),m>p&&p>h(e+f)&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(E,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class=\\\'ui-draggable-iframeFix\\\' style=\\\'background: #fff;\\\'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===e.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):e.containment.constructor===Array?(this.containment=e.containment,undefined):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c),undefined):(this.containment=null,undefined)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance\\n.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,u=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>u||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=p>=Math.abs(j-u),e=p>=Math.abs(k-s),f=p>=Math.abs(h-r),g=p>=Math.abs(i-q),d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=p>=Math.abs(j-s),e=p>=Math.abs(k-u),f=p>=Math.abs(h-q),g=p>=Math.abs(i-r),d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?(b=arguments[0],undefined):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>b;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):undefined}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var f,g,h=(a.positionAbs||a.position.absolute).left,i=(a.positionAbs||a.position.absolute).top,j=h+a.helperProportions.width,k=i+a.helperProportions.height,l=c.offset.left,m=c.offset.top,n=l+c.proportions().width,o=m+c.proportions().height;switch(d){case"fit":return h>=l&&n>=j&&i>=m&&o>=k;case"intersect":return h+a.helperProportions.width/2>l&&n>j-a.helperProportions.width/2&&i+a.helperProportions.height/2>m&&o>k-a.helperProportions.height/2;case"pointer":return f=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,g=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(g,m,c.proportions().height)&&b(f,l,c.proportions().width);case"touch":return(i>=m&&o>=i||k>=m&&o>=k||m>i&&k>o)&&(h>=l&&n>=h||j>=l&&n>=j||l>h&&j>n);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;f.length>d;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;h.length>e;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,f,g,h=a.ui.intersect(b,this,this.options.tolerance),j=!h&&this.isover?"isout":h&&!this.isover?"isover":null;j&&(this.options.greedy&&(f=this.options.scope,g=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===f}),g.length&&(d=a.data(g[0],"ui-droppable"),d.greedyChild="isover"===j)),d&&"isover"===j&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[j]=!0,this["isout"===j?"isover":"isout"]=!1,this["isover"===j?"_over":"_out"].call(this,c),d&&"isout"===j&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||c(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):undefined}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d?!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\\\\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),f=c&&d,g=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return f?this.floating?h&&"right"===h||"down"===g?2:1:g&&("down"===g?2:1):!1},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"===g&&d||"left"===g&&!d:f&&("down"===f&&c||"up"===f&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),f=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(f)}):"img"===d&&f.attr("src",b.currentItem.attr("src")),c||f.css("visibility","hidden"),f},update:function(a,f){(!c||d.forcePlaceholderSize)&&(f.height()||f.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var f,g,h,j,k,l,m,n,o,p,q=null,r=null;for(f=this.containers.length-1;f>=0;f--)if(!a.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(q&&a.contains(this.containers[f].element[0],q.element[0]))continue;q=this.containers[f],r=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",d,this._uiHash(this)),this.containers[f].containerCache.over=0);if(q)if(1===this.containers.length)this.containers[r].containerCache.over||(this.containers[r]._trigger("over",d,this._uiHash(this)),this.containers[r].containerCache.over=1);else{for(h=1e4,j=null,p=q.floating||c(this.currentItem),k=p?"left":"top",l=p?"width":"height",m=this.positionAbs[k]+this.offset.click[k],g=this.items.length-1;g>=0;g--)a.contains(this.containers[r].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(!p||b(this.positionAbs.top+this.offset.click.top,this.items[g].top,this.items[g].height))&&(n=this.items[g].item.offset()[k],o=!1,Math.abs(n-m)>Math.abs(n+this.items[g][l]-m)&&(o=!0,n+=this.items[g][l]),h>Math.abs(n-m)&&(h=Math.abs(n-m),j=this.items[g],this.direction=o?"up":"down"));if(!j&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[r])return;j?this._rearrange(d,j,null,!0):this._rearrange(d,null,this.containers[r].element,!0),this._trigger("change",d,this._uiHash()),this.containers[r]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[r],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",d,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in \\nthis._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class=\\\'ui-slider-handle ui-state-default ui-corner-all\\\' href=\\\'#\\\'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b),undefined;if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;d.length>f;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(c){var d,f,g,h,i=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,i),d===!1))return}switch(h=this.options.step,f=g=this.options.values&&this.options.values.length?this.values(i):this.value(),c.keyCode){case a.ui.keyCode.HOME:g=this._valueMin();break;case a.ui.keyCode.END:g=this._valueMax();break;case a.ui.keyCode.PAGE_UP:g=this._trimAlignValue(f+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:g=this._trimAlignValue(f-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===this._valueMax())return;g=this._trimAlignValue(f+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===this._valueMin())return;g=this._trimAlignValue(f-h)}this._slide(c,i,g)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery);\'\n),require.install("swfobject",function(require,a,b){var c=null,d=function(){c==null&&(c=function(){function B(){if(u)return;try{var a=j.getElementsByTagName("body")[0].appendChild(R("span"));a.parentNode.removeChild(a)}catch(b){return}u=!0;var c=m.length;for(var d=0;d<c;d++)m[d]()}function C(a){u?a():m[m.length]=a}function D(b){if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof j.addEventListener!=a)j.addEventListener("load",b,!1);else if(typeof i.attachEvent!=a)S(i,"onload",b);else if(typeof i.onload=="function"){var c=i.onload;i.onload=function(){c(),b()}}else i.onload=b}function E(){l?F():G()}function F(){var c=j.getElementsByTagName("body")[0],d=R(b);d.setAttribute("type",f);var e=c.appendChild(d);if(e){var g=0;(function(){if(typeof e.GetVariable!=a){var b=e.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),z.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(g<10){g++,setTimeout(arguments.callee,10);return}c.removeChild(d),e=null,G()})()}else G()}function G(){var b=n.length;if(b>0)for(var c=0;c<b;c++){var d=n[c].id,e=n[c].callbackFn,f={success:!1,id:d};if(z.pv[0]>0){var g=Q(d);if(g)if(T(n[c].swfVersion)&&!(z.wk&&z.wk<312))V(d,!0),e&&(f.success=!0,f.ref=H(d),e(f));else if(n[c].expressInstall&&I()){var h={};h.data=n[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));var i={},j=g.getElementsByTagName("param"),k=j.length;for(var l=0;l<k;l++)j[l].getAttribute("name").toLowerCase()!="movie"&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));J(h,i,d,e)}else K(g),e&&e(f)}else{V(d,!0);if(e){var m=H(d);m&&typeof m.SetVariable!=a&&(f.success=!0,f.ref=m),e(f)}}}}function H(c){var d=null,e=Q(c);if(e&&e.nodeName=="OBJECT")if(typeof e.SetVariable!=a)d=e;else{var f=e.getElementsByTagName(b)[0];f&&(d=f)}return d}function I(){return!v&&T("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function J(b,c,d,e){v=!0,s=e||null,t={success:!1,id:d};var f=Q(d);if(f){f.nodeName=="OBJECT"?(q=L(f),r=null):(q=f,r=d),b.id=g;if(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)b.width="310";if(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)b.height="137";j.title=j.title.slice(0,47)+" - Flash Player Installation";var h=z.ie&&z.win?"ActiveX":"PlugIn",k="MMredirectURL="+i.location.toString().replace(/&/g,"%26")+"&MMplayerType="+h+"&MMdoctitle="+j.title;typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k;if(z.ie&&z.win&&f.readyState!=4){var l=R("div");d+="SWFObjectNew",l.setAttribute("id",d),f.parentNode.insertBefore(l,f),f.style.display="none",function(){f.readyState==4?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}()}M(b,c,d)}}function K(a){if(z.ie&&z.win&&a.readyState!=4){var b=R("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(L(a),b),a.style.display="none",function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(L(a),a)}function L(a){var c=R("div");if(z.win&&z.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function M(c,d,e){var g,h=Q(e);if(z.wk&&z.wk<312)return g;if(h){typeof c.id==a&&(c.id=e);if(z.ie&&z.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?d.movie=c[j]:j.toLowerCase()=="styleclass"?i+=\' class="\'+c[j]+\'"\':j.toLowerCase()!="classid"&&(i+=" "+j+\'="\'+c[j]+\'"\'));var k="";for(var l in d)d[l]!=Object.prototype[l]&&(k+=\'<param name="\'+l+\'" value="\'+d[l]+\'" />\');h.outerHTML=\'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"\'+i+">"+k+"</object>",o[o.length]=c.id,g=Q(c.id)}else{var m=R(b);m.setAttribute("type",f);for(var n in c)c[n]!=Object.prototype[n]&&(n.toLowerCase()=="styleclass"?m.setAttribute("class",c[n]):n.toLowerCase()!="classid"&&m.setAttribute(n,c[n]));for(var p in d)d[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&N(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}}return g}function N(a,b,c){var d=R("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function O(a){var b=Q(a);b&&b.nodeName=="OBJECT"&&(z.ie&&z.win?(b.style.display="none",function(){b.readyState==4?P(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function P(a){var b=Q(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function Q(a){var b=null;try{b=j.getElementById(a)}catch(c){}return b}function R(a){return j.createElement(a)}function S(a,b,c){a.attachEvent(b,c),p[p.length]=[a,b,c]}function T(a){var b=z.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function U(c,d,e,f){if(z.ie&&z.mac)return;var g=j.getElementsByTagName("head")[0];if(!g)return;var h=e&&typeof e=="string"?e:"screen";f&&(w=null,x=null);if(!w||x!=h){var i=R("style");i.setAttribute("type","text/css"),i.setAttribute("media",h),w=g.appendChild(i),z.ie&&z.win&&typeof j.styleSheets!=a&&j.styleSheets.length>0&&(w=j.styleSheets[j.styleSheets.length-1]),x=h}z.ie&&z.win?w&&typeof w.addRule==b&&w.addRule(c,d):w&&typeof j.createTextNode!=a&&w.appendChild(j.createTextNode(c+" {"+d+"}"))}function V(a,b){if(!y)return;var c=b?"visible":"hidden";u&&Q(a)?Q(a).style.visibility=c:U("#"+a,"visibility:"+c)}function W(b){var c=/[\\\\\\"<>\\.;]/,d=c.exec(b)!=null;return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var a="undefined",b="object",d="Shockwave Flash",e="ShockwaveFlash.ShockwaveFlash",f="application/x-shockwave-flash",g="SWFObjectExprInst",h="onreadystatechange",i=window,j=document,k=navigator,l=!1,m=[E],n=[],o=[],p=[],q,r,s,t,u=!1,v=!1,w,x,y=!0,z=function(){var c=typeof j.getElementById!=a&&typeof j.getElementsByTagName!=a&&typeof j.createElement!=a,g=k.userAgent.toLowerCase(),h=k.platform.toLowerCase(),m=h?/win/.test(h):/win/.test(g),n=h?/mac/.test(h):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof k.plugins!=a&&typeof k.plugins[d]==b)r=k.plugins[d].description,r&&(typeof k.mimeTypes==a||!k.mimeTypes[f]||!!k.mimeTypes[f].enabledPlugin)&&(l=!0,p=!1,r=r.replace(/^.*\\s+(\\S+\\s+\\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\\.(.*)\\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof i.ActiveXObject!=a)try{var s=new ActiveXObject(e);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:c,pv:q,wk:o,ie:p,win:m,mac:n}}(),A=function(){if(!z.w3)return;(typeof j.readyState!=a&&j.readyState=="complete"||typeof j.readyState==a&&(j.getElementsByTagName("body")[0]||j.body))&&B(),u||(typeof j.addEventListener!=a&&j.addEventListener("DOMContentLoaded",B,!1),z.ie&&z.win&&(j.attachEvent(h,function(){j.readyState=="complete"&&(j.detachEvent(h,arguments.callee),B())}),i==top&&function(){if(u)return;try{j.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}B()}()),z.wk&&function(){if(u)return;if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}B()}(),D(B))}(),X=function(){z.ie&&z.win&&window.attachEvent("onunload",function(){var a=p.length;for(var b=0;b<a;b++)p[b][0].detachEvent(p[b][1],p[b][2]);var d=o.length;for(var e=0;e<d;e++)O(o[e]);for(var f in z)z[f]=null;z=null;for(var g in c)c[g]=null;c=null})}();return{registerObject:function(a,b,c,d){if(z.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,n[n.length]=e,V(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(z.w3)return H(a)},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};z.w3&&!(z.wk&&z.wk<312)&&c&&d&&e&&f&&g?(V(d,!1),C(function(){e+="",f+="";var n={};if(k&&typeof k===b)for(var o in k)n[o]=k[o];n.data=c,n.width=e,n.height=f;var p={};if(j&&typeof j===b)for(var q in j)p[q]=j[q];if(i&&typeof i===b)for(var r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(T(g)){var s=M(n,p,d);n.id==d&&V(d,!0),m.success=!0,m.ref=s}else{if(h&&I()){n.data=h,J(n,p,d,l);return}V(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){y=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:T,createSWF:function(a,b,c){return z.w3?M(a,b,c):undefined},showExpressInstall:function(a,b,c,d){z.w3&&I()&&J(a,b,c,d)},removeSWF:function(a){z.w3&&O(a)},createCSS:function(a,b,c,d){z.w3&&U(a,b,c,d)},addDomLoadEvent:C,addLoadEvent:D,getQueryParamValue:function(a){var b=j.location.search||j.location.hash;if(b){/\\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return W(b);var c=b.split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return W(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(v){var a=Q(g);a&&q&&(a.parentNode.replaceChild(q,a),r&&(V(r,!0),z.ie&&z.win&&(q.style.display="block")),s&&s(t)),v=!1}}}}())},e=require("settings");if(e.client_side_js_load_delays_enabled){var f=function(a,b){return d(),c[a].apply(c,b)};a.embedSWF=function(){var a=arguments;$.whenIdle(350,function(){f("embedSWF",a)},"load swfobject (from embedSWF)")},a.removeSWF=function(){return f("removeSWF",arguments)},$.whenIdle(350,d,"load swfobject (by timeout)")}else d(),a.embedSWF=c.embedSWF,a.removeSWF=c.removeSWF}),require.install("qed/modifiers",function(require,a,b){function e(a,b,d){return b=b.toLowerCase(),function(e,f){var g={},h=c.getDocument(e).documentElement,i=e;g[a]=b;while(i&&i!==h){i=c.convertToStyleSpan(i);var j=i.style[a].toLowerCase();if(j===b){g[a]=d;break}if(j===d){g[a]=b;break}i=i.parentNode}c.applyStyle(e,f,g)}}function f(a){c.hasTag(a.nextSibling,"br")&&c.remove(a.nextSibling)}function h(a){for(var b=0;b<a.length;b++)c.replaceWithChildren(a[b])}function i(a,b){var d=c.getEditorRoot(a),e=c.getDocument(d),h=a;while(h){var i=c.findPrevLine(h),j=c.findNextLine(h),k=c.nextLeaf(j);c.makeSiblings(i,j),f(i);var l=c.extractSiblings(e.createElement(g),i.nextSibling,j);c.insertBefore(i.parentNode,l,j);var m=c.nextLeaf(i),n;while(m&&m!==j){if(m===b||c.contains(m,b)){n=!0;break}m=c.nextLeaf(m)}c.remove(i,j);var o=l.parentNode;o!==d&&c.hasTag(o,"div")&&o.childNodes.length===1&&c.replaceWithChildren(o);if(n){f(l);break}h=k}if(c.isWebKit&&!a.previousSibling&&a.nextSibling==b&&!b.nextSibling){var p=e.createElement("br");c.insertBefore(a.parentNode,p,a)}}function j(a){var b=c.getEditorRoot(a),d=0;while(a&&a!==b){if(a.nodeType!==3){var e=a.nodeName.toLowerCase();(e==="ol"||e==="ul")&&d++}a=a.parentNode}return d}function k(a,b,d){var e=j(a);if(e>=10)return;var f=d?"ol":"ul",g=c.formatBlock(a,b,f),h=function(d){if(c.hasTag(d,"li")&&d.childNodes.length===1){var e=d.childNodes[0];if(c.hasTag(e,"span")){var f=e.childNodes;(f.length===0||f.length===2&&f[0]===a&&f[1]===b)&&e.appendChild(document.createElement("br"))}}return d},i=c.wrapLines(g,"li",h);return assert(c.contains(i,a)),assert(c.contains(i,b)),i}function m(a){return l.test(a.nodeName)}function o(a){return a.nodeType===3?/\\S/.test(a.nodeValue):n.test(a.nodeName)?!1:!0}function p(a){var b=[/\\xA0/g,"&nbsp;"];for(var c in b)a=a.replace(b[c]," ");return a}function q(a){s(a,!0)}function r(a){s(a,!1)}function s(a,b){if(a&&a.nodeType===3){var c=new RegExp(b?"^ +":" +$"),d=p(a.textContent);d=d.replace(c,""),a.nodeValue=d}}function t(a){return v(a,!0)}function u(a){return v(a,!1)}function v(a,b){if(!a||a.nodeType!==3)return!1;var c=p(a.textContent),d=b?0:c.length-1;return c.charAt(d)==" "}function w(a,b){var d=c.findAncestor(a,m);if(d){var e=b?c.findNextLine(a):c.findPrevLine(a),f=function(a){return c.remove(e),a};if(!c.contains(d,e))return f(!1);for(var g=b?c.prevLeaf:c.nextLeaf,h=e;h;h=g(h,d))if(o(h))return f(!1);while(e.parentNode!==d)c.splitParent(e);c.splitParent(e);var i=c.replaceWithChildren(b?e.previousSibling:e.nextSibling);return assert(i.nodeName===d.nodeName),f(!0)}}function x(a,b){return c.isWebKit?y(a,b):c.isIE?z(a,b):!1}function y(a,b){var d=c.getDocument(a),e,f,g=c.findHeadingInLi(a),h=c.findHeadingInLi(b);if(!g&&!h)return!1;var i=a.parentNode===b.parentNode;c.removeEmptyTextNodes(a,!1),c.removeEmptyTextNodes(b,!0),c.firstLeaf(g)===a&&(c.insertBefore(g,a,g.firstChild),e=d.createElement("br"),c.insertBefore(a.parentNode,e,a)),!b.nextSibling&&h&&h.appendChild(b),f=d.createElement("br"),c.insertBefore(b.parentNode,f,b.nextSibling),c.makeSiblings(a,b);var j,k=a.nextSibling;while(k&&k!==b)j=k.nextSibling,c.remove(k),k=j;i&&c.splitParentsUntil(a,b,g.parentNode);var l=!1;return f&&(c.insertBefore(f.parentNode,a,f.nextSibling),c.insertBefore(f.parentNode,b,f.nextSibling)),c.remove(e),c.remove(f),!0}function z(a,b){var d=c.findHeadingInLi(b);if(!d)return;var e=b.nextSibling;while(e&&e.nodeType===3)c.cleanTextNode(e),e=e.nextSibling;c.removeEmptyTextNodes(b,!0);if(!b.nextSibling){var f=document.createTextNode("\xef\xbb\xbf");c.insertBefore(b.parentNode,f,b.nextSibling)}return!1}var c=require("./util"),d=require("./npd");a.bold=e("fontWeight","bold","inherit"),a.italic=e("fontStyle","italic","normal"),a.underline=e("textDecoration","underline","none"),a.blockquote=function(a,b){return c.formatBlock(a,b,"blockquote")};var g="h1";a.heading=function(a,b){function f(a){c.hasTag(a,g)&&e.push(a)}function j(a){a=a.parentNode;while(a&&a!==d)f(a),a=a.parentNode}var d=c.getEditorRoot(a);if(!d)return;var e=[];a.nextSibling===b?j(a):(c.traverseAllNodesBetween(a,b,d,function(a){f(a)}),a.parent===b.parent&&e.length===0&&j(a)),e.length>0?h(e):i(a,b)},a.orderedList=function(a,b){return k(a,b,!0)},a.unorderedList=function(a,b){return k(a,b,!1)},a.insertHR=function(a,b,d){var e=c.getEditorRoot(a),f=document.createElement("img"),g=document.createElement("div");f.setAttribute("class","hr_img"),f.setAttribute("type","hr"),f.setAttribute("src",d),g.appendChild(f);var h=c.findAncestor(a,c.causesLineBreak);if(h&&e!==h)if(c.isHeading(h)||c.hasTag(h,"div")){while(a.parentNode!==h)c.splitParent(a);c.splitParent(a)}c.insertBefore(a.parentNode,g,a);if(c.isGecko){var i=document.createElement("br");c.insertBefore(a.parentNode,b,g.nextSibling),c.insertBefore(a.parentNode,a,b),c.insertBefore(a.parentNode,i,a)}return f};var l=/^blockquote|address$/i,n=/^br|span|b|i|u|em|strong|h\\d$/i;a.maybeFixSpaceOnPressingSpace=function(a,b){c.removeEmptyTextNodes(a,!1),c.removeEmptyTextNodes(b,!0);var d=c.findAncestor(a,c.causesLineBreak),e=c.prevLeaf(a,d),f=c.nextLeaf(b,d),g=u(e),h=t(f),i=a.nextSibling===b;if(i){if(g&&!h)return!0;if(c.checkBeginningOfLine(a))return!0}else if(c.checkBeginningOfLine(a)){d=c.findAncestor(b,c.causesLineBreak);var j=!c.nextLeaf(b,d);c.deleteContents(a,b);if(j){var k=c.getDocument(a),l=k.createElement("br"),m=k.createElement("div");m.appendChild(l),c.insertBefore(b.parentNode,m,b.nextSibling)}return!0}return h&&q(f),g&&r(e),!1},a.maybeFixSpaceOnPressingEnter=function(a,b){c.removeEmptyTextNodes(a,!1),c.removeEmptyTextNodes(b,!0);var d=c.findAncestor(a,c.causesLineBreak),e=c.nextLeaf(b,d),f=t(e);return f?(q(e),!0):!1},a.maybeFixSpaceOnPressingDelete=function(a,b){function h(){c.removeEmptyTextNodes(a,!1),c.removeEmptyTextNodes(b,!0);var h=c.findAncestor(a,c.causesLineBreak);d=c.prevLeaf(a,h),e=c.nextLeaf(b,h),f=u(d),g=t(e)}var d,e,f,g;h(),f&&g&&r(d),h(),g&&c.checkBeginningOfLine(a)&&q(e)},a.cleanUpSpace=p,a.removeTextNodeLeadingSpace=q,a.maybeEscape=function(a,b){return a.nextSibling===b&&(w(a,!1)||w(b,!0))},a.sanitizeBeforeRepair=function(a,b){var c=require("./sanitize");a.nextSibling===b&&c.flush(a),c.add(a.parentNode),c.add(b.parentNode)},a.handleEnterForHeadingInList=x}),require.install("qed/nodestate",function(require,a,b){function i(a,b,c){d(a&&b&&c),this.restore=function(){p(a,b),t(a,c)},this.diffAttrs=function(c){return d(c===a),o(a,b)},this.diffChildren=function(b){return d(b===a),s(a,c)}}function j(a,b){d(typeof b=="string");var c=a.createElement(b||"span"),e=f.key(c);return h[e]=!0,c}function k(a){return a?typeof a=="string"?/[^\\ufeff]/.test(a):f.ok(a)?!h[f.key(a)]:!1:!1}function l(a,b){var c=b?b.diffAttrs(a):o(a),e=b?b.diffChildren(a):s(a),f={meaningful:c.meaningful||e.meaningful,identical:c.identical&&e.identical};return d(!f.meaningful||!f.identical),b?c.identical&&e.identical?(d(!c.meaningful&&!e.meaningful),f.state=b):(d(c.attrs||e.children),f.state=new i(a,c.attrs,e.children)):(d(c.meaningful&&!c.identical),d(e.meaningful&&!e.identical),f.state=new i(a,c.attrs,e.children)),k(a)||(f.meaningful=!1),f}function m(a,b){return a.name===b.name&&a.value===b.value}function n(a,b){var c=0,d={},f=[],h;if(a.getAttribute){for(var i in g)(h=a.getAttribute(i))!==null&&(d[f[f.length]=i]=h);f.sort();for(var c=0,i;c<f.length;++c)i=f[c],f[c]={name:i,value:d[i]}}if(!e(f,b,m))return f}function o(a,b){var c=n(a,b);return{meaningful:!!c,identical:!c,attrs:c||b}}function p(a,b){if(a.setAttribute){for(var c in g)a.removeAttribute(c);for(var e=0,f;e<b.length;++e)f=b[e],a.setAttribute(f.name,f.value)}else d(b.length<1)}function q(a,b){for(var c,d=[],f=a.firstChild;f;f=f.nextSibling)d.push(c=f.nodeType==3?typeof c=="string"?d.pop()+f.nodeValue:f.nodeValue:f);if(!e(d,b))return d}function r(a){for(var b,c=[],d,e=0;e<a.length;++e)k(d=a[e])&&(b=typeof d=="string"&&typeof b=="string"?c.pop()+d:d,typeof b=="string"&&(b=b.replace("\xef\xbb\xbf","")),c.push(b));return c}function s(a,b){var c=q(a,b),f;return c?b?f=!e(r(c),r(b)):f=!0:(d(b),f=!1),{meaningful:f,identical:!c,children:c||b}}function t(a,b){a.normalize();for(var e=0,f=b.length,g=a.firstChild;g&&e<f;g=g.nextSibling,++e)if(b[e]!==(g.nodeType===3?g.nodeValue:g))break;if(g){while(a.lastChild!==g)a.removeChild(a.lastChild);a.removeChild(g)}for(var h,i=c.getDocument(a);e<f;++e)h=b[e],a.appendChild(typeof h=="string"?i.createTextNode(h):h);d(a.childNodes.length===b.length)}var c=require("./util"),d=c.assert,e=c.arraysEqual,f=require("./npd"),g={"class":!0,style:!0},h={};a.createMeaninglessElement=j,a.isMeaningful=k,a.diff=l}),require.install("qed/rules",function(require,a,b){function j(){d(this instanceof j);var a=new k,b=this;b.addOkTag=function(c,d){return a.addOkTag(c,d),b},b.addOkStyle=function(c,d){return a.addOkStyle(c,d),b},b.addKeyHandler=function(c,d){return a.addKeyHandler(c,d),b},b.getKeyHandler=function(b){return a.keyHandlers[b.keyCode||b.charCode]},b.apply=function(b){return a.apply(b)}}function k(){var a=this,b={};d(a instanceof k),a.rules={br:"br",div:"div"},a.okStyles={},a.keyHandlers=b,b[8]=o,b[13]=n,b[32]=m,b[37]=p,b[39]=q}function l(a){return(a||"").replace(i,"").toLowerCase()}function m(a,b,c){return require("settings").qtext_improvement_spacing&&f.maybeFixSpaceOnPressingSpace(a,b)?!1:!0}function n(a,b,c){if(!c.shiftKey){require("settings").qtext_improvement_spacing&&f.maybeFixSpaceOnPressingEnter(a,b);if(f.maybeEscape(a,b))return!1;if(f.handleEnterForHeadingInList(a,b))return!1}}function o(a,b){a.nextSibling===b&&e(a,!0),require("settings").qtext_improvement_spacing&&f.maybeFixSpaceOnPressingDelete(a,b)}function p(a,b){a.nextSibling===b&&e(a,!0)}function q(a,b){a.nextSibling===b&&e(b,!1)}var c=require("./util"),d=c.assert,e=c.cleanFEFFs,f=require("./modifiers"),g=require("./npd"),h=require("./nodestate").isMeaningful,i=/^\\s+|\\s+$/g;a.Ruleset=j;var r=k.prototype;r.addOkTag=function(a,b){a=a.toLowerCase();if(b){var c=typeof b;c==="string"?b=b.toLowerCase():c!="function"&&d(!1)}else b=a;this.rules[a]=b},r.getSynonym=function(a){var b=a.nodeName.toLowerCase(),c=this.rules[b];return typeof c=="function"&&(c=c(a)),c},r.addOkStyle=function(a,b){a=l(a);var c=this.okStyles;(c.hasOwnProperty(a)?c[a]:c[a]={})[l(b)]=!0},r.isOkStyle=function(a,b){var c=this.okStyles[l(a)];return c&&c.hasOwnProperty(l(b))},r.addKeyHandler=function(a,b){this.keyHandlers[a]=b},r.apply=function(a){if(!g.ok(a)||g.get(a,"isEditorRoot")||!h(a))return a;var b=a.nodeName.toLowerCase(),d=a,e=this.getSynonym(a);if(e)return e!==b&&(d=c.getDocument(a).createElement(e),c.replaceNode(d,a)),this.copySafeStyles(a,d);c.replaceWithChildren(a)},r.copySafeStyles=function(a,b){var c=a.getAttribute("style");b=b||a;if(c){for(var d=[],e=!1,f=c.split(";"),g=0,h=f.length;g<h;g+=1){var i=f[g],j=i.split(":");j.length===2&&(this.isOkStyle(j[0],j[1])?d.push(i):e=!0)}d.length<1?b.removeAttribute("style"):b.setAttribute("style",e?d.join(";"):c)}else b.removeAttribute("style");return b}}),require.install("qed/sanitize",function(require,a,b){function j(a){while(!c.ok(a))a=a.parentNode;for(var b=d.getDocument(a).documentElement,e;a&&a!==b&&!e;a=a.parentNode)e=c.get(a,i),!e&&c.get(a,"isEditorRoot")&&(e=c.fix(a,i,new k(a,c.get(a,"editorRuleset"))));return e}function k(a,b){function k(a){var b=a[j];if(typeof b!="number"||i[b]!==a)try{a[j]=i.push(a)-1}catch(c){}}e(b instanceof h);var f={},i=[],j="qedSanitizerPos"+g++;this.add=function(a){a&&a.nodeType===3&&(a=a.parentNode),a&&(c.ok(a)?f[c.key(a)]=a:k(a))},this.flush=function(){var c,g=f;f={};for(c in g){a.normalize(!0);break}d.remove.apply(d,i),i.length=0;for(c in g)try{var h=g[c],j=h.parentNode;h=b.apply(h),h?l(h):j&&l(j)}catch(k){e(!1)}}}function l(a){for(var b=a.firstChild,c,d;b;b=d){d=b.nextSibling;if(b.nodeType===3){var e=b.nodeValue;c?(e.length>0&&(c.nodeValue+=e),a.removeChild(b)):e.length>0?c=b:a.removeChild(b)}else c&&(f(c),c=null)}c&&f(c)}var c=require("./npd"),d=require("./util"),e=d.assert,f=d.cleanTextNode,g=0,h=require("./rules").Ruleset,i="sanitizer";a.add=function(a){var b=j(a);b&&b.add(a)},a.flush=function(a){var b=j(a);b?b.flush():e(!1)},a.normalize=l}),require.install("qed/npd",function(require,a,b){function i(a){return!!a&&a.nodeType!==3&&!!a.getAttribute}function j(a,b){return m(a)&&b in n(a).data}function k(a,b,c){return j(a,b)?n(a).data[b]:c}function l(a,b,c){var d=n(a),e=d.data;return d.fixed[b]||(e[b]=c),e[b]}function m(a){if(a.getAttribute){var b=a.getAttribute(h);if(b in f)return f[b].node===a}return!1}function n(a){d(i(a));if(a.getAttribute){var b=a.getAttribute(h),c=b&&f[b];d(c!==g);if(c&&c.node===a)return c;a.setAttribute(h,b=e()),c=f[b]={node:a,key:b,fixed:{},data:{}}}return require("./sanitize").add(a),c}function o(a){d(i(a));if(m(a)){var b=a.getAttribute(h);f[b]=g}}function p(a,b){if(a.nodeType==3)return;if(a.removeAttribute){b&&o(a),a.removeAttribute(h);for(var c=a.firstChild;c;c=c.nextSibling)p(c)}return a}var c=require("./util"),d=c.assert,e=c.guid,f={},g={},h="npdkey";a.ok=i,a.has=j,a.get=k,a.set=l,a.fix=function(a,b,c){var d=n(a),e=d.fixed,f=d.data;return arguments.length>2&&!e[b]&&(f[b]=c),e[b]=!0,f[b]},a.setdefault=function(a,b,c){return j(a,b)?k(a,b):l(a,b,c)},a.del=function(a,b,c){if(j(a,b)){var d=n(a),e=d.data;c=e[b],d.fixed||delete e[b]}return c},a.key=function(a){return n(a).key},a.clean=function(a){return p(a,!0)},a.cleanInnerHTML=function(a){return p(a.cloneNode(!0)).innerHTML.replace(/\\ufeff/gm,"")}}),require.install("qed/selection",function(require,a,b){function h(a,b,c,d){var f=this,h=f.doc=g(b),i=f.isW3C=!!a.getSelection&&!!a.getSelection().extend;e(a.document===h),e(c.nodeType===1),e(d.nodeType===1),f.scope=b,f.start=c,f.end=d,f.getNativeSelection=i?function(){return a.getSelection()}:function(){return h.selection}}var c=require("log").log,d=require("./util"),e=d.assert,f=d.insertBefore,g=d.getDocument;h.prototype={createRange:function(){var a=this.doc;return this.isW3C?a.createRange():a.body.createTextRange()},getSelection:function(){var a=this,b=a.getNativeSelection(),c;if(a.isW3C){if(b&&b.rangeCount>0&&(c=b.getRangeAt(0))&&a.isRangeInScope(c))return{rng:c,rev:this.isSelectionReversed(b,c)}}else if(b&&(c=b.createRange())&&a.isRangeInScope(c))return{rng:c,rev:!1}},isRangeInScope:function(a){var b=this,c=b.scope,d=b.createRange();try{return b.isW3C?(d.selectNode(c),d.compareBoundaryPoints(a.START_TO_START,a)<1&&a.compareBoundaryPoints(a.END_TO_END,d)<1):(d.moveToElementText(c),d.compareEndPoints("StartToStart",a)<1&&a.compareEndPoints("EndToEnd",d)<1)}catch(e){return!1}},getDefaultSelection:function(){var a=this,b=a.createRange();return a.isW3C?b.selectNodeContents(a.scope):b.moveToElementText(a.scope),b.collapse(!0),a.isW3C||(b.move("Character",1),b.move("Character",-1)),{rng:b,rev:!1}},isSelectionReversed:function(a,b){if(this.isW3C&&(b=b||a.rangeCount>0&&a.getRangeAt(0))){var c=b.startContainer,d=b.startOffset;return(a.anchorNode!==c||a.anchorOffset!==d)&&a.focusNode===c&&a.focusOffset===d}return!1},copyAndCollapse:function(a,b){var c;return this.isW3C?(c=this.createRange(),c.setStart(a.startContainer,a.startOffset),c.setEnd(a.endContainer,a.endOffset)):c=a.duplicate(),c.collapse(!!b),c},replaceWith:function(a,b){if(this.isW3C)a.collapsed||a.deleteContents(),a.insertNode(b);else{var c="rangespan"+Math.random().toString(36);a.pasteHTML("<span id=\'"+c+"\'></span>");var d=this.doc.getElementById(c);d.parentNode.replaceChild(b,d)}return b},replaceCollapsedCopyWith:function(a,b,c){this.replaceWith(this.copyAndCollapse(a,b),c)},insertDelimiters:function(a){var b=this;b.isRangeInScope(a)||(a=b.getDefaultSelection().rng),(a.compareEndPoints?a.compareEndPoints("StartToEnd",a)==0:a.collapsed)?(b.isW3C?b.replaceWith(a,b.end):b.replaceCollapsedCopyWith(a,!1,b.end),f(b.end.parentNode,b.start,b.end)):(b.replaceCollapsedCopyWith(a,!1,b.end),b.replaceCollapsedCopyWith(a,!0,b.start))},removeDelimiters:function(a){var b=this,c=b.createRange(),e,f=b.start,g=b.end;typeof a=="function"&&a(f,g);var h=f.parentNode,i=g.parentNode,j=d.addExtraSupport(f,g);return b.isW3C?(c.setStart(f,0),c.setEnd(g,0)):(c.moveToElementText(f),e=b.createRange(),e.moveToElementText(g),c.setEndPoint("EndToStart",e)),h.removeChild(f),i.removeChild(g),j(),c},_maxSelectRangeTime:20,selectRange:function(a,b){var d=this,e=d.getNativeSelection(),f=window.console&&+(new Date),g,h;d.isRangeInScope(a)||(a=d.getDefaultSelection().rng);if(d.isW3C)if(a.collapsed){var i=a.endContainer,j=a.endOffset;e.collapse(i,j)}else b?(e.collapse(a.endContainer,a.endOffset),e.extend(a.startContainer,a.startOffset)):(e.collapse(a.startContainer,a.startOffset),e.extend(a.endContainer,a.endOffset));else{h=!0;if(e&&e.createRange){g=e.createRange();try{g&&g.compareEndPoints("StartToStart",a)==0&&g.compareEndPoints("EndToEnd",a)==0&&(h=!1)}catch(k){}h&&a.select()}}if(f){var l=new Date-f;l>d._maxSelectRangeTime&&c.enabled&&c.warning("selection.SelImpl.selectRange","selectRange took too long:",l,"ms")}}},a.Selection=function(a,b,c,d){function n(){e(!m);if(!j){var a=g.getSelection();return k=a||k,!!a}}function o(a){j||(j=!0,g.insertDelimiters(k.rng));try{var b=++m;return a(g.start,g.end)}finally{e(j),e(b===m),--m||p()}}function p(){e(!m),j&&(j=!1,k.rng=g.removeDelimiters(l))}function q(){e(!m),j&&p(),g.selectRange(k.rng,k.rev)}function r(){if(n()){var a=g.getNativeSelection();a.removeAllRanges?a.removeAllRanges():a.empty()}}var f=a.document,g=new h(a,b,c||f.createElement("span"),d||f.createElement("span")),i=this,j,k=g.getDefaultSelection(),l,m=0;i.record=n,i.modify=o,i.modifying=function(){return m>0},i.select=q,i.remove=r,i.onBeforeRepair=function(a){e(typeof a=="function"),l=a}}}),require.install("qed/snapshot",function(require,a,b){function g(a,b){c(a),this.lookup=function(c){if(e.ok(c)){var d=e.key(c);return d in a?a[d]:a[d]=b&&b.lookup(c)}}}function h(a,b){var c=a?[a]:[];while(c.length){b(a=c.pop());for(var d=a.firstChild;d;d=d.nextSibling)e.ok(d)&&c.push(d)}}var c=require("./util").assert,d=require("./sanitize"),e=require("./npd"),f=require("./nodestate");g.prototype.restore=function(a){var b=this;h(a,function(a){var c=b.lookup(a);c&&c.restore(),d.add(a)}),d.flush(a)},a.diff=function(a,b){var c={},d=!1,i=!0;return h(a,function(a){var g=b&&b.lookup(a),h=f.diff(a,g);d=d||h.meaningful,i=i&&h.identical,c[e.key(a)]=h.state}),{meaningful:d,identical:i,snapshot:i?b:new g(c,b)}},a.test=function(){}}),require.install("qed/history",function(require,a,b){function f(a){for(var b;a&&a.type!="end";a=a.prev){if(a.type=="redo")return a.prev;b=b||a.changed}if(b)return a;for(var c={count:0};a;a=a.prev){if(a.type=="redo")return a.prev;if(a.type=="end")c[a.key]=!0,++c.count;else if(c[a.key]){e(a.type=="begin"),delete c[a.key];if(--c.count==0)return b?a:f(a)}b=b||a.changed}}var c=require("./snapshot"),d=require("./util"),e=d.assert;a.observe=function(a){function h(d,f,h){e(d==="begin"||d==="end"||d==="redo");var i=(h||0).scope||a,j=c.diff(i,g&&g.snapshot),k={type:d,key:f,data:h,snapshot:j.snapshot,prev:g};if(k.changed=j.meaningful)b.length=0;return k}var b=[],d={},g;return{beginOperation:function(a,b){d[a]=!0,g=h("begin",a,b)},endOperation:function(a,b){a in d&&(delete d[a],g=h("end",a,b))},undo:function(){var c=h("redo","redo",g&&g.data),e=f(g);if(e)return b.push(c),d={},g=c.prev=e,g.snapshot.restore(a),g.data},redo:function(){if(b.length>0)return g=b.pop(),g.snapshot.restore(a),g.data}}}}),require.install("qed/trie",function(require,a,b){function c(){function f(a,b){var e=d(c,a);return e&&"val"in e&&(b=e.val),b}function g(a,c){if(!a)return!1;var d=a.c,e=c.charAt(0);if(e){g(d[e],c.slice(1))||delete d[e];if("val"in a)return!0}else"val"in a&&(b-=1,delete a.val);for(e in d)return!0}var a=this,b=0,c={c:{}};a.size=function(){return b},a.get=f,a.has=function(a){return f(a,c)!==c},a.prefix=function(a){return!!e(c,a)},a.put=function(a,e){var f=d(c,a,!0);return b+="val"in f?0:1,f.val=e},a.clear=function(){b=0,c={c:{}}},a.del=function(a){g(c,a)}}function d(a,b,c){if(a){if(!b)return a;var e=a.c,f=b.charAt(0);if(f in e||c&&(e[f]={c:{}}))return d(e[f],b.slice(1),c)}}function e(a,b){var c=d(a,b);if(c){if("val"in c)return!0;for(var e in c.c)return!0}}a.makeTrieMap=function(){return new c}}),require.install("qed/snippets",function(require,a,b){function j(a,b){var c=l(a);if(c){k(c.leaf,c.pos,a);var d=h.getDocument(a).createElement("div"),e=h.getEditorRoot(a),f,g=n(a);while(g.length>0)(f=g.pop())&&h.replaceWithChildren(f);d.innerHTML=c.tmpl,o(d,g);while(d.firstChild)h.insertBefore(a.parentNode,d.firstChild,a);return!0}}function k(a,b,c){assert(a.nodeType===3);var d=h.insertBefore(a.parentNode,h.getDocument(a).createElement("span"),a.nextSibling),e=a.nodeValue.slice(0,b);e?a.nodeValue=e:h.remove(a);var f=h.makeSiblings(d,c);while(d.nextSibling!==c)f.removeChild(d.nextSibling);f.removeChild(d)}function l(a){var b=h.findPrevLine(a);try{return m(a)}finally{h.remove(b)}}function m(a){for(var b,d="",e=h.prevLeaf(a);e&&e.nodeType===3;e=h.prevLeaf(e))for(var f=e.nodeValue,g=f.length;g>=0;g-=1){d+=f.charAt(g);if(!c.prefix(d))return b;c.has(d)&&(b={leaf:e,pos:g,tmpl:c.get(d)})}return b}function n(a){var b=h.getEditorRoot(a),c=f.get(b,g);return c||(c=f.fix(b,g,{})),c.stops||(c.stops=[])}function o(a,b){var c=0,d=[],e,f=h.getDocument(a);q(f,a,d),b.length=0;while(c<d.length)(e=d[c++])&&b.push(e);e=b[b.length-1];if(!e||h.nextLeaf(e,a))e=f.createElement("span"),e.appendChild(f.createTextNode("\xef\xbb\xbf")),a.appendChild(e),b.push(e)}function p(a,b,c){var f=a.split(d);if(f.length>1)for(var g=1,h,i;g<f.length;g+=2){h=f[g-1],i=f[g];if(e.test(h))b(h+"$"+i);else{h&&b(h);if(i.charAt(0)==="{"){var j=i.length,k=i.slice(1,j-1).split(":");assert(i.charAt(j-1)==="}"),c(+k[0],k[1]||"\xef\xbb\xbf")}else c(+i,"\xef\xbb\xbf")}}b(f.pop(),!0)}function q(a,b,c){if(b.nodeType===3)p(b.nodeValue,function(c,d){d?c?b.nodeValue=c:h.remove(b):h.insertBefore(b.parentNode,a.createTextNode(c),b)},function(d,e){assert(typeof d=="number"),assert(!isNaN(d));var f=a.createElement("span");f.appendChild(a.createTextNode(e)),h.insertBefore(b.parentNode,c[d]=f,b)});else for(var d=b.firstChild,e;d;d=e)e=d.nextSibling,q(a,d,c)}function r(a,b){for(var c,d=n(a),e=0;d&&e<d.length;++e){c=d[e],delete d[e];if(c){c.innerHTML==="\xef\xbb\xbf"?(c.appendChild(a),c.appendChild(b)):(h.insertBefore(c,a,c.firstChild),c.appendChild(b)),h.replaceWithChildren(c);break}}}var c,d=/\\$(\\d+|\\{\\d+:[^}]+\\})/gm,e=/\\\\$/gm,f=require("./npd"),g="tabStopInfo",h=require("./util");a.enabled=function(){return!!(c&&c.size()>0)},"".reverse||(String.prototype.reverse=function(){for(var a=this.length,b=new Array(a),c=a-1;c>=0;--c)b[b.length]=this.charAt(c);return b.join("")});var i=document.createElement("div");a.addTabTrigger=function(a,b){i.innerHTML=b,b=i.innerHTML,c||(c=require("./trie").makeTrieMap()),c.put(a.reverse(),b)},a.removeTabTrigger=function(a){c&&c.del(a.reverse())},a.clear=function(){c&&c.clear()},a.check=function(a,b){if(c){var d=j(a,b);return r(a,b),d}}}),require.install("qed/edit",function(require,a,b){function s(a,b){if(p.enabled())return p.check(a,b),!1}function t(a){return function(b,c,d){if(g(d))return a(b,c),!1}}var c=require("./util"),d=c.assert,e=c.addClass,f=c.getDocument,g=c.hasCtrlOrCmd,h=c.getText,i=c.isVisible,j=require("event").add,k=require("./unload"\n),l=new(require("./rules").Ruleset),m=require("./selection").Selection,n=require("./history").observe,o=require("./modifiers"),p=require("./snippets"),q=require("./nodestate").createMeaninglessElement,r=require("./npd");a.edit=function(a,b){function C(a){return c.isIE&&a in B}function D(){y=!1,p.body.removeAttribute("spellcheck")}function E(a){y||(y=!0,p.body.setAttribute("spellcheck","false")),clearTimeout(z),z=setTimeout(D,a||1e3)}function G(){if(F)return;F=!0;try{A&&p.activeElement!==a&&a.focus(),s.select(),p.activeElement!==a&&a.focus()}finally{d(F),F=!1}d(p.activeElement===a)}function H(){p.activeElement===a&&s.record()}function I(b){if(p.activeElement!==a)return!1}function J(){if(i(a)&&h(a)!==v)return"You appear to be editing text on this page."}if(!a||/^textarea|input$/i.test(a.nodeName)||a.isContentEditable)return;e(a,"qed_content"),a.setAttribute("contentEditable","true"),r.fix(a,"isEditorRoot",!0),b=b||l,r.fix(a,"editorRuleset",b);var p=f(a),s=new m(window,a,q(p,"span"),q(p,"span")),t=!1,u=n(a),v=h(a),w=0,x=c,y,z,A=c.isGecko,B={38:"up arrow",40:"down arrow"};s.onBeforeRepair(o.sanitizeBeforeRepair),j(a,"keydown",function(a){A&&E(1e3);try{s.record();var c=a.keyCode||a.charCode;if(C(c))return;return s.modify(function(d,e){if(c==90&&g(a))return a.shiftKey?u.redo():u.undo(),!1;u.beginOperation("key"+c);var f=b.getKeyHandler(a);if(f)return f.call(x,d,e,a)})}finally{G()}});var F;return j(a,"keyup",function(a){try{s.record();var b=a.keyCode||a.charCode;if(C(b))return;s.modify(function(a,c){u.endOperation("key"+b)})}finally{G()}}),j(a,"keypress",H),j(a,"mouseup",H),j(a,"mouseout",H),j(a,"focus",G),j(a,"blur",s.remove),j(a,"keydown",I),j(a,"keypress",I),j(a,"keyup",I),k.checkBeforeUnload(J),{modify:function(a,b){var c="modify"+w++;try{return s.modify(function(b,d){u.beginOperation(c);try{return a.call(x,b,d)}finally{u.endOperation(c)}})}finally{(b||t)&&!(t=s.modifying())&&G()}},clear:function(a){this.modify(function(a,b){var d=c.getEditorRoot(a),e=f(d).createElement("br");c.removeAllChildren(d),d.appendChild(e),c.insertBefore(d,a,e),c.insertBefore(d,b,e)},a),this.html(!0)},focus:G,select:G,html:function(b){return b&&(v=h(a)),r.cleanInnerHTML(a)},text:function(b){return h(a,b)},stop:function(){r.clean(a),k.removeCheck(J)}}},l.addOkTag("div").addOkTag("p","div").addOkTag("br").addOkTag("img").addOkTag("ol").addOkTag("ul").addOkTag("li").addOkTag("blockquote").addOkTag("address","blockquote").addOkTag("b").addOkTag("strong","b").addOkTag("i").addOkTag("em","i").addOkTag("u").addOkTag("span").addOkTag("a").addOkTag("h1").addOkStyle("font-weight","bold").addOkStyle("font-weight","normal").addOkStyle("font-style","italic").addOkStyle("font-style","normal").addOkStyle("text-decoration","underline").addOkStyle("text-decoration","none").addKeyHandler(9,s).addKeyHandler(65,c.handleSelectAll).addKeyHandler(66,t(o.bold)).addKeyHandler(73,t(o.italic)).addKeyHandler(85,t(o.underline))}),require.install("linkify",function(require,a,b){a.iterLinks=function(a,b){c(a,{callback:function(a,c){return c&&b(c,a),""}})};var c=a.linkify=function(){var a="[a-z\\\\d.-]+://",b="(?:(?:[0-9]|[1-9]\\\\d|1\\\\d{2}|2[0-4]\\\\d|25[0-5])\\\\.){3}(?:[0-9]|[1-9]\\\\d|1\\\\d{2}|2[0-4]\\\\d|25[0-5])",c="(?:(?:[^\\\\s!@#$%^&*()_=+[\\\\]{}\\\\\\\\|;:\'\\",.<>/?]+)\\\\.)+",d="(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)",e="(?:"+c+d+")",f="(?:[;/][^#?<>\\\\s\\\\[\\\\]]*)?",g="(?:\\\\?[^#<>\\\\s]*)?(?:#[^<>\\\\s]*)?",h="\\\\b"+a+"[^<>\\\\s]+",i="\\\\b"+e+f+g+"(?!\\\\w)",j="mailto:",k="(?:"+j+")?[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@"+e+g+"(?!\\\\w)",l=new RegExp("(?:"+h+"|"+i+"|"+k+")","ig"),m=new RegExp("^"+a,"i"),n={"\'":"`",">":"<",")":"(","]":"[","}":"{","\xc2\xbb":"\xc2\xab","\xe2\x80\xba":"\xe2\x80\xb9"},o={callback:function(a,b){return b?\'<a href="\'+b+\'" title="\'+b+\'">\'+a+"</a>":a},punct_regexp:/(?:[!?.,:;\'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/};return function(a,b){b=b||{};var c,d,e,f,g="",h=[],i,k,p,q,r,s,t,u;for(d in o)b[d]===undefined&&(b[d]=o[d]);while(c=l.exec(a)){e=c[0],k=l.lastIndex,p=k-e.length;if(/[\\/:]/.test(a.charAt(p-1)))continue;do q=e,u=e.substr(-1),t=n[u],t&&(r=e.match(new RegExp("\\\\"+t+"(?!$)","g")),s=e.match(new RegExp("\\\\"+u,"g")),(r?r.length:0)<(s?s.length:0)&&(e=e.substr(0,e.length-1),k--)),b.punct_regexp&&(e=e.replace(b.punct_regexp,function(a){return k-=a.length,""}));while(e.length&&e!==q);f=e,m.test(f)||(f=(f.indexOf("@")!==-1?f.indexOf(j)?j:"":f.indexOf("irc.")?f.indexOf("ftp.")?"http://":"ftp://":"irc://")+f),i!=p&&(h.push([a.slice(i,p)]),i=k),h.push([e,f])}h.push([a.substr(i)]);for(d=0;d<h.length;d++)g+=b.callback.apply(window,h[d]);return g||a}}()}),require.install("find",function(require,a,b){function f(a,b){if(a.nodeType===3)return b(a);for(var c=a.firstChild,d;c;c=d){d=c.nextSibling;if(f(c,b))return!0}}function g(a,b,f,g){assert(a.nodeType===3);var h=a.nodeValue,i=a.parentNode,j=e(a),k=h.slice(0,b),l=h.slice(b,f),m=a.nodeValue=h.slice(f),n=j.createElement("span"),o=n.cloneNode(!1);k&&d(i,j.createTextNode(k),a),d(i,n,a),l&&d(i,j.createTextNode(l),a),d(i,o,a);try{return g(n,o)}finally{c.remove(n,o,!m&&a)}}function h(a,b,c){return b&&f(a,function(a){for(;;){var d=a.nodeValue.indexOf(b);if(d<0)return;var e=g(a,d,d+b.length,c);if(e)return e}})}function i(a,b,c){return b&&f(a,function(a){for(;;){b.lastIndex=0;var d=b.exec(a.nodeValue);if(d==null)return;var e=g(a,d.index,d.index+d[0].length,c);if(e)return e}})}var c=require("qed/util"),d=c.insertBefore,e=c.getDocument;a.findText=h,a.findExp=i,a.find=function(a,b,c){if(typeof b=="string")return h(a,b,c);if(b instanceof RegExp)return i(a,b,c)}}),require.install("mathify",function(require,a,b){a.iterMaths=function(a,b){return d(a,function(a,c){return c&&b(c,a),""})};var c=a.getParts=function(a){var b="\\\\s\\\\S",c=new RegExp("\\\\[math\\\\](["+b+"]+?)\\\\[\\\\/math\\\\]","g"),d=function(a,b){return a?"<b>"+a+"</b>":b},e,f,g,h=[],i=0,j,k;while(e=c.exec(a))f=e[0],g=e[1],j=c.lastIndex,k=j-f.length,i!=k&&h.push([a.slice(i,k)]),i=j,h.push([f,g]);return i!=a.length&&h.push([a.substr(i)]),h},d=a.mathify=function(a,b){b=b||default_callback;var d=c(a),e="";for(var f=0;f<d.length;f++)e+=b.apply(window,d[f]);return e||a}}),require.install("view/floating_voting_buttons",function(require,a,b){function d(a,b,c,d,e,f,g,h,i){typeof h=="undefined"&&(h=!1),typeof i=="undefined"&&(i=!1);var j=c-e+g,k=j+d+g;if(a>j&&a<k-f)b.hasClass("voting_buttons_absolute")&&b.removeClass("voting_buttons_absolute"),b.hasClass("voting_buttons_fixed")||(b.addClass("voting_buttons_fixed"),b.css("top",e+g+"px")),h&&(i=="feed"?h.hasClass("voting_buttons_content_feed")||h.addClass("voting_buttons_content_feed"):i=="question"&&(b.hasClass("voting_buttons_content_question")||b.addClass("voting_buttons_content_question")));else if(a>k-f)b.hasClass("voting_buttons_fixed")&&b.removeClass("voting_buttons_fixed"),b.hasClass("voting_buttons_absolute")||(b.addClass("voting_buttons_absolute"),b.css({top:d-f})),h&&(b.parent().hasClass("voting_buttons_relative")||b.parent().addClass("voting_buttons_relative"));else if(a<=j){b.hasClass("voting_buttons_fixed")&&b.removeClass("voting_buttons_fixed"),b.hasClass("voting_buttons_absolute")&&b.removeClass("voting_buttons_absolute");var l=b.attr("style");typeof l!="undefined"&&l!==!1&&b.removeAttr("style"),h&&(b.parent().hasClass("voting_buttons_relative")&&b.parent().removeClass("voting_buttons_relative"),i=="feed"?h.hasClass("voting_buttons_content_feed")&&h.removeClass("voting_buttons_content_feed"):i=="question"&&b.hasClass("voting_buttons_content_question")&&b.removeClass("voting_buttons_content_question"))}}var c=require("webnode2");a.enableFloatingVotingButtons=d}),require.install("dialog",function(require,a,b){function g(a){return/[^\\u0000-\\u00ff]/.test(a)}var c=require("w2.quora").Component,d=require("window_manager"),e=require("facebook"),f=require("w2.keycombo");a.Dialog=c.extend({onLoad:function(){this.successCallback=null,this.ok2Submit=!0,this.submitted=!1,this.$("#@submit").click(this.fnbind(this.submit)),this.$("#@cancel").click(this.fnbind(function(){return this.close(),!1}))},submit:function(){return this.request(),!1},request:function(){var a=this.getPars();if(this.submitted||!a||!this.ok2Submit)return!1;this.submitted=!0,this.serverCall("dialog_submit_controller").liveMutate().kwargs(a).success(this.fnbind(function(a){this.successCallback&&this.successCallback(a),this.close()})).send()},getPars:function(){return{}},setSetup:function(a){a.each(this.fnbind(function(a,b){this.options[a]=b}))},setSuccessCallback:function(a){this.successCallback=a},setFocusCallback:function(a){this.lookup("editor").setFocusCallback(a)},setBlurCallback:function(a){this.lookup("editor").setBlurCallback(a)},close:function(){$("#generic_dialog").length?$("#generic_dialog").remove():require("webnode2").Dialog.dialogFor(this).close_()}}),a.AddCommentDialog=a.Dialog.extend({onLoad:function(a){this._super.apply(this,arguments),this.lookup("editor").focus()},getPars:function(){return this.comment_required&&this.lookup("editor").isEmpty()?!1:{comment:this.lookup("editor").serialize()}}}),a.BanUserDialog=a.AddCommentDialog.extend({getPars:function(){var a=this._super.apply(this,arguments);return a&&(a.removeMessages=this.$("#@checkbox").attr("checked")=="checked"),a}}),a.DialogLink=c.extend({onLoad:function(){this.tooltip&&this.$("#@link").tooltip({contents:this.tooltip}),this.$("#@link").click(this.fnbind(function(){return this.click(),!1}))},addOption:function(a,b){b&&g(JSON.stringify(b))&&(b=unescape(encodeURIComponent(b))),this.options[a]=b},click:function(){var a=encodeURIComponent(JSON.stringify(this.options));$(".content").dialog({title:null,url:"/dialog/ajax_get_dialog_GET?type="+this.type+"&object_id="+this.object_id+"&options="+a,buttons_hide_on_close:this.buttons_hide_on_close,buttons:null})},triggerClick:function(a){$.each(a,this.fnbind(function(a,b){this.addOption(a,b)})),this.click()}}),a.AdminMessageDialog=a.Dialog.extend({onLoad:function(a){this._super.apply(this,arguments),this.lookup("editor").focus()},getPars:function(){if(this.lookup("editor").isEmpty())return!1;var a=this.lookup("editor").serialize();return{msg:a}}}),a.TopicTaggerDialog=a.Dialog.extend({onLoad:function(a){this._super.apply(this,arguments),this.ok2Submit=!1},getPars:function(){var a=[];return this.$("#@topic_tagger_component .temp_topics_list input").each(function(){a.push($(this).val())}),a?(this.ok2Submit=!0,{topics:a}):!1}}),a.ComposeMessageDialog=a.Dialog.extend({onLoad:function(a){this._super.apply(this,arguments),this.$("#@change_person").click(this.fnbind(function(){return this.change(),!1})),this.lookup("people_selector").inputFocus(),this.load()},load:function(){this.object_id&&this.setTo(this.object_id)},getPars:function(){return this.$("#@compose_message_to_uid").val()&&(this.object_id=this.$("#@compose_message_to_uid").val()),!this.object_id||this.lookup("editor").isEmpty()?!1:{to_uid:this.object_id,msg:this.lookup("editor").serialize()}},change:function(){this.lookup("people_selector").reset(),this.$("#@pick_people").removeClass("hidden"),this.$("#@picked_person").addClass("hidden"),this.$("#@to_name").html(""),this.lookup("people_selector").focus()},setTo:function(a){if(isNaN(parseInt(a)))return;this.lookup("people_selector").reset(),this.$("#@pick_people").addClass("hidden"),this.$("#@picked_person").removeClass("hidden"),this.$("#@compose_message_to_uid").val(a),this.getName(a)},getName:function(a){this.serverCall("get_name").kwargs({uid:a}).contentFor(this.$("#@to_name"),{parentCID:this.cid}).success(this.fnbind(function(a){this.lookup("editor").focus()})).send()}}),a.AddUserToTopicDialog=a.ComposeMessageDialog.extend({onLoad:function(a){this._super.apply(this,arguments),this.ok2Submit=!1,this.lookup("people_selector").inputFocus()},load:function(){return!1},getPars:function(){var a=null;this.$("#@compose_message_to_uid").length>0&&(a=this.$("#@compose_message_to_uid").val());if(!a)return!1;var b="";return this.lookup("editor").isEmpty()||(b=this.lookup("editor").serialize()),this.ok2Submit=!0,{uid:a,msg:b}},getName:function(a){this.serverCall("get_name").kwargs({uid:a}).contentFor(this.$("#@to_name"),{parentCID:this.cid}).send()}}),a.KeyboardShortcutsDialog=c.extend({descriptions:{navigation:{j:"Go to next story",k:"Go to previous story",Enter:"Expand story in feed","g-h":"Home","g-q":"Questions & Answers","g-o":"Open Questions","g-b":"Blog Posts","g-n":"Notifications","g-i":"Inbox"},actions:{u:"Upvote or cancel upvote",d:"Downvote or cancel downvote",f:"Follow or Unfollow",a:"Add answer","Meta-Enter":"Submit answer",c:"Toggle comments","/":"Focus search box",Esc:"Get out of search or answer box","?":"Show/Hide this dialog"}},onLoad:function(){this.onKeyCombination(document.body,"Shift-/",this.fnbind(this.toggle))},toggle:function(){this._dialog&&this._dialog._opened?this.hideDialog():this.showDialog()},hideDialog:function(){this._dialog.close_()},showDialog:function(){this._dialog=this.dialog({buttons:{},closeOnClickOut:!0,dialogClass:"keyboard_shortcuts_dialog",width:"570",showXButton:!0}).title("Keyboard Shortcuts").html(this.renderContents()).close(this.fnbind(function(){this._dialog=null}))},renderContents:function(){var a=function(a){return a.toLowerCase()=="meta"&&(a=f.hasCmdKey?"\xe2\x8c\x98":"Ctrl"),\'<div class="key">\'+a+"</div>"},b=function(b,c){var d=\'<div class="row">\',e=b.split("-");d+=\'<div class="col shortcut">\';for(var f=0;f<e.length;++f)d+=a(e[f]);return d+="</div>",d+=\'<div class="col shortcut_description">\'+c+"</div>",d+="</div>",d},c=function(a,c){var d=\'<div class="category">\';d+=\'<div class="category_name">\'+a+"</div>";for(var e in c)d+=b(e,c[e]);return d+="</div>",d},d="";for(var e in this.descriptions)d+=c(e,this.descriptions[e]);return d}}),$.extend(window,a)}),require.install("frame_busting",function(require,a,b){a.check=function(){if(require("settings").enableFrameBusting){var a=!1;try{a=!/\\.quora\\.com$/i.test(window.top.location.host)}catch(b){a=!0}if(a&&""+window.top.location!=""+window.location){window.top.location=window.location;var c=require("log");c&&c.enabled&&c("frame_busting","Updating window.location.")}}}}),require.install("siteuri",function(require,a,b){function c(a){this.message=this.errorType+": "+a}function g(a){return a.substring(0,5)=="http:"?"https:"+a.substring(5):a}function h(a){var b=a.match(f);if(!b)return!1;var c=b[1],e=b[2],g=d();if("www."+e!=g){var h=require("settings"),i=h.subdomain_name,j=h.subdomain_suffix,k="http://www."+j+"/";if(c!="www"&&c&&"www."+c+"."+e==g){var l=a.replace("://","://www.").match(f);if(l)return l}return!1}return b}c.prototype=new Error,c.prototype.errorType="SiteURIError",c.prototype.constructor="SiteURIError";var d=function(a){var b=require("settings").subdomain_suffix||"quora.com";return a?a+"."+b:"www."+b};a.netlocForSubdomainName=d;var e=function(a){return"http://"+d(a)+"/"};a.baseUrlForSubdomainName=e;var f=/https?:\\/\\/(?:([^.\\/]+)\\.)?((?:[^.\\/]+\\.)*quora\\.com)(\\/.*)?/,i=function(a){return h(a)!=0};a.isSiteAbsoluteUrl=i;var j=function(a){return i(a)||a[0]=="/"};a.isSiteUrl=j;var k=function(a,b){return new l(a,b)};a.URI=k;var l=require("Class").Class.extend({__init__:function(a,b){a instanceof l&&(a=a.unicode());var d=h(a),e=b&&b.subdomainName||null,f=b&&b.secure||!1,g;if(d){if(e)throw c("subdomain context should not be set for absolute url, url = "+a+", subdomain = "+e);e=d[1],e=="www"&&(e=null),g=d[3]||"",g==""&&(g="/"),a.substring(0,5)=="https"&&(f=!0)}else g=a;if(g[0]!="/")throw c("invalid site uri input "+a);return this.relativeUrl=g,this.subdomainName=e,this.isSecure=f,this},unicode:function(){if(require("settings").force_use_absolute_links)return this.absolute();var a=this.relativeUrl;if(this.subdomainName||require("settings").subdomain_name){var b=this.subdomainName||require("settings").default_uri_subdomain_name;a=e(b)+a.substring(1),a.charAt(a.length-1)=="/"&&(a=a.substring(0,a.length-1))}return this.isSecure&&(a=g(a)),a},absolute:function(){var a=e(this.subdomainName),b=a+this.relativeUrl.substring(1);return this.isSecure&&(b=g(b)),b},secure:function(){return g(this.absolute())}});a.SiteURI=l}),require.install("simscroll",function(require,a,b){function f(a,b,c,d,e){return[a,!!b,!!c,!!d,!!e].join(" ")}function m(a){var b=a.keyCode||a.charCode,m=Math.round(.9*e.clientHeight);switch(f(b,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)){case g:window.scrollBy(0,-d);break;case h:window.scrollBy(0,d);break;case i:case j:window.scrollBy(0,-m);break;case k:case l:window.scrollBy(0,m);break;default:return!1}return c=!0}var c,d=50,e=document.documentElement,g=f(38),h=f(40),i=f(33),j=f(32,!0),k=f(32),l=f(34);document.addEventListener&&document.addEventListener("keypress",function(a){var b=a.originalTarget;!c&&(b===e||b===document.body)&&m(a)&&(a.preventDefault(),a.stopPropagation()),c=!1},!1),a.maybeSimulateScroll=m,a.cancelSimulatedScroll=function(){c=!0}}),require.install("html",function(require,a,b){var c=document.createElement("div");a.encode=function(a){return c.innerText=a,c.innerHTML},a.decode=function(a){return c.innerHTML=a,c.innerText}}),require.install("flash",function(require,a,b){var c=require("w2.quora").Component,d=require("webnode2").FlashClient={};a.FlashClient=c.extend({onLoad:function(a){if(a){d.onInit=this.delayedFn(this.onFlashInit),d.onComplete=this.fnbind(this.onComplete);try{require("swfobject").embedSWF(this.swf_url,this.$("#@flash").attr("id"),"1","1","10.0.0",null,this.flash_vars,{allowScriptAccess:"always"},{allowscriptaccess:"always"})}catch(b){$.serverLog("error in swfobject library: "+b)}}},delayedFn:function(a){return this.fnbind(function(){var b=arguments;setTimeout(this.fnbind(function(){a.apply(this,b)}),1)})},onFlashInit:function(){try{this.getSwf().init(this.so,this.cp,this.fc)}catch(a){$.serverLog("Unable to call onFlashInit(): "+a)}},onComplete:function(){},getSwf:function(){return this.$("#@flash").get(0)}})}),require.install("presence",function(require,a,b){var c=require("w2.quora").Component,d=require("event").add,e=require("webnode2"),f=require("cookies");require("w2.rpc");var g=c.extend({onLoad:function(){if(!this.monitor)return;this.disabled=!1;var a=this.fnbind(this.onPresence);d(document,"mousemove",a),d(document,"keypress",a)},_kwargs:function(){return{}},onPresence:function(){if(this.disabled)return;this.disabled=!0,e.rpc(this._action).kwargs(this._kwargs()).send()}});a.ThreadPresenceMonitor=g.extend({_action:"/thread/ajax_report_thread_presence_POST",_kwargs:function(){return{thread_id:this.thread_id}}}),a.HomeFeedPresenceMonitor=g.extend({_action:"/ajax/ajax_report_home_feed_presence_POST"})}),require.install("query_eval",function(require,a,b){(function(a,b){var c=require("w2.quora").Component;b.QueryEvaluateDocument=c.extend({onLoad:function(){var a=this;this.$(this.scores).each(function(b){a.$("#@score_"+b).click(function(){a.serverCall("record_score").kwargs({score:b}).liveMutate().send()})}),a.$("#@report_bad").click(function(){a.serverCall("report_bad").liveMutate().send()})}})})(window.Quora,window)}),require.install("mobile_ride_along",function(require,a,b){function l(){if(!g)return;var a=m(),b=o(a.cookies);n(a.width,a.height),b?g.location.reload():f&&(f.enableButtons(),f.slideOut())}function m(){d("rideAlongMode",h=h||d("rideAlongMode")||"mobile"),d("rideAlongOrientation",i=i||d("rideAlongOrientation")||"portrait"),d("rideAlongSlideLock",j=j||d("rideAlongSlideLock")||"unlocked");var a=k[h],b={};for(var c in a)b[c]=a[c];return i==="landscape"&&(b.width=a.height,b.height=a.width),b}function n(a,b){if(!g)return;var c=g.document.documentElement;$(c).css("overflow-y","scroll").css("overflow-x","hidden");var e=$(g.frameElement),f=e.width()+(a-c.clientWidth)+"px",h=e.height()+(b-c.clientHeight)+"px";e.css("width",f).css("height",h),e.toggleClass("landscape",i==="landscape"),d("rideAlongWidthHint",f),d("rideAlongHeightHint",h)}function o(a){var b,c,d=!1;for(b in a)c=a[b],r(b)!==c&&(d=!0),r(b,c);return d}function r(a,b){var e=g.location.host,f=p.exec(e),h=f&&d(a,b,{domain:f[0],document:g.document,expires:b===null?-1:1e3});return c(f),arguments.length===1?h:b}function s(a){var b=a.location.host,e=b.split(q),f="quora.com",g,h=k.iphone.cookies;c(e.pop()==="com"),c(e.pop()==="."),c(e.pop()==="quora");while(e.length>0){f=e.pop()+f;if(f.search(p)!==0)for(g in h)d(g,null,{domain:f,document:a.document,expires:-1})}}var c=require("assert").ok,d=require("cookies").cookie,e=require("w2.quora").Component,f,g,h,i,j,k={};k.iphone={width:320,height:480,cookies:{iphone_app:"1",iphone_app_version:"3.0:150",android_app:null,android_app_version:null,m:"1"}},k.android={width:430,height:600,cookies:{iphone_app:null,iphone_app_version:null,android_app:"1",android_app_version:"0.0.48:48.0",m:"1"}},k.mobile={width:320,height:480,cookies:{iphone_app:null,iphone_app_version:null,android_app:null,android_app_version:null,m:"1"}},a.MobileRideAlong=e.extend({onLoad:function(){var a=this,b;f=a,a.$("#@wrapper").hover(function(){b=clearTimeout(b),a.hovering=!0,a.slideIn()},function(){b=setTimeout(function(){a.hovering=!1,a.slideOut()},500)}),a.$("#@lock").mousedown(function(){var b=a.isSlideLocked();a.setSlideLocked(!b),$(this).text(b?"lock":"unlock"),l()}),a.$("#@mode").change(function(){a.disableButtons(),h=$(this).val().toLowerCase(),c(h in k),l()}),a.$("#@orient").mousedown(function(){var a=i;i=$(this).text().toLowerCase(),c(i==="landscape"||i==="portrait"),$(this).text(a),l()}),a.$("#@reload").click(function(){g&&(a.disableButtons(),g.location.reload())}),d("rideAlongOnByDefault")==="1"&&a.turnOn()},turnOn:function(){var a=this.$("#@wrapper"),b=this.$("#@frame");if(this.mobile_src&&a.hasClass("hidden")){a.removeClass("hidden"),b.attr("src")!=this.mobile_src&&b.attr("src",this.mobile_src),d("rideAlongOnByDefault","1");var c=m();n(c.width,c.height)}},turnOff:function(){this.$("#@wrapper").addClass("hidden"),d("rideAlongOnByDefault",null)},toggle:function(){this.$("#@wrapper").hasClass("hidden")?this.turnOn():this.turnOff()},disableButtons:function(){this.$("#@mode, #@reload").attr("disabled","disabled")},enableButtons:function(){this.$("#@mode, #@reload").removeAttr("disabled")},slideIn:function(){this.$("#@wrapper").animate({right:"0px"})},slideOut:function(){if(!this.hovering&&!this.isSlideLocked()){var a=this.$("#@wrapper"),b=parseInt(a.css("padding"));a.animate({right:b-a.width()+"px"})}},isSlideLocked:function(){return j!=="unlocked"},setSlideLocked:function(a){j=a?"locked":"unlocked"}});var p=/\\.?\\bmobile\\..*quora\\.com$/i,q=/(\\.)/;a.on=function(){f&&f.turnOn()},a.off=function(){f&&f.turnOff()};var t=1340582209213,u=require("keystrokes");new Date<t&&u.on([77,79,77,79],function(){f&&(a1ert(\'The "momo" keystroke has been deprecated in favor of "m0m0" (with zeros). The "momo" keystroke will stop working as of \'+new Date(t)+"."),f.toggle())}),u.on([77,48,77,48],function(){f&&f.toggle()}),a.reportChildLoaded=function(a){a!==window&&a.parent===window&&p.test(a.location.host)&&a.frameElement&&a.frameElement.ownerDocument===document&&(s(a),g=a,l())}}),require.installLazy("app/view/share/connect",\'var Component=require("w2.quora").Component,W2=require("webnode2"),URI=require("siteuri").URI;exports.SocialConnector=Component.extend({connectLinkedin:function(a){var b=this;$(document).one("linkedin_oauth_approved."+b.cid,function(c,d){b.serverCall("connect_linkedin").kwargs({li_uid:d}).success(function(){b.trigger("linkedin_connected")}).liveMutate().send(),a&&a()});var c=URI("/linkedin_/oauth_window"),d=window.open(c.unicode(),"_BLANK","height=365,width=600")},connectTwitter:function(a){var b=this;$(document).one("twitter_oauth_approved."+b.cid,function(c,d){var e=d.accessToken,f=d.userData;b.serverCall("connect_twitter").kwargs({access_token_key:e.key,screen_name:f.twitter_screen_name,tw_uid:f.twitter_uid,"protected":f["protected"]}).liveMutate().send(),a&&a()});var c=URI("/twitter/oauth_window"),d=window.open(c.unicode(),"_BLANK","height=558,width=800")}});\'),require.installLazy("app/view/settings",\'var Component=require("w2.quora").Component,fixable=require("view/fixable"),InlineEditor=require("view/inline_editor").InlineEditor,SocialConnector=require("app/view/share/connect").SocialConnector,windowManager=require("window_manager"),W2=require("webnode2");exports.SettingsMain=Component.extend({onLoad:function(){this.$("#@add_another_email_link").click(this.fnbind(function(a){return this.$("#@add_another_email_row").toggleClass("hidden"),this.$("#@add_email_input_row").toggleClass("hidden"),this.$("#@new_email").focus(),!1})),this.$("#@add_another_phone_number_link").click(this.fnbind(function(a){this.$("#@add_another_phone_number_row").toggleClass("hidden"),this.$("#@add_number_input_row").toggleClass("hidden"),this.$("#@new_number").focus()})),this.$("#@add_another_email").click(this.fnbind(function(){var a=this.$("#@new_email").val();return a?(this.serverCall("add_email").kwargs({email:a}).liveMutate().send(),!1):!1})),this.$("#@add_another_phone_number").click(this.fnbind(function(){var a=this.$("#@new_number").val();return a?(this.serverCall("add_number").kwargs({number:a}).liveMutate().success(this.fnbind(function(b){b!=null&&this.showConfirmationDialog(a,b)})).send(),!1):!1}))},showConfirmationDialog:function(a,b){return this.dialog().title("Confirm Phone Number").ok(null).html("We have sent a text message to <b>"+a+"</b>. "+"Please confirm this number belongs to you by replying to the message "+"with the following code: "+\\\'<p class="confirmation_code">\\\'+b+"</p>"),!1}}),exports.SettingsAccountEmailOption=Component.extend({onLoad:function(){this.$("#@add_another_email_link").click(this.fnbind(function(a){return this.$("#@add_another_email_row").toggleClass("hidden"),this.$("#@add_email_input_row").toggleClass("hidden"),this.$("#@new_email").focus(),!1})),this.$("#@add_another_email").click(this.fnbind(function(){var a=this.$("#@new_email").val();return a?(this.serverCall("add_email").kwargs({email:a}).liveMutate().send(),!1):!1}))}}),exports.SettingsAccountPhoneOption=Component.extend({onLoad:function(){this.$("#@add_another_phone_number_link").click(this.fnbind(function(a){this.$("#@add_another_phone_number_row").toggleClass("hidden"),this.$("#@add_number_input_row").toggleClass("hidden"),this.$("#@new_number").focus()})),this.$("#@add_another_phone_number").click(this.fnbind(function(){var a=this.$("#@new_number").val();return a?(this.serverCall("add_number").kwargs({number:a}).liveMutate().success(this.fnbind(function(b){b!=null&&this.showConfirmationDialog(a,b)})).send(),!1):!1}))},showConfirmationDialog:function(a,b){return this.dialog().title("Confirm Phone Number").ok(null).html("We have sent a text message to <b>"+a+"</b>. "+"Please confirm this number belongs to you by replying to the message "+"with the following code: "+\\\'<p class="confirmation_code">\\\'+b+"</p>"),!1}});var SettingsOption=exports.SettingsOption=Component.extend({onLoad:function(a){this.$("#@view_option_link").click(this.fnbind(function(){return this.expandOption(),!1})),this.auto_open_url_hash&&a&&windowManager.getHash().substr(0,30)=="#"+this.auto_open_url_hash&&(this.expandOption(),this.$("#@option_content").css("background-color","#E0E0E0").effect("highlight",{},1500))},expandOption:function(){this.$("#@view_option").toggleClass("hidden"),this.$("#@option_content").toggleClass("hidden")}});exports.AdultSettingsOptionToggle=Component.extend({onLoad:function(){this.$("#@no_adult_content").click(this.fnbind(function(){return this.serverCall("no_adult_content").liveMutate().send(),!1})),this.$("#@allow_adult_content").click(this.fnbind(function(){return this.serverCall("allow_adult_content").liveMutate().send(),!1}))}}),exports.ReviewerAdminOptionToggle=Component.extend({onLoad:function(){this.$("#@hide_reviewer_controls").click(this.fnbind(function(){return this.serverCall("hide_reviewer_controls").liveMutate().send(),!1})),this.$("#@show_reviewer_controls").click(this.fnbind(function(){return this.serverCall("show_reviewer_controls").liveMutate().send(),!1}))}}),exports.PersonalSearchSettingsOptionToggle=Component.extend({onLoad:function(){this.$("#@public_link").click(this.fnbind(function(){return this.toggle(),this.serverCall("public").liveMutate().send(),!1})),this.$("#@no_crawl_link").click(this.fnbind(function(){return this.toggle(),this.serverCall("no_crawl").liveMutate().send(),!1}))},toggle:function(){this.$("#@public").toggleClass("hidden"),this.$("#@no_crawl").toggleClass("hidden")}}),exports.SecureBrowsingSettingsOptionToggle=Component.extend({onLoad:function(){this.$("#@https_link").click(this.fnbind(function(){return this.toggle(),this.serverCall("https").liveMutate().send(),!1})),this.$("#@no_https_link").click(this.fnbind(function(){return this.toggle(),this.serverCall("no_https").liveMutate().send(),!1}))},toggle:function(){this.$("#@https").toggleClass("hidden"),this.$("#@no_https").toggleClass("hidden")}}),exports.ViewSettingsOptionToggle=Component.extend({onLoad:function(){this.$("#@disable_views").click(this.fnbind(function(){return this.serverCall("disable_views").liveMutate().send(),!1})),this.$("#@enable_views").click(this.fnbind(function(){return this.serverCall("enable_views").liveMutate().send(),!1}))}}),exports.AskToAnswerOnlineStatusOptionToggle=Component.extend({onLoad:function(){this.$("#@disable").click(this.fnbind(function(){return this.serverCall("disable").liveMutate().send(),!1})),this.$("#@enable").click(this.fnbind(function(){return this.serverCall("enable").liveMutate().send(),!1}))}}),exports.FeatureSettingsOptionToggle=Component.extend({onLoad:function(){this.$("#@disable").click(this.fnbind(function(){return this.serverCall("disable").liveMutate().send(),!1})),this.$("#@enable").click(this.fnbind(function(){return this.serverCall("enable").liveMutate().send(),!1}))}}),exports.NewLayoutOptionToggle=Component.extend({onLoad:function(){this.$("#@disable").click(this.fnbind(function(){return this.serverCall("disable").liveMutate().send().success(function(){window.location.reload()}),!1})),this.$("#@enable").click(this.fnbind(function(){return this.serverCall("enable").liveMutate().send().success(function(){window.location.reload()}),!1}))}}),exports.NewNotifsOptionToggle=Component.extend({onLoad:function(){this.$("#@disable").click(this.fnbind(function(){return this.serverCall("disable").liveMutate().send().success(function(){window.location.reload()}),!1})),this.$("#@enable").click(this.fnbind(function(){return this.serverCall("enable").liveMutate().send().success(function(){window.location.reload()}),!1}))}}),exports.UserDisclaimerDialogEditor=InlineEditor.extend({onLoad:function(){this._super.apply(this,arguments),this.$("#@inline_editor_cancel").click(this.fnbind(function(){return W2.Dialog.dialogFor(this).close_(),!1})),this.$("#@inline_editor_submit").click(this.fnbind(function(){return W2.Dialog.openerFor(this).user_has_set_disclaimer=!0,W2.Dialog.openerFor(this).attachDisclaimer(),W2.Dialog.dialogFor(this).close_(),!1}))}}),exports.ChangePasswordOption=SettingsOption.extend({onLoad:function(){this._super.apply(this,arguments),this.clear_passwords=function(){this.$("#@old_password").val(""),this.$("#@new_password").val(""),this.$("#@confirm_password").val("")},this.$("#@view_option_link").click(this.fnbind(function(){return this.$("#@old_password").focus(),!1})),this.$("#@change_password_submit").click(this.fnbind(function(){return W2.rpc("/settings/change_password_POST").kwargs({old_password:this.$("#@old_password").val(),new_password:this.$("#@new_password").val()}).success(this.fnbind(function(a){this.clear_passwords(),a[0]?(this.$("#@old_password_no_match").addClass("hidden"),this.$("#@password_changed").removeClass("hidden")):(this.$("#@old_password_no_match").text(a[1]).removeClass("hidden"),this.$("#@password_changed").addClass("hidden"))})).error(this.fnbind(function(a){})).send(),!1}))}}),exports.DeactivateAccountOption=SettingsOption.extend({onLoad:function(){this._super.apply(this,arguments),this.$("#@deactivate_account_submit").click(this.fnbind(function(){return this.openDialog(),!1}))},openDialog:function(){this._dialog=this.dialog().title("Confirm Account Deactivation").ok(this.fnbind(function(){this.serverCall("deactivate_account").success(this.fnbind(function(){windowManager.navigateTo("/login?__pmsg__=deactivate_account")})).send()}),"Deactivate").cancel(null,"Cancel").html("Are you sure you want to deactivate your account?")}}),exports.TumblrBlogList=Component.extend({onLoad:function(){this.$("#@menu_link").click(this.fnbind(function(){return this.$("#@menu_items").menu(this.$("#@menu_link")),!1})),this.$("%@blogs").click(this.fnbind(function(a){return this.connectBlog($(a.target).attr("name")),!1}))},connectBlog:function(a){this.serverCall("connect_tumblr").kwargs({url:a}).liveMutate().success(function(a){a!="OK"&&alert("Couldn\\\'t connect to Tumblr blog")}).send()}}),exports.BlogConnectDialogContents=Component.extend({onLoad:function(){this.$("#@url, #@uname, #@pwd").focus(this.fnbind(function(){this.$("#@blog_not_supported").hide()})),this.$("#@url, #@uname, #@pwd").keydown(this.fnbind(function(a){a.keyCode==13&&this.submitForm()})),this.$("#@url").blur(this.fnbind(function(){this.$("#@wordpress_login_help").hide();var a=this.$("#@url").val();a.match("wordpress")&&this.$("#@wordpress_login_help").show()})),this.$("#@close").click(this.fnbind(function(){return W2.Dialog.dialogFor(this).close_(),!1})),this.$("#@connect").click(this.fnbind(function(){this.submitForm()}))},submitForm:function(){var a=this.$("#@url").val(),b=this.$("#@uname").val(),c=this.$("#@pwd").val();a&&b&&c&&this.serverCall("validate_blog").kwargs({url:a,name:b,pwd:c}).liveMutate().success(this.fnbind(function(a){var b=a[0],c=a[1];b?W2.Dialog.dialogFor(this).close_():this.$("#@blog_not_supported").show().text(c)})).send()}}),exports.BlogConnect=Component.extend({onLoad:function(){this.$("#@tumblr_connect_button").click(this.fnbind(function(){this.connectTumblr()})),this.$("#@wordpress_connect_button").click(this.fnbind(function(){return this.connectWordpress(),!1})),this.$("#@blog_disconnect_button").click(this.fnbind(function(){return this.serverCall("blog_disconnect").liveMutate().send(),!1}))},connectWordpress:function(){this._dialog=this.dialog().title("Connect Your Blog").close(null).load("set_dialog_contents")},connectTumblr:function(){var a=this;$(document).one("tumblr_oauth_approved."+a.cid,function(b,c){a.serverCall("connect_tumblr").kwargs({url:c}).liveMutate().success(function(a){a!="OK"&&alert("Couldn\\\'t connect to Tumblr blog")}).send()});var b=window.open("/tumblr_/oauth_window","_BLANK","height=500,width=600")}}),exports.TwitterConnect=Component.extend({onLoad:function(){this.$("#@twitter_disconnect_button").click(this.fnbind(function(){return this.serverCall("twitter_disconnect").liveMutate().send(),!1}))}}),exports.LinkedinConnect=Component.extend({onLoad:function(){this.$("#@linkedin_disconnect_button").click(this.fnbind(function(){return this.serverCall("disconnect_linkedin").liveMutate().send(),!1}))}}),exports.LinkedinConnectButton=SocialConnector.extend({onLoad:function(){var a=this;a.$("#@linkedin_connect_button").click(a.fnbind(function(){this.connectLinkedin()}))}}),exports.LinkedinPublicProfileLink=Component.extend({onLoad:function(){this.serverCall("get_profile_info").kwargs({li_uid:this.liUid}).success(this.fnbind(function(a){a==null?this.$("#@linkedin_link").text("").attr("href","#"):this.$("#@linkedin_link").text(a.first_name+" "+a.last_name).attr("href",a.url)})).send()}}),exports.EmailSettingsNavigation=Component.extend({tabIDs:["@your_content","@followed_content"],onLoad:function(){var a="@"+windowManager.getHash().substr(1);this.tabIDs.indexOf(a)!=-1&&this.navigateTo(a),$(this.tabIDs).each(this.fnbind(function(a,b){this.$("#"+b+"_tab").click(this.fnbind(function(){this.navigateTo(b),window.location.hash="#"+b.substr(1)}))}))},navigateTo:function(a){var b=this.lookup("email_settings_navigation").lookup("settings_navigation").lookup("email_settings");for(var c=0;c<this.tabIDs.length;++c)this.tabIDs[c]!=a?b.$("#"+this.tabIDs[c]).addClass("hidden"):b.$("#"+this.tabIDs[c]).removeClass("hidden");this.$("#@email_preferences_navigation").find(".link").each(function(){$(this).removeClass("selected")}),this.$("#"+a+"_tab").find(".link").addClass("selected"),$("html, body").animate({scrollTop:0},0)}});var SettingsBase=Component.extend({updateSettings:function(){var a=this.$("#@form").serializeArray();this.serverCall("update_settings").kwargs({items:a}).liveMutate().send()}});exports.EmailSettings=SettingsBase.extend({}),exports.EmailSettingsSection=Component.extend({onLoad:function(){this.$("#@view_section_link").click(this.fnbind(function(){return this.$("#@view_section").removeClass("hidden"),this.$("#@view_section_span").addClass("hidden"),!1}))}}),exports.EmailSettingCheckbox=Component.extend({onLoad:function(){this.$("#@checkbox").change(this.fnbind(function(){this.lookup("email_settings").updateSettings()}))}}),exports.EmailSettingRadioButton=Component.extend({onLoad:function(){this.$("#@radio").change(this.fnbind(function(){this.serverCall("update_setting").liveMutate().send()}))}}),exports.EmailSettingMenuOption=Component.extend({onLoad:function(){this.$("#@menu_link").click(this.fnbind(function(){return this.$("#@menu_items").menu(this.$("#@menu_link")),!1})),this.$("%@reason").click(this.fnbind(function(a){var b=this.cQuery(":checkbox").$("#@checkbox");return b.attr("checked",!0),b.attr("name",$(a.target).attr("name")),this.$("#@display_text").text($(a.target).text()),this.$("%@reason").removeClass("selected"),$(a.target).addClass("selected"),this.lookup("email_settings").updateSettings(),!1}))}}),exports.DigestSettingCheckbox=Component.extend({onLoad:function(){this.$("#@checkbox").change(this.fnbind(function(){this.serverCall("update_setting").kwargs({checked:this.$("#@checkbox").prop("checked")}).liveMutate().send()}))}}),exports.EmailAddressRow=Component.extend({onLoad:function(){var a=this,b={resend:function(){return a._serverCallHelper("resend_email_confirmation")},primary:function(){return a._serverCallHelper("set_primary_email")},remove:function(){return a._serverCallHelper("remove_email")}};this.$("#@confirm_email").click(this.fnbind(function(){return this.dialog().title("Resend Confirmation Email").ok(this.fnbind(function(){b.resend()}),"Send").cancel(null).html("Resend a confirmation email to "+a.email+"."),!1})),this.$("#@make_primary").click(b.primary),this.$("#@delete_email").click(function(){return $(".content").dialog({title:"Remove Email Address",contents:"Are you sure you want to delete the "+a.email+" address?",buttons:{Delete:b.remove,Cancel:null}}),!1})},_serverCallHelper:function(a){return this.serverCall(a).kwargs({email:this.email}).liveMutate().send(),!1}}),exports.PhoneNumberRow=Component.extend({onLoad:function(){var a=this,b={confirm:function(){return a._serverCallHelper("resend_confirmation_code")},primary:function(){return a._serverCallHelper("set_primary_number")},remove:function(){return a._serverCallHelper("remove_number")}};this.$("#@confirm_number").click(this.fnbind(function(){b.confirm(),this.lookup("settings_main").showConfirmationDialog(a.number,a.code)})),this.$("#@make_primary").click(b.primary),this.$("#@delete_number").click(function(){return $(".content").dialog({title:"Remove Phone Number",contents:"Are you sure you want to delete the number <b>"+a.number+"</b>?",buttons:{Delete:b.remove,Cancel:null}}),!1})},_serverCallHelper:function(a){return this.serverCall(a).kwargs({number:this.number}).liveMutate().send(),!1}}),exports.ResetPassword=Component.extend({onLoad:function(){this.$("#@reset_email_submit").click(this.fnbind(function(a){var b=this.$("#@email_input").val();return b?(this.emailRequest("/settings/send_reset_password_email_POST",b),!1):!1})),this.$("#@reset_password_form_tag").submit(this.fnbind(function(a){var b=this.$("#@reset_password_code").val(),c=this.$("#@new_password").val();return c?(this.passwordRequest("/settings/reset_password_POST",b,c),!1):!1}))},emailRequest:function(a,b){return W2.rpc(a).kwargs({email:b}).success(this.fnbind(function(a){this.$("#@email_input").val(""),this.$("#@reset_email_conf").removeClass("hidden"),this.$("#@reset_email_form").addClass("hidden")})).send(),!1},passwordRequest:function(a,b,c){return W2.rpc(a).kwargs({code:b,new_password:c}).success(this.fnbind(function(a){a?windowManager.navigateTo("/?__pmsg__=password_changed"):windowManager.navigateTo("/settings/reset_password?__pmsg__=password_change_error")})).send(),!1}});var twitterConnectListener={};exports.onTwitterConnect=function(){$(twitterConnectListener).trigger("connect")},exports.TwitterConnectButton=SocialConnector.extend({onLoad:function(){this.$("#@twitter_connect_button").click(this.fnbind(function(){this.connectTwitter()})),$(twitterConnectListener).bind("connect",this.fnbind(function(){this.connectTwitter()}))}}),exports.FollowUnfollowTopicOnTwitter=Component.extend({onLoad:function(){this.$("#@follow").click(this.fnbind(function(){return this.follow(),!1})),this.$("#@unfollow").click(this.fnbind(function(){return this.unfollow(),!1}))},follow:function(){this.serverCall("follow").liveMutate().send()},unfollow:function(){this.serverCall("unfollow").liveMutate().send()}}),exports.UnmuteButton=Component.extend({onLoad:function(){this.$("#@unmute").click(this.fnbind(function(){this.serverCall("unmute").kwargs({oid:this.oid}).liveMutate().send()}))}}),exports.MutedRowToggle=Component.extend({onLoad:function(){this.$("#@unmute").click(this.fnbind(function(){this.serverCall("unmute").kwargs({oid:this.oid}).liveMutate().send()})),this.$("#@mute").click(this.fnbind(function(){this.serverCall("mute").kwargs({oid:this.oid}).liveMutate().send()}))}}),exports.SettingsPageNavigation=Component.extend({onLoad:function(){fixable.makeFixable({element:this.$("#@settings_nav"),width_dep:!0,height_dep:!0})}}),exports.SettingsToggleEditor=Component.extend({onLoad:function(){this.$("#@edit_toggle").click(this.fnbind(function(){this.$("#@current_view").addClass("hidden"),this.$("#@editor_view").removeClass("hidden").find(this.editor).focus()}))}}),exports.PushNotifSettingCheckbox=Component.extend({onLoad:function(){this.$("#@checkbox").change(this.fnbind(function(){this.lookup("push_notif_settings").updateSettings()}))}}),exports.PushNotifSettings=SettingsBase.extend({});\'\n),require.install("lang/arr",function(require,a,b){a.map=function(a,b){for(var c=0,d=a.length,e=new Array(d);c<d;++c)c in a&&(e[c]=b(a[c],c));return e},a.each=function(a,b){for(var c=0,d=a.length;c<d;++c)c in a&&b(a[c],c)}}),require.installLazy("sticky",\'var STICKY_CLASS="sticky",targets=[],started=!1;exports.add=function(a){if(!a.elem||!a.container)return;var b=$(a.elem),c=$(a.container),d=$.extend({top:0,bottom:0},a.offsets),e=b.css("position");b.addClass(STICKY_CLASS);var f=b.outerHeight(!0);b.removeClass(STICKY_CLASS);var g=$("<div>").css({height:0,margin:0,padding:0,clear:"both",display:"block"});b.before(g),targets.push({elem:b,sentinelElem:g,container:c,origPadding:parseInt(c.css("padding-bottom")),origPos:e,curPos:e,offsets:d,height:f}),started||(started=!0,update())},exports.remove=function(a){for(var b=0;b<targets.length;++b){var c=targets[b];if(c.elem[0]===$(a)[0]){targets.splice(b,1),updateTarget(c,c.origPos);break}}};var updateTarget=function(a,b){b!=a.curPos&&(a.curPos=b,a.elem.css("position",b),b=="fixed"?(a.sentinelElem.css("height",a.elem.outerHeight(!0)),a.elem.addClass(STICKY_CLASS)):(a.sentinelElem.css("height",0),a.elem.removeClass(STICKY_CLASS)))},update=function(){var a=$(window),b=a.scrollTop()+a.height();for(var c=0;c<targets.length;++c){var d=targets[c];if(!d.elem.is(":visible"))continue;var e=d.container.offset().top+d.height+d.offsets.top,f=d.sentinelElem.offset().top+d.height-d.offsets.bottom,g;b>=e&&b<=f?updateTarget(d,"fixed"):updateTarget(d,d.origPos)}window.requestAnimationFrame(update)};\'),require.installLazy("view/embed",\'var Component=require("w2.quora").Component,InlineEditor=require("view/inline_editor").InlineEditor,W2=require("webnode2");exports.EmbedDialog=Component.extend({onLoad:function(){this.$("#@link").click(this.fnbind(function(){return this.openDialog(),!1}))},openDialog:function(){this._dialog=this.dialog({width:585,verticalOffset:100}).title(this.title).load("embed_content")},closeDialog:function(){this._dialog.close_()}}),exports.EmbedDialogContents=Component.extend({onLoad:function(){var a=this,b=this.$("#@embed_dialog_contents_wrapper"),c=$("<div>").addClass("embed_dialog_close_button").text("close");c.click(function(){a.child("create_embed_box").child("editor").closeDialog()}),b.parents(".dialog_wrapper").append(c)}}),exports.CreateEmbedEditor=InlineEditor.extend({onLoad:function(){this._super.apply(this,arguments);var a=this,b=0,c=0,d=this.$("#@preview_wrapper");this.height=d.height()+c,this.width=d.width()+b,this.updateCode("",this.width,this.height),this.$("#@post").bind("keyup",function(b){var c=a.$("#@post").val();a.updateCode(c,a.width,a.height)}),this.$("#@code").click(this.fnbind(function(){this.$("#@code").select()}))},cancelEditor:function(){this.closeDialog()},updateCode:function(a,b,c){this.serverCall("get_widget_code").kwargs({caption:a,width:b,height:c}).success(this.fnbind(function(a){this.$("#@code").text(a).select()})).send()},ajax_callback:function(a){this.closeDialog();return},closeDialog:function(){W2.Dialog.dialogFor(this).close_()}}),exports.ExternalEmbed=Component.extend({onLoad:function(a){this.$("#@embed_logo").mouseover(this.fnbind(function(){this.$("#@embed_logo").css({"background-position":"0 -20px"}).animate({right:"0px"},80)})),this.$("#@external_embed_wrapper").on("mousedown",\\\'a[href!="#"]\\\',function(a){var b=$(a.currentTarget);b.attr("target","_blank")})}}),exports.QuoteEmbed=exports.ExternalEmbed.extend({onLoad:function(a){this._super.apply(this,arguments);var b=this.lookup("quote_dialog_content");b&&b.getSize()}}),exports.QuestionEmbed=exports.ExternalEmbed.extend({onLoad:function(a){this._super.apply(this,arguments),this.child("question_embed_answer").whenOnLoaded(this.fnbind(function(){var a=this.child("question_embed_answer").$("#@answer .answer_content:first").height();this.child("question_embed_answer").$("#@answer a.more_link").click(this.fnbind(function(){this.child("question_embed_answer").$("#@answer .answer_content").css({height:a,"overflow-y":"scroll"})}))}))}});\'),require.installLazy("view/placepicker",\'var Component=require("w2.quora").Component,windowManager=require("window_manager");exports.PlacePicker=Component.extend({onLoad:function(){this.address=this.default_location,this.initializeGoogleMaps(),this.mutable==1&&(this.$("#@edit_map").click(this.fnbind(function(){return this.toggleEditor(),!1})),this.$("#@change_location").click(this.fnbind(function(){if(this.place||this.marker){this.$("#@search_text_field").blur();var a,b;this.map.getBounds().contains(this.marker.getPosition())?(a=this.marker.getPosition().lat(),b=this.marker.getPosition().lng()):(a=this.map.getCenter().lat(),b=this.map.getCenter().lng());if(!this.place){var c=new google.maps.LatLng(a,b),d=new google.maps.Geocoder;d.geocode({location:c},this.fnbind(function(a,b){if(b==google.maps.GeocoderStatus.OK&&a.length){var c=a[0];this.radius=this.computeRadius(c.geometry.viewport),this.setAddress(c.address_components)}}))}var e=$.trim(this.$("#@search_text_field").val());this.serverCall("place_changed").kwargs({radius:this.radius,reference:this.place&&this.place.reference||this.reference,lat:a,lng:b,viewport:{zoom:this.map.getZoom(),mapTypeId:this.map.getMapTypeId(),icon:this.place&&this.place.icon,tilt:this.map.getTilt(),heading:this.map.getHeading()},address:e.length?e:this.address}).success(this.fnbind(function(){this.default_location.hasLocation=!0})).send()}else this.$("#@search_text_field").focus()})),this.$("#@edit").click(this.fnbind(function(){return this.toggleEditor(),!1})),this.$("#@add").click(this.fnbind(function(){return this.reinitializeMap(),!1})),this.$("#@clear").click(this.fnbind(function(){return this.dialog().title("Remove Location").cancel(null,"Cancel").ok(this.fnbind(function(){this.serverCall("place_cleared").success(this.fnbind(function(){this.toggleEditor()})).send()}),"Remove Location").html("Are you sure you want to remove the location set for this topic?"),!1})),this.$("#@close").click(this.fnbind(function(){return this.toggleEditor(),this.initializeGoogleMaps(),this.default_location.hasLocation===!1&&this.$("#@map_wrapper").hide(),!1})),windowManager.getHash().substr(0,13)=="#editlocation"&&this.reinitializeMap())},initializeGoogleMaps:function(){this.mapOptions={center:window.google&&google.maps&&new google.maps.LatLng(this.default_location.latitude,this.default_location.longitude),zoom:this.viewport&&this.viewport.zoom||7,mapTypeId:this.viewport&&this.viewport.mapTypeId||window.google&&google.maps&&google.maps.MapTypeId.ROADMAP||"roadmap",tilt:this.viewport&&this.viewport.tilt!==undefined&&this.viewport.zoom>=18?this.viewport.tilt:45,heading:this.viewport&&this.viewport.heading,streetViewControl:this.mutable==1?!1:!0};var a=this.viewport&&this.viewport.icon;if(this.static_map==1){var b="//maps.googleapis.com/maps/api/staticmap?center="+encodeURIComponent(this.default_location.latitude+","+this.default_location.longitude)+"&zoom="+encodeURIComponent(this.mapOptions.zoom)+"&size="+encodeURIComponent(this.size.width+"x"+this.size.height)+"&maptype="+encodeURIComponent(this.mapOptions.mapTypeId)+"&markers="+encodeURIComponent("icon:"+a+"shadow:false|"+this.default_location.latitude+","+this.default_location.longitude)+"&sensor=false",c=$(\\\'<img src="\\\'+b+\\\'" />\\\');this.$("#@map_canvas").replaceWith(c);return}this.map=new google.maps.Map(this.$("#@map_canvas").get(0),this.mapOptions),(this.simple_view==1||this.mutable==1)&&this.toggleControls(!1),this.default_location.hasLocation!==!1&&this.updateMarker(a,this.mapOptions.center,this.default_text),this.mutable==1&&this.toggleDraggable(!1);if(this.mutable==1){var d=this.$("#@search_text_field").get(0),e=new google.maps.places.Autocomplete(d);e.bindTo("bounds",this.map),google.maps.event.addListener(e,"place_changed",this.fnbind(function(){this.infowindow&&this.infowindow.close(),this.place=e.getPlace(),this.place.geometry.viewport?(this.map.fitBounds(this.place.geometry.viewport),this.radius=this.computeRadius(this.place.geometry.viewport)):(this.map.setCenter(this.place.geometry.location),this.map.setZoom(17),this.radius=30),this.setAddress(this.place.address_components),this.updateMarker(this.place.icon,this.place.geometry.location)})),google.maps.event.addListener(this.map,"click",this.fnbind(function(a){if(!this.getControlState())return;var b=a.latLng;this.radius=this.computeRadius(this.map.getBounds()),this.handleMarkerReposition(b),this.updateMarker(null,b)}))}},setAddress:function(a){this.address="";if(a){this.address=[a[0]&&a[0].short_name||"",a[1]&&a[1].short_name||"",a[2]&&a[2].short_name||""],this.address[1]==this.address[2]&&this.address.splice(2,1),this.address[0]==this.address[1]&&this.address.splice(1,1);var b="";$.each(this.address,this.fnbind(function(a,c){b+=c,/^[0-9]+$/.test(c)?b+=" ":a!=this.address.length-1&&(b+=", ")})),this.address=b}},reinitializeMap:function(){this.$("#@map_wrapper").show(0,this.fnbind(function(){this.initializeGoogleMaps(),this.toggleEditor(),this.$("#@search_text_field").focus()}))},toggleEditor:function(){this.$("#@view").toggle(),this.$("#@editor").toggle(),this.$("#@edit_map").toggle(),this.toggleDraggable(),this.toggleControls()},getControlState:function(){return!!this.mapOptions.mapTypeControl},toggleControls:function(a){var b=a!==undefined?a:!this.getControlState();this.mapOptions.mapTypeControl=b,this.mapOptions.panControl=b,this.mapOptions.zoomControl=b,this.mapOptions.scaleControl=b,this.mapOptions.rotateControl=b,this.mapOptions.overviewMapControl=b,this.map.setOptions(this.mapOptions)},toggleDraggable:function(a){this.mapOptions.draggable=a!==undefined?a:!this.mapOptions.draggable,this.mapOptions.draggable?(this.mapOptions.minZoom=undefined,this.mapOptions.maxZoom=undefined,this.marker&&this.marker.setDraggable(!0)):(this.mapOptions.minZoom=this.map.getZoom(),this.mapOptions.maxZoom=this.map.getZoom(),this.marker&&this.marker.setDraggable(!1)),this.map.setOptions(this.mapOptions)},updateMarker:function(a,b){this.marker&&this.marker.setMap(null);var c=new google.maps.MarkerImage(a||"//maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",new google.maps.Size(40,40),new google.maps.Point(0,0),new google.maps.Point(20,40),new google.maps.Size(40,40));this.marker=new google.maps.Marker({clickable:!0,draggable:this.mapOptions&&this.mapOptions.draggable,icon:c,map:this.map,position:b}),google.maps.event.addListener(this.marker,"dragend",this.fnbind(function(a){var b=a.latLng;this.handleMarkerReposition(b)})),this.updateInfoWindow(b)},handleMarkerReposition:function(a){this.place=null,window.setTimeout(this.fnbind(function(){this.map.panTo(a)}),1e4);var b=new google.maps.Geocoder;b.geocode({location:a},this.fnbind(function(b,c){if(c==google.maps.GeocoderStatus.OK&&b.length){var d=b[0];this.radius=this.computeRadius(d.geometry.viewport),this.setAddress(d.address_components),this.updateInfoWindow(a)}}))},updateInfoWindow:function(a){this.infowindow&&this.infowindow.close(),this.address&&this.address.length&&(this.infowindow=new google.maps.InfoWindow({content:this.address,position:a}),google.maps.event.addListener(this.marker,"click",this.fnbind(function(){this.infowindow.open(this.map,this.marker)})))},computeRadius:function(a){var b=a.getNorthEast(),c=a.getSouthWest(),d=b.lat(),e=c.lat(),f=b.lng(),g=c.lng();return Math.floor(Math.abs(d-e)*111045/2)}});\'),require.install("app/view/common",function(require,a,b){var c=require("w2.quora").Component,d=require("view/inline_editor").InlineEditor,e=require("view/toggle"),f=require("window_manager");a.ActionBar=e.SwitchableComponentWithComments.extend({onLoad:function(){this.$("#@action_overflow_link").click(this.fnbind(function(a){return this.$("#@action_overflow_menu").menu(this.$("#@action_overflow_link"),{position_adjust:{top:0,left:-2},align_right:!0,close_all_of_type:!0}),!1})),this.$("#@hide").click(this.fnbind(function(a){a.preventDefault(),this.cQuery(":item").showMuteControls()})),this.configurePromoteLink(),this._super.apply(this,arguments)},configurePromoteLink:function(){this.$("#@show_promote").click(this.fnbind(function(){return this.$("#@promote").toggle(),!1}))},switchAction:function(){this.switchAndViewComments()}}),a.StickyActionBar=a.ActionBar.extend({onLoad:function(){this._super.apply(this,arguments),this.comments_enabled&&this.commentsElem().is(":visible")?this.disableSticky():this.enableSticky()},commentsElem:function(){return this.lookup("comments_list").$("#@comments")},enableSticky:function(){require("sticky").add({elem:this.$("#@simple_action_bar"),container:this.$("#@simple_action_bar").parent().parent(),offsets:this.stickyOffsets})},disableSticky:function(){require("sticky").remove(this.$("#@simple_action_bar"))},switchAction:function(){this._super.apply(this,arguments),this.commentsElem().is(":visible")?(this.disableSticky(),f.scrollIntoView(this.$("#@simple_action_bar"))):this.enableSticky()}}),a.QuestionActionBar=a.ActionBar.extend({toggleA2ASection:function(){this.comments_enabled&&this.commentsElem().is(":visible")&&this.commentsElem().hide(),this.lookup("a2a_section").toggleSection()},loadA2ASection:function(){this.lookup("a2a_section").loadSection()}}),a.AnswerActionBar=a.StickyActionBar.extend({stickyOffsets:{top:300}}),a.PostActionBar=a.StickyActionBar.extend({stickyOffsets:{top:300}}),a.TopicActionBar=a.ActionBar.extend({}),a.TopicPageActionBar=a.ActionBar.extend({}),a.ProfileActionBar=a.ActionBar.extend({}),a.ToFollowList=c.extend({onLoad:function(){this.$("#selectall").click(this.fnbind(function(){this.selectAll()})),this.$("#@submit_button").click(this.fnbind(function(){if(this.ajax){var a=[];return this.$("#@list_contents input:checked").each(function(b){a.push($(this).attr("name"))}),this.serverCall("follow_from_contacts").kwargs({follow_strings:a}).liveMutate().success(this.fnbind(function(a){this.successfullyFollowed(a)})).send(),!1}}))},selectAll:function(){this.$("#selectall").attr("checked")?(this.$("input").attr("checked",!0),this.$(".list_item").addClass("selected")):(this.$("input").attr("checked",!1),this.$(".list_item").removeClass("selected"))},successfullyFollowed:function(a){var b="Successfully followed "+a;a==1?b+=" friend.":b+=" friends.",this.$("#@follow_results").show().text(b),this.$("#@to_follow_list").hide(),this.lookup("next_button").$("#@next_button").addClass("submit_button")}}),a.ToFollowListItem=c.extend({onLoad:function(){this.$("#@list_row").hover(this.fnbind(function(){this.$("#@list_row").addClass("hover")}),this.fnbind(function(){this.$("#@list_row").removeClass("hover")})),this.$("#@chkbox").click(this.fnbind(function(a){this.onCheck(),a.stopPropagation()})),this.$("#@list_row").click(this.fnbind(function(){this.$("#@chkbox").attr("disabled")||(this.$("#@chkbox").attr("checked")?this.$("#@chkbox").attr("checked",!1):(this.$("#@chkbox").attr("checked",!0),this.$("#selectall").attr("checked",!1)),this.onCheck())}))},onCheck:function(){this.$("#@list_row").toggleClass("selected"),this.max!==null&&this.atMax()},atMax:function(){var a=0;return $("input[type=\'checkbox\']").each(function(){$(this).attr("checked")&&a++}),a>=this.max?($("input[type=\'checkbox\']").each(function(){$(this).attr("checked")||$(this).attr("disabled",!0)}),!0):($("input[type=\'checkbox\']").removeAttr("disabled"),!1)}}),a.OptionsMenuLink=c.extend({onLoad:function(){this.position_adjust=this.position_adjust!==undefined?this.position_adjust:0,this.align_right=this.align_right!==undefined?this.align_right:!1,this.$("#@options_link").click(this.fnbind(function(a){return this.$("#@options_menu").menu(this.$("#@options_link"),{position_adjust:{top:this.position_adjust,left:0},align_right:this.align_right}),!1}))}}),a.SuggestedEditSaveButton=c.extend({onLoad:function(){this.$("#@accept").click(this.fnbind(function(a){return this.serverCall("publish_edit").liveMutate().send(),!1}))}}),a.AnswerContent=c.extend({onLoad:function(){this.$("#@view_suggestion").click(this.fnbind(function(){return this.toggleSuggestion(),!1}))},toggleSuggestion:function(){this.$("#@original_answer").toggleClass("hidden"),this.$("#@suggestion_diff").toggleClass("hidden")}}),a.SuggestedEditsEditor=d.extend({onLoad:function(){this._super.apply(this,arguments),this.disclaimer_update="",this.answer_attribution_update="",this.setToggleCallback(this.fnbind(function(){this.parent()&&(this.parent().toggleButtons&&this.parent().toggleButtons(),this.parent().$("#@disclaimer, #@nfr, #@answer_attribution").toggle())})),this.$("#@add_comment_link").click(this.fnbind(function(){return this.$("#@comment_box").removeClass("hidden"),this.$("#@add_comment_link").addClass("hidden"),this.lookup("comment_editor").focus(),!1}))},_get_kwargs:function(){var a="";return this.has_comment&&!this.lookup("comment_editor").isEmpty()&&(a=this.lookup("comment_editor").serialize()),{object_id:this.id,input:this.get_value(),sugg_exists:this.sugg_exists,notif:this.$("#@notif").attr("checked")?1:0,comment:a,disclaimer_update:this.disclaimer_update,answer_attribution_update:this.answer_attribution_update,review_data:this.getReviewData(),should_collapse:this.shouldCollapse()}},shouldCollapse:function(){return this.$("#@collapse").length>0?this.$("#@collapse").is(":checked"):!1}}),a.SuggestedAnswerEditorToggleWrapper=e.ToggledComponent.extend({onLoad:function(){this._super.apply(this,arguments),this.$("#@inline_editor_content").hover(this.fnbind(function(){this.$("#@inline_editor_content").addClass("hover")}),this.fnbind(function(){this.$("#@inline_editor_content").removeClass("hover")}))}}),a.FeedStoryItem=c.extend({onLoad:function(){var a=this;this.$("#@item").hover(function(b){a.$("#@item").addClass("hover")},function(b){a.$("#@item").removeClass("hover")})},getHash:function(){return this.hash}})}),require.installLazy("app/view/review_queue",\'var Component=require("w2.quora").Component,W2=require("webnode2"),windowManager=require("window_manager");exports.ReviewQueueItemsList=require("view/paged_list").PagedList.extend({init:function(){this._super.apply(this,arguments),this.seenItems={}},onLoad:function(a){this._super.apply(this,arguments),this.setShowHiddenCallback(this.fnbind(function(){this.markItemsAsSeen()})),this.markItemsAsSeen()},markItemsAsSeen:function(){var a=[],b=this.children(),c;for(c=0;c<b.length;c++){var d=b[c],e=W2._domids[d.cid];if(!e||this.seenItems[e])continue;var f=document.getElementById(e);if(!f)continue;var g=$(f);if(!g.is(":visible"))continue;d.getOid?(a.push(d.getOid()),this.seenItems[e]=!0):this.seenItems[e]=!1}a.length>0&&!this.is_owner&&this.serverCall("mark_as_seen").kwargs({queue_id:this.object_id,oids:a}).send()}}),exports.ReviewQueueItem=Component.extend({getOid:function(){return this.oid}}),exports.ReviewQueueOperationRevertLink=exports.OperationRevert.extend({onLoad:function(){this._super.apply(this,arguments)},getKwargs:function(a){return{oid:this.oid,queue_id:this.queue_id,comment:a.serialize()}}}),exports.CreateReviewQueueLink=Component.extend({onLoad:function(){this.$("#@link").click(this.fnbind(function(){return this._dialog||(this._dialog=this.dialog().title("Create Review Queue").cancel(null,"Close").ok(this.fnbind(function(){var a=arguments[0].dialogComponent,b=a.getName();if(!b)return!1;this.serverCall("create_queue").kwargs({name:b}).success(this.fnbind(function(a){console.log("Success! Data: "+a),windowManager.navigateTo("/review/queue/"+a)})).liveMutate().send()}),"Create").close(this.fnbind(function(){this._dialog=null})).load("set_dialog_contents")),!1}))}}),exports.CreateReviewQueueNameDialog=Component.extend({onLoad:function(){this.$("#@name").focus()},getName:function(){return this.$("#@name").val()}}),exports.FollowReviewQueueLink=Component.extend({onLoad:function(){this.$("#@follow").click(this.fnbind(function(){return this.serverCall("follow").kwargs({queue_id:this.queue_id}).liveMutate().send(),!1})),this.$("#@unfollow").click(this.fnbind(function(){return this.unfollow(),!1}))},unfollow:function(){this.serverCall("unfollow").kwargs({queue_id:this.queue_id}).liveMutate().send()}}),exports.ClaimAbandonedQueue=Component.extend({onLoad:function(){this.$("#@claim").click(this.fnbind(function(){return this.serverCall("claim").kwargs({queue_id:this.queue_id}).liveMutate().send(),!1}))}}),exports.DeleteReviewQueueLink=Component.extend({onLoad:function(){this.$("#@delete").click(this.fnbind(function(){return $(".content").dialog({title:"Delete Review Queue",contents:"Are you sure you want to delete this review queue?",buttons:{"Delete Queue":this.fnbind(function(){this.serverCall("delete").kwargs({queue_id:this.queue_id}).liveMutate().send()}),Cancel:null}}),!1})),this.$("#@undelete").click(this.fnbind(function(){return this.serverCall("undelete").kwargs({queue_id:this.queue_id}).liveMutate().send(),!1}))}}),exports.AddOperationTarget=Component.extend({onLoad:function(){this.$("#@add").click(this.fnbind(function(){return this.$("#@label").addClass("hidden"),this.$("#@select").removeClass("hidden"),!1})),this.$("#@select").change(this.fnbind(function(){var a=this.$("#@select option:selected").val();return this.serverCall("select").kwargs({queue_id:this.queue_id,types:a}).liveMutate().success(this.fnbind(function(){this.$("#@default").attr("selected","selected")})).send(),!1}))}}),exports.RemoveOperationTargetLink=Component.extend({onLoad:function(){this.$("#@remove").click(this.fnbind(function(){return this.serverCall("remove").kwargs({op_type:this.op_type,queue_id:this.queue_id}).liveMutate().send(),!1}))}}),exports.FlagItemLink=Component.extend({onLoad:function(){this.$("#@flag").click(this.fnbind(function(){return this.serverCall("flag").kwargs({oid:this.oid,queue_id:this.queue_id}).liveMutate().send(),!1}))}}),exports.AddReviewQueueOwner=Component.extend({onLoad:function(){this.$("#@add").click(this.fnbind(function(){return this.$("#@label").hide(),this.$("#@selector").show(),this.lookup("selector").focus(),!1}))},setTo:function(a){a&&a!=""&&this.serverCall("add_owner").kwargs({queue_id:this.queue_id,new_uid:a}).success(this.fnbind(function(a){this.clear(),this.lookup("selector").focus()})).liveMutate().send()},clear:function(){this.lookup("selector").inputBlur()}}),exports.MarkAsSeenButton=Component.extend({onLoad:function(){this.$("#@mark_as_seen").click(this.fnbind(function(){return this.serverCall("mark_as_seen").kwargs({queue_id:this.queue_id,oid:this.oid}).liveMutate().send(),!1})),this.$("#@mark_as_unseen").click(this.fnbind(function(){return this.serverCall("mark_as_unseen").kwargs({queue_id:this.queue_id,oid:this.oid}).liveMutate().send(),!1}))}}),exports.MarkAllAsSeenButton=Component.extend({onLoad:function(){this.$("#@mark_all_as_seen").click(this.fnbind(function(){return this.serverCall("mark_all_as_seen").kwargs({queue_id:this.queue_id}).liveMutate().send(),!1}))}});\'),require.installLazy("app/view/board/create_box",\'var Component=require("w2.quora").Component,W2=require("webnode2"),InlineEditor=require("view/inline_editor").InlineEditor;exports.AddToBoardBox=Component.extend({onLoad:function(){this.$("#@fake_editor").click(this.fnbind(function(){this.toggle_editor();if(this.bid)try{this.cQuery(":editor.editor.editor").focus()}catch(a){}else try{this.cQuery(":editor.selector.selector").focus(!0)}catch(a){}return!1})),this.$("#@fake_url").click(this.fnbind(function(){this.toggle_editor();try{this.cQuery(":editor.editor").$("#@url").focus()}catch(a){}return!1}))},closePopup:function(){$("#layout_header .popout_contents").length&&window.close()},toggle_editor:function(){this.$("#@fake_editor_row").hide(),this.$("#@editor_row").show()}}),exports.BookmarkletLink=Component.extend({onLoad:function(){this.installMouseHandlers()},clickHandlers:{button:function(){this.$("#@button").hasClass("bookmarklet_ie8")&&alert(\\\'Please right click on this link, then click "Add to Favorites."\\\')}}}),exports.BoardCreatePostBox=Component.extend({onLoad:function(){this.$("#@twitter_label")&&this.$("#@twitter_label").tooltip({contents:"Share With Your Twitter Followers"}),this.$("#@add_topics").click(this.fnbind(function(){return this.$("#@edit_topics").show(),this.$("#@add_topics").hide(),this.lookup("topic_selector")&&this.lookup("topic_selector").focus(!0),!1})),this.$("#@twitter_icon").click(this.fnbind(function(){return this.$("#@twitter").is(":checked")?this.uncheckTwitter():this.checkTwitter(),!1}));if(this.set_tabindex){var a=this.lookup("title_box",!0);a&&this.cQuery(":title_box.title_editor").$("#@editor").attr("tabindex",2),this.cQuery(":editor.editor").$("#@editor").attr("tabindex",3),this.lookup("topic_selector")&&this.lookup("topic_selector").$("#@input").attr("tabindex",4)}},hideDistroOptions:function(){this.uncheckTwitter(),this.$("#@distro_options").hide(),this.$("#@add_topics_link").hide()},showDistroOptions:function(){this.$("#@distro_options").show(),this.$("#@add_topics_link").show()},reset:function(){this.uncheckTwitter(),this.$("#@edit_topics").hide(),this.$("#@add_topics").show(),this.lookup("topic_selector")&&this.lookup("topic_selector").reset()},uncheckTwitter:function(){this.$("#@twitter").attr("checked",!1)},checkTwitter:function(){this.$("#@twitter").attr("checked",!0)}}),exports.BoardCreatePostTitleBox=Component.extend({onLoad:function(){this.$("#@fake_editor").click(this.fnbind(function(){return this.toggle_editor(),!1}))},toggle_editor:function(){this.$("#@fake_editor_row").hide(),this.$("#@editor_row").show(),this.$("#@editor_row .qtext_editor_content").focus()},titleRequired:function(){this.$("#@title_required").show()},titleRequiredReset:function(){this.$("#@title_required").hide()}}),exports.CreateBoardPostEditor=InlineEditor.extend({onLoad:function(){this._super.apply(this,arguments),this.$("#@remove_via").click(this.fnbind(function(){return this.$("#@via_text").hide(),this.$("#@via").remove(),!1})),this.fetchingUrl=!1,this.seenUrls={},this.link_editor_location=":link_editor.preview";var a=this,b=a.lookup("editor");this.boardSelectorObj=null,this.bid||(this.boardSelectorObj=this.parent().cQuery(":selector.selector"),this.boardSelectorObj.setCallback(function(){b.reportMeaningfulChange()})),this.bookmarklet&&(!this.draft_space||!this.draft_space.draft_id)&&(b.whenOnLoaded(function(){b.detectLinks()}),this.$("#@spinner").show()),this.$("#@fake_editor").click(this.fnbind(function(){this.showEditor()}));var c=this.lookup("title_box",!0);if(c){var d=c.child("title_editor");d.setMeaningfulChangeCallback(this.fnbind(function(){this.save_draft(!1)})),this.saved_title&&(d.setHtml(this.saved_title,this.saved_title_qlink_data),d.html(!1),c.toggle_editor())}if(this.saved_seen_urls)for(var e=0;e<this.saved_seen_urls.length;e++)this.seenUrls[this.saved_seen_urls[e]]=!0;if(this.saved_topics){var f=this.cQuery(":topic_suggestions_selector.topic_add");f.whenOnLoaded(function(){for(var b=0;b<a.saved_topics.length;b++)f.saveTempTopic(a.saved_topics[b])})}},showEditor:function(){this.$("#@fake_editor_wrapper").hide(),this.$("#@content").show(),this.lookup("editor").focus()},submitHandler:function(){this.input_button_obj.click(this.fnbind(function(){if(!this.lookup("editor").isEmpty()||this.preview!=null||this.id){if(this.parent().lookup("title_box",!0)){this.parent().cQuery(":title_box").titleRequiredReset();if(this.is_post_theme&&this.parent().cQuery(":title_box.title_editor").isEmpty())return this.parent().cQuery(":title_box").toggle_editor(),this.parent().cQuery(":title_box").titleRequired(),!1;this.parent().cQuery(":title_box.title_editor").$("#@editor").addClass("qtext_editor_content_disabled")}this.lookup("editor").$("#@editor").addClass("qtext_editor_content_disabled"),this.$("#@preview_url").addClass("qtext_editor_content_disabled"),W2.InputValidator.validate(this,{valid:this.fnbind(this.trigger_request),invalid:function(){}})}return!1}))},removeUrl:function(){this.$("#@preview_url").html(""),this.$("#@preview_url_section, #@link_editor_buttons").hide(),this.$("#@remove_url").hide(),this.preview=null,this.lookup("editor").focus()},onBookmarkletLinkEditorLoaded:function(a){this.link_editor_location=":bookmarklet_link_editor.link_editor.preview",this.preview=a,this.$("#@spinner").hide()},reset:function(){var a;this.parent().lookup("title_box",!0)&&(a=this.cQuery(":title_box.title_editor"),a.$("#@editor").removeClass("qtext_editor_content_disabled"),a.clear(!1));var b=this.lookup("editor");b.$("#@editor").removeClass("qtext_editor_content_disabled"),b.clear(!0),this.$("#@preview_url").removeClass("qtext_editor_content_disabled").hide(),this.$("#@preview_url_section, #@link_editor_buttons").hide(),this.$("#@remove_url").hide(),this.seenUrls={},this.removeUrl(),this.draft_space&&(this.draft_space.draft_id=null,b.resetMeaningfulChange(),a&&a.resetMeaningfulChange()),this.is_submission||this.parent().reset(),this.bid||this.boardSelectorObj.resetFakeInput()},cancelEditor:function(){this.canSaveDraft()&&this.draft_space.draft_id!=null&&this.save_draft(!1),this.closeDialog()},bookmarkletReturnedWithData:function(a){this.$("#@close").show(),this.$("#@content, #@post, #@submit").hide(),this.parent().$("#@selector").hide(),this.$("#@confirmation_text").html(a),this.$("#@confirmation").show(),this.$("#@inline_editor_buttons").hide(),this.parent().$("#@header").hide(),setTimeout("window.close()",3e3)},reportSuccess:function(){},ajax_callback:function(a){if(this.redirect_on_post&&a)document.location=a;else if(this.bookmarklet)this.bookmarkletReturnedWithData(a);else{if(this.is_dialog){this.reportSuccess(),this.closeDialog();return}this.reset()}},closeDialog:function(){W2.Dialog.dialogFor(this).close_()},getBid:function(){return this.bid?this.bid:this.boardSelectorObj.getBid()||null},getBoardName:function(){return this.bid?null:this.boardSelectorObj.getText()},getVia:function(){return this.$("#@via")?this.$("#@via").val():null},getIsSubmission:function(){return this.is_submission},setIsSubmission:function(a){this.is_submission=a},getLinkURL:function(){var a=this.getLinkPreview();return a?a.url:null},getLinkPreview:function(){return this.preview?this.cQuery(this.link_editor_location).getLinkInfo():null},getTopics:function(){return this.lookup("topic_suggestions_selector",!0)?this.cQuery(":topic_suggestions_selector.topic_add").getTempTopicNamesAsArray():null},getTitle:function(){return this.parent().lookup("title_box",!0)?this.parent().cQuery(":title_box.title_editor").serialize():null},getSeenUrlsAsArray:function(){var a=[];for(var b in this.seenUrls)a.push(b);return a},getTwitterCheckbox:function(){return this.lookup("publish_checkboxes",!0)?this.lookup("publish_checkboxes").shouldPublishToTwitter():this.parent().$("#@twitter")?this.parent().$("#@twitter").is(":checked"):null},getFacebookCheckbox:function(){return this.lookup("publish_checkboxes",!0)?this.lookup("publish_checkboxes").shouldPublishToFacebook():null},getLoggedAction:function(){return"PostAdd"},invokeEditServerCall:function(a){if(this.getFacebookCheckbox()&&!require("facebook").hasPermission("publish_actions")){var b=arguments,c=this._super;require("facebook").requestPermissions("publish_stream",this.fnbind(function(a){c.apply(this,b)}))}else this._super.apply(this,arguments)},canSaveDraft:function(){return this.draft_space&&!this.save_draft_disabled},enableSaveDraft:function(){this.save_draft_disabled=!1},disableSaveDraft:function(){this.save_draft_disabled=!0},onClearDraft:function(){this.reset()},save_draft:function(a){if(!this.canSaveDraft())return;this.disableSaveDraft();var b=a?"save_draft":"save_draft_auto",c=this.serverCall(b).kwargs({window_id:W2.windowId,draft_space:this.draft_space,bid:this.getBid(),name:this.getBoardName(),description:this.get_value(),title:this.getTitle(),target:this.target,url:this.url,link_url:this.getLinkURL(),preview:this.getLinkPreview(),via:this.getVia(),tw_checked:this.getTwitterCheckbox(),fb_checked:this.getFacebookCheckbox(),topics:this.getTopics(),seen_urls:this.getSeenUrlsAsArray(),is_submission:this.getIsSubmission()}).success(this.fnbind(function(a){this.enableSaveDraft();if(this.draft_space&&this.draft_space.draft_id!=a){this.draft_space.draft_id=a;var b=this.child("draft_status");b&&b.updateWithDraftId(a)}})).error(this.fnbind(function(){this.enableSaveDraft()}));a&&c.liveMutate(),c.send()},_get_kwargs:function(){return{draft_space:this.draft_space,bid:this.getBid(),object_id:this.id,name:this.getBoardName(),description:this.get_value(),title:this.getTitle(),link_url:this.getLinkURL(),preview:this.getLinkPreview(),via:this.getVia(),tw_checked:this.getTwitterCheckbox(),fb_checked:this.getFacebookCheckbox(),topics:this.getTopics(),is_submission:this.getIsSubmission(),fb_uid:require("facebook").getFbUid(),fb_access_token:require("facebook").getAccessToken(),fb_expires:require("facebook").getExpiresIn()}}}),exports.BookmarkletLinkEditor=Component.extend({onLoad:function(){this.parent().onBookmarkletLinkEditorLoaded(this.preview)},removeUrl:function(){this.parent().removeUrl()}});\'\n),require.installLazy("app/view/board/follow_invite",\'var Component=require("w2.quora").Component,W2=require("webnode2"),FollowInviteComponentBase=Component.extend({setEmailTo:function(a){this._dialog=this.dialog().title(null).cancel(null,"Cancel").ok(this.fnbind(function(){var b=arguments[0].dialogComponent,c=b.lookup("msg").serialize(),d=b.lookup("subject").serialize(),e=b.name;this.serverCall("invite_to_follow").kwargs({name:e,email:a,msg:c,subject:d}).liveMutate().success(this.fnbind(function(){this._dialog.close_(),this.lookup("selector").clear()})).send()}),"Invite to Follow").load("invite_dialog",{kwargs:{email:a}})}});exports.FollowInviteSection=FollowInviteComponentBase.extend({setTo:function(a){this.setEmailTo(a)},setUserTo:function(a){}}),exports.FollowInviteEmailButton=FollowInviteComponentBase.extend({onLoad:function(){this.$("#@invite").click(this.fnbind(function(){return this.setEmailTo(this.email),!1}))}}),exports.FollowInviteTwitterButton=Component.extend({onLoad:function(){this.$("#@invite").click(this.fnbind(function(){return console.log(this.tw_uid),this._dialog=this.dialog().title(null).cancel(null,"Cancel").ok(this.fnbind(function(){console.log("Invite")}),"Invite").load("invite_twitter_dialog",{kwargs:{tw_uid:this.tw_uid}}),!1}))}}),exports.InviteToFollowDialogContents=Component.extend({onLoad:function(){this.lookup("msg").focus()}});\'),require.installLazy("app/view/signup/banner",\'var W2=require("webnode2"),Component=require("w2.quora").Component,QuestionPageSignupCallToAction=exports.QuestionPageSignupCallToAction=Component.extend({onLoad:function(){var a=!1,b=this;$(window).scroll(function(){a=!0}),this.intervalId=setInterval(function(){a&&(a=!1,b.toggleFixed())},200),this.reportEmptyFacepile(),this.showingFixed=!1,require("facebook").getLoginStatus(this.fnbind(function(a){a.status!=="unknown"&&this.$("#@facepile_container").show()}))},reportEmptyFacepile:function(){var a=!1,b=this,c=this.$("#@facepile_container"),d=this.$("#@facepile_container").height(),e=this.facepileIntervalId=setInterval(function(){var a=c.find("iframe");a.size()>0&&a.height()===0&&(b.serverCall("no_facepile").send(),clearInterval(e))},300);setTimeout(function(){clearInterval(e)},1e4)},toggleFixed:function(){var a=$(window).scrollTop(),b=this.$("#@signup_bubble_container").offset().top,c=this.$("#@signup_bubble_container").height(),d=30;this.showingFixed?b+c+d>=a&&(this.lookup("fixed").hide(),this.showingFixed=!1):b+c+d<a&&(this.lookup("fixed").show(),this.showingFixed=!0)},disableFixed:function(){this.lookup("fixed").hide(),this.showingFixed=!1,this.intervalId&&clearInterval(this.intervalId)},onUnload:function(){this.disableFixed(),clearInterval(this.facepileIntervalId)}});exports.QuestionPageSignupCallToActionOnAnswer=QuestionPageSignupCallToAction.extend({onLoad:function(){this._super.apply(this,arguments)},events:{"click #@signup":"onClickSignup"},onClickSignup:function(){return this.serverCall("attempt_login").liveMutate().send(),!1}});var QuestionPageSignupCallToActionFixed=exports.QuestionPageSignupCallToActionFixed=Component.extend({onLoad:function(){var a=this.$("#@bar");$(window).bind("load",function(){a.is(":visible")&&window.scrollBy(0,-a.height())})},show:function(){this.$("#@bar").slideDown()},hide:function(){this.$("#@bar").slideUp()},events:{"click #@signup":"onClickSignup"},onClickSignup:function(){return this.serverCall("attempt_login").liveMutate().send(),!1}});exports.QuestionPageSignupConnectCallToAction=QuestionPageSignupCallToAction.extend({onLoad:function(){this._super.apply(this,arguments),this.installMouseHandlers()},reportEmptyFacepile:function(){},connectButtonClicked:function(){this.$("#@initial_call_to_action").hide(),this.$("#@form_wrapper").show(),this.disableFixed()},clickHandlers:{facebook_connect_button:function(){this.connectButtonClicked(),this.lookup("form").lookup("facebook_connect_button").$("#@facebook_connect_button").click()},twitter_signup_link:function(){this.connectButtonClicked(),this.lookup("form").$("#@twitter_signup_link").click()},signup_email_button:function(){this.connectButtonClicked();var a=this.lookup("form");a.$("#@connected_photo_wrapper").hide(),a.bypassConnectLink()}}}),exports.QuestionPageSignupConnectCallToActionFixed=QuestionPageSignupCallToActionFixed.extend({onLoad:function(){this._super.apply(this,arguments),this.installMouseHandlers()},connectButtonClicked:function(){$("body,html").scrollTop(0),this.$("#@bar").hide(),this.parent().disableFixed()},clickHandlers:{facebook_connect_button:function(){this.connectButtonClicked(),this.parent().$("#@facebook_connect_button").click()},twitter_signup_link:function(){this.connectButtonClicked(),this.parent().$("#@twitter_signup_link").click()},signup_email_button:function(){this.connectButtonClicked(),this.parent().$("#@signup_email_button").click()}}});\'),require.installLazy("app/view/signup/google_",\'var W2=require("webnode2"),windowManager=require("window_manager"),Component=require("w2.quora").Component,connectToGoogleWithParams=require("google_").connectToGoogleWithParams,GoogleConnectButton=exports.GoogleConnectButton=Component.extend({oauthWindowOpen:!1,loginInterval:null,connect:function(){var a=this;if(a.oauthWindowOpen)return;a.oauthWindowOpen=!0,typeof localStorage!="undefined"&&(this.loginInterval=setInterval(function(){var b=localStorage.getItem("googloginresult");b!==null&&(b=JSON.parse(b),clearInterval(a.loginInterval),localStorage.removeItem("googloginresult"),a.oauthWindowOpen=!1,a.onLogin(b.accessToken,b.userData),a.trigger("goog_login",b.accessToken,b.userData))},300));var b=a.url,c=!1;a.perms=="no_contacts"?b=windowManager.addParamToURL(b,"perms","no_contacts"):a.perms=="googleplus"&&(b=windowManager.addParamToURL(b,"perms","googleplus"),c=!0);var d=connectToGoogleWithParams(b,c);d(function(b,c){a.oauthWindowOpen=!1,clearInterval(a.loginInterval),a.onLogin(b,c),a.trigger("goog_login",b,c)},function(){a.oauthWindowOpen=!1,clearInterval(a.loginInterval),a.onLoginFailed(),a.trigger("goog_login_failed")})},onLogin:function(a,b){},onLoginFailed:function(){this.serverCall("record_signup_step").kwargs({signup_action:"signup_google_connect_failed"}).send()}});exports.SignupGoogleConnectButton=GoogleConnectButton.extend({events:{"click #@google_connect_button":"onClick"},onClick:function(){return require("cookies").checkAgeGate(),this.connect(),this.serverCall("record_signup_step").kwargs({signup_action:"signup_connect_to_google"}).send(),!1},onLogin:function(a,b){this.serverCall("on_google_connected").send()},onLoginFailed:function(){this.serverCall("record_signup_step").kwargs({signup_action:"signup_google_connect_failed"}).send()}});\'),require.installLazy("app/view/post",\'var Component=require("w2.quora").Component,W2=require("webnode2"),cookies=require("cookies"),windowManager=require("window_manager"),InlineEditor=require("view/inline_editor").InlineEditor,VoteButtonBase=exports.VoteButtonBase=Component.extend({vote:function(){this.serverCall("vote").kwargs({pid:this.pid}).liveMutate().send()},onLoad:function(){this.$("#@vote_cancel").click(this.fnbind(function(){return this.serverCall("vote_cancel").kwargs({pid:this.pid}).liveMutate().send(),!1}))}});exports.VotePostUpButton=VoteButtonBase.extend({onLoad:function(){this._super.apply(this,arguments),this.$("#@vote").click(this.fnbind(function(){return cookies.setTlog({type:"PostVoteUp",pid:this.pid}),cookies.setQfeedLog(this,"PostUpvote"),cookies.setQueryLog(this,"PostUpvote"),this.vote(),!1}))}}),exports.VotePostDownButton=VoteButtonBase.extend({onLoad:function(){this._super.apply(this,arguments),this.$("#@vote").click(this.fnbind(function(){return cookies.setTlog({type:"PostVoteDown",pid:this.pid}),this.vote(),!1}))}}),exports.CreatePostBox=Component.extend({onLoad:function(){windowManager.getHash().substr(0,5)=="#post"&&this.expand(),this.$("#@fake").click(this.fnbind(function(){this.expand()})),this.$("#@add_title").click(this.fnbind(function(){return this.$("#@add_title").hide(),this.$("#@title_editor").show(),this.lookup("title").focus(),!1}))},expand:function(){this.$("#@fake").hide(),this.$("#@post_editor").show(),this.cQuery(":post.editor").focus()},reset:function(){this.cQuery(":post.editor").clear(),this.lookup("title").clear(),this.$("#@fake").show(),this.$("#@post_editor").hide()}}),exports.NewPostEditor=InlineEditor.extend({onLoad:function(){this._super.apply(this,arguments),this.disclaimer_update="",this.attempts=0},submitHandler:function(){this.input_button_obj.click(this.fnbind(function(){var a=!1,b=["what","when","why","how","who","where"],c=120,d=this.stripHTML(this.getTitle().html),e=this.stripHTML(this.get_value().html);return $.each(b,function(b,f){d.substr(0,f.length).toLowerCase()==f&&e.length<c*2&&(a=!0),e.substr(0,f.length).toLowerCase()==f&&e.length<c&&(a=!0)}),d.indexOf("?")==d.length-1&&(a=!0),e.indexOf("?")==e.length-1&&e.length<c&&(a=!0),a&&this.attempts<2?(this.attempts++,this._dialog=this.dialog().title("Add Question").load("dialog",{kwargs:{title:d,desc:e}})):(this.attempts=0,W2.InputValidator.validate(this,{valid:this.fnbind(this.trigger_request),invalid:function(){}})),!1}))},stripHTML:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.textContent||b.innerText},getTitle:function(){return this.parent().lookup("title").serialize()},_get_kwargs:function(){return{id:this.id,input:this.get_value(),title:this.getTitle(),disclaimer_update:this.disclaimer_update}},ajax_callback:function(a){this.parent().reset(),a&&a[0]=="/"?windowManager.navigateTo(a):a&&a=="close"&&window.close()},save_draft:function(a){var b=a?"save_draft":"save_draft_auto",c=this.serverCall(b).kwargs({title:this.getTitle(),content:this.get_value(),window_id:W2.windowId,draft_space:this.draft_space});a&&c.liveMutate(),c.send()}}),exports.PostExpanded=Component.extend({getFacebookLikeHoverArea:function(){return this.$("#@post").add(this.$("#@post_header"))}}),exports.PostTimestamp=Component.extend({onLoad:function(){this.$("#@link").mousedown(this.fnbind(function(){cookies.setQfeedLog(this,"PostTimestampClickthrough"),cookies.setQueryLog(this,"PostTimestampClickthrough")}))}}),exports.PostFeedItem=Component.extend({onLoad:function(){this.$("#@link").mousedown(this.fnbind(function(){cookies.setQfeedLog(this,"PostClickthrough"),cookies.setQueryLog(this,"PostClickthrough")})),this.$("#@rating").tooltip({contents:this.tt}).mouseover(this.fnbind(function(){this.mouseover_toggled||(this.mouseover_toggled=!0,this.child("expandable_qtext").$("#@truncated").mouseover())})).click(this.fnbind(function(){var a=this.child("expandable_qtext").$("#@truncated a.more_link");return a.length?a.click():(this.child("expandable_qtext").switchIfReady(),this.show()),!1})),this.child("expandable_qtext").setCallback(this.fnbind(function(){this.show()}))},getFacebookLikeHoverArea:function(){return this.$("#@post").add(this.$("#@rating_buttons"))},show:function(){this.$("#@rating").addClass("hidden"),this.$("#@votes").removeClass("hidden"),this.$("#@voting").removeClass("hidden"),this.$("#@actions").removeClass("hidden")}}),exports.PostDeleteLink=Component.extend({onLoad:function(){var a=this;this.$("#@delete").click(function(){return $(".content").dialog({title:"Delete Post",contents:"Are you sure you wish to delete this post?",buttons:{Ok:function(){a._request("delete")},Cancel:null}}),!1}),this.$("#@undelete").click(function(){return $(".content").dialog({title:"Restore Post",contents:"Are you sure you wish to restore this post?",buttons:{Ok:function(){a._request("undelete")},Cancel:null}}),!1})},_request:function(a){this.serverCall(a).kwargs({pid:this.pid}).liveMutate().send()}}),exports.PostSuggestedEditDiscardButtonInline=Component.extend({onLoad:function(){this.$("#@submit").click(this.fnbind(function(){return this.serverCall("discard_suggested_edit").kwargs({pid:this.pid}).liveMutate().send(),!1}))}}),exports.PostTopicRemoveLink=Component.extend({onLoad:function(){this.$("#@remove").tooltip({contents:"Remove Post from Topic"}).click(this.fnbind(function(){return this.serverCall("remove").liveMutate().send(),!1}))},hide:function(){this.$("#@button").hide()},show:function(){this.$("#@button").show()}}),exports.PostTrapDialog=Component.extend({onLoad:function(){this.$("%cancel").click(this.fnbind(function(){return W2.Dialog.dialogFor(this).close_(),!1})),this.$("#@show_add").click(this.fnbind(function(){return this.$("#@matches").hide(),this.$("#@add_question").show(),!1})),this.$("#@submit").click(this.fnbind(function(){return this.lookup("add_question_dialog").addQuestion(),!1}))}}),exports.PostTitleSuggestedEditDiscardButtonInline=Component.extend({onLoad:function(){this.$("#@submit").click(this.fnbind(function(){return this.serverCall("discard_suggested_title_edit").kwargs({pid:this.pid}).liveMutate().send(),!1}))}});\'),require.install("app/view/quote",function(require,a,b){function j(a,b,c){var d=h(a,b,c),e=d[0],f=d[1],g=d[2];if(f&&g)return k(e,f,g)}function k(a,b,c){assert(b||c),b&&c&&assert(b.node.parentNode===c.node.parentNode);var d=a.cloneNode(!1);b&&b.next&&d.appendChild(k(b.node,b.next,null));for(var e=b?b.node.nextSibling:a.firstChild,f=c?c.node:null;e&&e!==f;e=e.nextSibling)d.appendChild(e.cloneNode(!0));return c&&c.next&&d.appendChild(k(c.node,null,c.next)),d}var c=require("w2.quora").Component,d=require("qed/selection").Selection,e=require("qed/npd"),f=require("webnode2"),g=require("qed/util"),h=g.getPathsFromNCA,i=require("view/hover_menu").HoverMenu;a.QuoteSelector=c.extend({onLoad:function(){var a=this;this.minimum_text_length=0;var b=this.getContainer();this.selection=new d(window,b),a.mouseUpHandler=this.fnbind(this.handleMouseUp),a.mouseDownHandler=this.fnbind(this.handleMouseDown),$(document).mouseup(a.mouseUpHandler),$(b).mousedown(a.mouseDownHandler),this.$("#@container_boundary").append("&nbsp;&nbsp;"),a.doHideHandler=this.fnbind(this.doHide),$(document).mousedown(a.doHideHandler)},doHide:function(a){this.isQuoteButton(a.target)||(this.getHoverMenu()&&this.getHoverMenu().doHide(),this.isInHoverMenu(a.target)&&this.selection.remove())},onUnload:function(){$(document).unbind("mouseup",this.mouseUpHandler),$(document).unbind("mousedown",this.doHideHandler),$(this.getContainer()).unbind("mousedown",this.mouseDownHandler),delete this.selection,delete this.hover_menu,delete this.mouseUpHandler,delete this.mouseDownHandler},getContainer:function(){return this.$("#@container")[0]},isInHoverMenu:function(a){var b=this.getHoverMenu();return b?this.isQuoteButton(a)||$(a).parents(".hover_menu").length>0:!1},isQuoteButton:function(a){function f(){return d.length>0&&g.contains(d[0],a)||e.length>0&&g.contains(e[0],a)}var b=!1,c=this.getHoverMenu();if(!c)return!1;var d=c.$("#@quote_tooltip"),e=c.$("#@quote_button");b=f();if(b)return b;var h=c.getDialog();return h?(d=h.$("#@quote_tooltip"),e=h.$("#@quote_button"),b=f(),b):!1},getHoverMenu:function(){return this.hover_menu||(this.hover_menu=this.child("hover_menu")),this.hover_menu},clearSelectionTimeout:function(){var a=this.selectionTimeout;a&&clearTimeout(a),delete this.selectionTimeout},handleMouseDown:function(a){this.clearSelectionTimeout(),this.pendingMouseDown=!0},handleMouseUp:function(a){function h(a,b){e=f.getText(a,b);if(e&&$.trim($(e).text()).length>f.minimum_text_length){f.text=e;var c=f.getHoverMenu(),d=c.$("#@link");d.html("\xef\xbb\xbf");function h(a){return g.hasTag(a,"br")}function i(a){return a.nodeType===3&&$.trim(a.nodeValue)===""}var j=f.$("#@container_boundary")[0],k=b.parentNode;if(k===j)d.insertBefore(j);else{var l=!1,m=b.previousSibling;function n(){d.insertAfter(m.lastChild.lastChild),l=!0}if(m&&g.isList(m))n();else if(m&&g.isListItem(m))d.insertAfter(m.lastChild),l=!0;else if(!m&&g.isListItem(k)){var o=k.previousSibling;o?(d.insertAfter(o.lastChild),l=!0):m=k.parentNode.previousSibling}else!m&&k&&g.hasTag(k,"div")&&(m=k.previousSibling);if(m&&(h(m)||i(m))){while(h(m)||i(m))m=m.previousSibling||m.parentNode;m&&g.isList(m)?n():d[0]!==m&&(d.insertAfter(m),l=!0)}l||d.insertAfter(b)}c.recordPosition(d.position()),c.doHide(),c.loaded=!1,c.show()}}var b=a.target;if(this.isInHoverMenu(b))return;var c=this.pendingMouseDown;this.pendingMouseDown=!1;var d=this.getContainer();if(!c&&!g.contains(d,b))return;delete this.text;var e,f=this;this.selectionTimeout=setTimeout(function(){var a=f.selection;if(!a)return;var b=!1;try{b=a.record(),b&&a.modify(h)}finally{b&&(a.select(),f.$("#@container_boundary").css("height","0px").css("width","0px"))}},200)},getText:function(a,b){var c=j(a,b,this.getContainer());if(!c)return"";var d=document.createElement("div");return d.appendChild(c),e.cleanInnerHTML(d)}}),a.cloneSubtree=j,a.QuoteHoverMenuWidgetCode=c.extend({onLoad:function(){var a=this;setTimeout(function(){a.$("#@preview_code").select()},0)}}),a.QuoteDialog=c.extend({onLoad:function(){function b(){var b=a.lookup("hover_menu");return b.doHide(),a._dialog=a.dialog({width:585,verticalOffset:100}).title(a.title).load("quote_dialog_content",{kwargs:b.getKwargs()}),!1}var a=this,c=this.$("#@quote_button");this.$("#@preview_link").click(b),this.$("#@quote_dialog_tooltip").click(b),c.length>0&&c.click(b).mouseover(function(){a.parent().$("#@menu .hover_menu_nub").css({"background-position":"10px -7px"})}).mouseout(function(){a.parent().$("#@menu .hover_menu_nub").css({"background-position":"10px 0"})}).mousedown(function(){a.parent().$("#@menu .hover_menu_nub").css({"background-position":"10px -14px"})})},closeDialog:function(){this._dialog.close_()}}),a.QuoteDialogContent=c.extend({onLoad:function(){var a=this,b=this.$("#@quote_dialog_content_wrapper"),c=this.$("#@code"),d=this.$("#@w400"),e=this.$("#@w575"),g=$("<div>").addClass("embed_dialog_close_button").text("close");this.widthBorder=0,this.heightBorder=0,this.getSize(),c.select(),c.click(function(){c.select()}),d.click(function(){if(!d.hasClass("selected")){var b=$(".dialog").css("left");$(".dialog").css({width:"420px",left:parseInt(b)+87.5+"px"}),$(".dialog_wrapper").css({width:"400px"}),d.addClass("selected"),e.removeClass("selected"),a.getSize()}c.select()}),e.click(function(){if(!e.hasClass("selected")){var b=$(".dialog").css("left");$(".dialog").css({width:"595px",left:parseInt(b)-87.5+"px"}),$(".dialog_wrapper").css({width:"575px"}),e.addClass("selected"),d.removeClass("selected"),a.getSize()}c.select()}),g.click(function(){f.Dialog.dialogFor(a).close_()}),b.parents(".dialog_wrapper").append(g)},getSize:function(){var a=this.$("#@preview_wrapper");this.height=Math.round(a.height()+this.heightBorder),this.width=Math.round(a.width()+this.widthBorder),this.updateCode(this.width,this.height)},updateCode:function(a,b){this.serverCall("get_widget_code").kwargs({width:a,height:b}).success(this.fnbind(function(a){this.$("#@code").text(a).select()})).send()}}),a.QuoteCaptionEditBase=c.extend({onLoad:function(){this.$("#@save_button").click(this.fnbind(function(){var a=this.$("#@description").val();return a=a?$.trim(a):"",this.serverCall("save").kwargs({quote_id:this.quote_id,quote_id_hash:this.quote_id_hash,description:a}).liveMutate().success(this.fnbind(function(){this.close_dialog&&f.Dialog.dialogFor(this).close_()})).send(),!1}))}}),a.QuoteHoverMenu=i.extend({onLoad:function(){this.on=1,this._super.apply(this,arguments);var a=this,b=this.$("#@quote_button"),c=this.$("#@quote_preview");c.length>0&&b.click(this.fnbind(function(){this.$("#@quote_button").hide(),this.$("#@menu_contents").removeClass("quote-button"),this.$("#@menu .hover_menu_nub").css({background:"url(/static/images/tooltip_nub_up_4.png) 10px 0 no-repeat"}),this.serverCall("embed_quote").kwargs(this.getKwargs()).contentFor(c,{parentCID:this.cid}).success(function(){b.hide(),c.show()}).send()})),b.length>0&&b.mouseover(function(){a.$("#@menu .hover_menu_nub").css({"background-position":"10px -7px"})}).mouseout(function(){a.$("#@menu .hover_menu_nub").css({"background-position":"10px 0"})}).mousedown(function(){a.$("#@menu .hover_menu_nub").css({"background-position":"10px -14px"})})},hide:function(){clearTimeout(this.st)},showInner:function(){this._super(),setTimeout(this.fnbind(function(){var a=this.getKwargs();this.serverCall("log_selection").kwargs(a).send()}),100)},getSelector:function(){return this.lookup("quote_selector")},loadMenu:function(){if(!this.loaded&&!this.loading){this.loading=!0;var a=this.getSelector(),b=a.text;this.text=b,this.loaded=!0,this.loading=!1;var c=this.$("#@quote_button");c.show();var d=this.$("#@quote_preview");d.hide(),this.$("#@menu_contents").addClass("quote-button"),this.$("#@menu .hover_menu_nub").css({background:"url(/static/images/quote_tooltip_nub.png) 10px 0 no-repeat"})}},recordPosition:function(a){this.position=a},setPosition:function(){var a=this.$("#@link");a.css("position","absolute"),a.css("left",this.position.left),a.css("top",this.position.top),this._super.apply(this,arguments);var b=this.getDialog();if(b){var c=b.$("#@quote_dialog_tooltip");if(c.length>0){var a=this.$("#@link"),d=a.outerHeight(),e=this.$("#@menu").position();this.$("#@menu").css("top",e.top-d-1+"px")}else{var f=this.$("#@menu"),e=f.position();f.css("top",e.top+8+"px")}}a.removeAttr("style"),this.$("#@link_wrapper").append(a)},getDialog:function(){return this.child("quote_dialog")},getKwargs:function(){var a=this.getSelector();return{text:this.text,target:a.target}}}),a.QuoteEditHoverMenu=a.QuoteHoverMenu.extend({onLoad:function(){function b(){return a.doHide(),a.serverCall("edit_quote").kwargs(a.getKwargs()).send(),!1}var a=this,c=this.$("#@quote_button");c.length>0&&c.click(b).mouseover(function(){a.parent().$("#@menu .hover_menu_nub").css({"background-position":"10px -7px"})}).mouseout(function(){a.parent().$("#@menu .hover_menu_nub").css({"background-position":"10px 0"})}).mousedown(function(){a.parent().$("#@menu .hover_menu_nub").css({"background-position":"10px -14px"})})}})}),require.installLazy("app/view/content_views",\'var Component=require("w2.quora").Component;exports.UserContentAggregatedViewsSection=Component.extend({onLoad:function(){this.$("%@month_link").click(this.fnbind(function(a){var b=$(a.target).attr("index");return this.lookup("user_content_views_main").loadAggregatedSectionAtIndex(b),!1}))}}),exports.DeleteView=Component.extend({onLoad:function(){this.$("#@delete").click(this.fnbind(function(){return this.serverCall("delete_view").liveMutate().send(),!1}))}}),exports.UserContentViewsMain=Component.extend({loadAggregatedSectionAtIndex:function(a){this.$("#@aggregated_section").css("min-height",this.$("#@aggregated_section").height()),this.serverCall("load_aggregated_section").kwargs({index:a}).contentFor(this.$("#@aggregated_section"),{parentCID:this.cid}).send()}}),exports.ViewsSettingPopup=Component.extend({onLoad:function(){this.views_disabled&&this.dialog().title(this.title).cancel(null,"Close").ok(this.fnbind(function(){this.serverCall("enable_views").liveMutate().send()}),"Enable Public Views").html(this.content)}});\'),require.installLazy("app/view/funnel",\'var Component=require("w2.quora").Component,cookie=require("cookies").cookie,keystrokes=require("keystrokes"),funnelRideAlong;exports.FunnelState=Component.extend({onLoad:function(){var a=this;a.$("#@show_unstarted").click(function(){a.$("#@unstarted").show(),a.$("#@show_unstarted").hide()}),a.$("#@refresh").click(function(){location.reload()})}}),exports.ResetFunnelLink=Component.extend({onLoad:function(){var a=this;a.$("#@reset").click(function(){a.serverCall("reset_funnel").success(function(){location.reload()}).send()})}}),exports.ActivateFunnelLink=Component.extend({onLoad:function(){var a=this;a.$("#@activate").click(function(){a.serverCall("activate_funnel").liveMutate().send()})}}),keystrokes.on([70,48,70,48],function(){funnelRideAlong&&funnelRideAlong.toggle()}),exports.FunnelRideAlong=Component.extend({onLoad:function(){var a=this,b;funnelRideAlong=a,a.$("#@wrapper").hover(function(){b=clearTimeout(b),a.hovering=!0,a.slideIn()},function(){b=setTimeout(function(){a.hovering=!1,a.slideOut()},500)})},toggle:function(){this.$("#@wrapper").hasClass("hidden")?this.turnOn():this.turnOff()},turnOn:function(){this.$("#@wrapper").removeClass("hidden"),cookie("funnelRideAlongOnByDefault","1")},turnOff:function(){this.$("#@wrapper").addClass("hidden"),cookie("funnelRideAlongOnByDefault",null)},slideOut:function(){if(!this.hovering){var a=this.$("#@wrapper"),b=parseInt(a.css("padding"));a.animate({right:b-a.width()+50+"px"})}},slideIn:function(){this.$("#@wrapper").animate({right:"0px"})}});\'),require.install("app/view/moderation/flag",function(require,a,b){var c=require("w2.quora").Component,d=require("webnode2");a.AddFlag=c.extend({onLoad:function(){this.$("#@show_flag_dialog").click(this.fnbind(function(a){return this.showFlagDialog(),!1}))},showFlagDialog:function(){this.dialog().load("flag_dialog")}}),a.AddFlagDialog=c.extend({onLoad:function(){this.$("#@cancel").click(this.fnbind(function(){return d.Dialog.dialogFor(this).close_(),!1})),this.$("#@report").click(this.fnbind(function(){return this.report(),!1})),this.$("#@show_more_reasons a").click(this.fnbind(function(){return this.$("#@show_more_reasons, #@more_reasons").toggle(),!1})),this.$("%@flag_input").click(this.fnbind(function(a){this.$("#@report").removeAttr("disabled").removeClass("submit_button_disabled"),this.$("#@comment").show(),this.lookup("comment").focus(),this.$("#@required_comment_warning").hide();var b=parseInt($(a.target).eq(0).val()),c=parseInt(this.other_reason_id);b==c?this.$("#@optional_label").hide():this.$("#@optional_label").show()}))},showComment:function(){this.$("#@show_comment_link, #@show_comment_text, #@comment").toggle(),this.lookup("comment").focus()},getFlagReason:function(){return this.$("%@flag_input").filter(":checked").val()},report:function(){var a={flag_reason:this.getFlagReason(),comment:this.child("comment").serialize()};a["flag_reason"]==this.other_reason_id&&this.child("comment").isEmpty()?this.$("#@required_comment_warning").show():a["flag_reason"]!=null&&this.serverCall("flag_object").kwargs(a).liveMutate().success(this.fnbind(function(a){d.Dialog.dialogFor(this).close_(),a&&a[0]=="/"&&(window.location=a)})).send()}}),a.AggregatedFlagItem=c.extend({onLoad:function(){this.$("#@summary, #@more").click(this.fnbind(function(a){return this.$("#@all_flags").toggle(),!1}))}}),a.NeedsImprovementMenu=c.extend({onLoad:function(){this.$("#@menu_link").click(this.fnbind(function(){return this.$("#@menu_items").menu(this.$("#@menu_link")),!1}))},addTopic:function(a){if(!a)return;this.serverCall("add_topic").kwargs({qid:this.qid,tid:a}).liveMutate().send()}}),a.NeedsImprovementMenuItem=c.extend({onLoad:function(){this.$("#@ni_topic").click(this.fnbind(function(){return this.parent().addTopic(this.tid),!1}))}}),a.BoardActionMenu=c.extend({onLoad:function(){this.$("#@menu_link").click(this.fnbind(function(){return this.$("#@menu_items").menu(this.$("#@menu_link")),!1}))}}),a.DismissLink=c.extend({onLoad:function(){this.$("#@dismiss").click(this.fnbind(function(a){return this.dismiss(),!1}))},dismiss:function(){this.serverCall("dismiss").liveMutate().send()}}),a.TargetAndReports=c.extend({onLoad:function(){this.$("#@toggle").click(this.fnbind(function(a){return this.toggleComments(),!1}))},toggleComments:function(){this.$("#@reports").toggle()}})}),require.install("app/view/search_debug",function(require,a,b){var c=require("assert").ok,d=require("cookies").cookie,e=require("keystrokes"),f=require("w2.quora").Component,g;a.SearchRideAlong=f.extend({onLoad:function(){var a=this;g=a,d("searchRideAlongIsOn")==="1"&&a.turnOn(),a.$("#@report").click(function(){a.serverCall("record_query_terms").send()})},turnOn:function(){var a=this.$("#@wrapper"),b=this.$("#@iframe");a.hasClass("hidden")&&(a.removeClass("hidden"),d("searchRideAlongIsOn","1"))},turnOff:function(){this.$("#@wrapper").addClass("hidden"),d("searchRideAlongIsOn",null)},toggle:function(){this.$("#@wrapper").hasClass("hidden")?this.turnOn():this.turnOff()}}),e.on([83,48,83,48],function(){g&&g.toggle()})}),require("jquery"),!0,window.log&&window.log.enabled&&window.log("main","main-pre1 is loaded."),require("w2.timing").logTime("mainPre1ScriptEnd");rec(\'package\', \'Finish\', \'main-pre1.js\');'
p85
sb.